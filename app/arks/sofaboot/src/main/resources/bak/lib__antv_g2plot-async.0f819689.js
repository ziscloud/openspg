(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["lib_@antv/g2plot"],{"037f6583":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{BREAD_CRUMB_NAME:function(){return c;},DEFAULT_BREAD_CRUMB_CONFIG:function(){return u;},DrillDownAction:function(){return d;},HIERARCHY_DATA_TRANSFORM_PARAMS:function(){return l;},PADDING_TOP:function(){return s;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("ab8818cf"),o=n("9c508c0d"),s=5,c="drilldown-bread-crumb",u={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},l="hierarchy-data-transform-params",d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=u,e;}return(0,i.__extends)(e,t),e.prototype.click=function(){var t=(0,a.get)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb();},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),i=this.getButtonCfg().position,a={x:t.start.x,y:t.end.y-(n.height+2*s)};t.isPolar&&(a={x:0,y:0}),"bottom-left"===i&&(a={x:t.start.x,y:t.start.y});var o=r.Util.transform(null,[["t",a.x+0,a.y+n.height+s]]);e.setMatrix(o);}},e.prototype.back=function(){(0,a.size)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1));},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup();},e.prototype.drill=function(t){var e=this.context.view,n=(0,a.get)(e,["interactions","drill-down","cfg","transformData"],function(t){return t;}),r=n((0,i.__assign)({data:t.data},t[l]));e.changeData(r);for(var o=[],s=t;s;){var c=s.data;o.unshift({id:"".concat(c.name,"_").concat(s.height,"_").concat(s.depth),name:c.name,children:n((0,i.__assign)({data:c},t[l]))}),s=s.parent;}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o);},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=(0,a.last)(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup());}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,a.get)(t,["interactions","drill-down","cfg","drillDownConfig"]);return(0,o.deepAssign)(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg);},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show();},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:c});var r=0;n.forEach(function(o,s){var u=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(c,"_").concat(o.name,"_text"),attrs:(0,i.__assign)((0,i.__assign)({text:0!==s||(0,a.isNil)(e.rootText)?o.name:e.rootText},e.textStyle),{x:r,y:0})}),l=u.getBBox();if(r+=l.width+4,u.on("click",function(e){var i,r=e.target.get("id");if(r!==(null===(i=(0,a.last)(n))||void 0===i?void 0:i.id)){var o=n.slice(0,n.findIndex(function(t){return t.id===r;})+1);t.backTo(o);}}),u.on("mouseenter",function(t){var i;t.target.get("id")!==(null===(i=(0,a.last)(n))||void 0===i?void 0:i.id)?u.attr(e.activeTextStyle):u.attr({cursor:"default"});}),u.on("mouseleave",function(){u.attr(e.textStyle);}),s<n.length-1){var d=t.breadCrumbGroup.addShape({type:"text",name:"".concat(e.name,"_").concat(o.name,"_divider"),attrs:(0,i.__assign)((0,i.__assign)({text:e.dividerText},e.textStyle),{x:r,y:0})}).getBBox();r+=d.width+4;}});},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide();},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this);},e;}(r.Action);},"0b4b9656":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{TinyColumn:function(){return u;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("fc13d405"),o=n("8e951e45"),s=n("ab8818cf"),c={appendPadding:2,tooltip:(0,i.__assign)({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,s.get)(e,[0,"data","y"],0));},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,o.meta)({chart:e,options:n}),e.changeData((0,a.getTinyData)(t));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},"0dce1cf6":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Area:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("3a72052c"),o=n("516988db"),s=(0,n("7aaa5a7f").deepAssign)({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return s;},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,i=e.xField,r=e.yField,s=this.chart,c=this.options;(0,o.meta)({chart:s,options:c}),this.chart.changeData((0,a.getDataWhetherPercentage)(t,r,i,r,n));},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},"0df6886d":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"Stock",{enumerable:!0,get:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("aa9e02aa"),o=n("5f903d90"),s=n("68ad56d1"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return o.DEFAULT_OPTIONS;},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return a.adaptor;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData((0,s.getStockData)(t,e));},e;}(r.Plot);},"0e58907b":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{geometry:function(){return c;},getMappingField:function(){return o;},getMappingFunction:function(){return s;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("7aaa5a7f");function o(t,e){var n=t.type,a=t.xField,o=t.yField,s=t.colorField,c=t.shapeField,u=t.sizeField,l=t.styleField,d=t.rawFields,f=[];if(d=((0,r.isFunction)(d)?d(n,e):d)||[],"color"===e)f=(0,i.__spreadArray)([s||a],d,!0);else if("shape"===e)f=(0,i.__spreadArray)([c||a],d,!0);else if("size"===e)f=(0,i.__spreadArray)([u||a],d,!0);else{f=(0,i.__spreadArray)([a,o,s,c,u,l],d,!0);var p=["x","y","color","shape","size","style"].indexOf(e),g=f[p];f.splice(p,1),f.unshift(g);}var h=(0,r.uniq)(f.filter(function(t){return!!t;})),v="line"===n&&[a,o].includes(h.join("*"))?"":h.join("*");return{mappingFields:h,tileMappingField:v};}function s(t,e){if(e)return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r={};return t.forEach(function(t,e){r[t]=n[e];}),delete r.undefined,e(r);};}function c(t){var e=t.chart,n=t.options,c=n.type,u=n.args,l=n.mapping,d=n.xField,f=n.yField,p=n.colorField,g=n.shapeField,h=n.sizeField,v=n.tooltipFields,m=n.label,y=n.state,_=n.customInfo,b=n.customMappingField;if(!l)return t;var x=l.color,E=l.shape,A=l.size,F=l.style,S=l.tooltip,D=e[c](u).position("".concat(d,"*").concat(f));if((0,r.isString)(x))p?D.color(p,x):D.color(x);else if((0,r.isFunction)(x)){var I=o(n,"color"),N=I.mappingFields,O=I.tileMappingField;D.color(b||O,s(N,x));}else p&&D.color(p,x);if((0,r.isString)(E))g?D.shape(g,[E]):D.shape(E);else if((0,r.isFunction)(E)){var T=o(n,"shape"),N=T.mappingFields,O=T.tileMappingField;D.shape(O,s(N,E));}else g&&D.shape(g,E);if((0,r.isNumber)(A))h?D.size(h,A):D.size(A);else if((0,r.isFunction)(A)){var k=o(n,"size"),N=k.mappingFields,O=k.tileMappingField;D.size(O,s(N,A));}else h&&D.size(h,A);if((0,r.isFunction)(F)){var w=o(n,"style"),N=w.mappingFields,O=w.tileMappingField;D.style(O,s(N,F));}else(0,r.isObject)(F)&&D.style(F);if(!1===v?D.tooltip(!1):(0,r.isEmpty)(v)||D.tooltip(v.join("*"),s(v,S)),!1===m)D.label(!1);else if(m){var C=m.callback,L=m.fields,R=(0,i.__rest)(m,["callback","fields"]);D.label({fields:L||[f],callback:C,cfg:(0,a.transformLabel)(R)});}return y&&D.state(y),_&&D.customInfo(_),[d,f].filter(function(t){return t!==p;}).forEach(function(t){e.legend(t,!1);}),(0,i.__assign)((0,i.__assign)({},t),{ext:{geometry:D}});}},"14a0cf94":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"getTooltipMapping",{enumerable:!0,get:function(){return r;}});var i=n("ab8818cf");function r(t,e){if(!1===t)return{fields:!1};var n=(0,i.get)(t,"fields"),r=(0,i.get)(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r};}},"1c285725":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_OPTIONS:function(){return l;},FUNNEL_CONVERSATION:function(){return o;},FUNNEL_MAPPING_VALUE:function(){return a;},FUNNEL_PERCENT:function(){return r;},FUNNEL_TOTAL_PERCENT:function(){return s;},PLOYGON_X:function(){return c;},PLOYGON_Y:function(){return u;}});var i,r="$$percentage$$",a="$$mappingValue$$",o="$$conversion$$",s="$$totalPercentage$$",c="$$x$$",u="$$y$$",l={appendPadding:[0,80],minSize:0,maxSize:1,meta:((i={})[a]={min:0,max:1,nice:!1},i),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};},"1dc3db69":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return N;},interaction:function(){return I;},meta:function(){return F;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("61306248"),s=n("7aaa5a7f"),c=n("93517633"),u=n("1c285725"),l=n("31c05356"),d=n("dc0f1b10"),f=n("0e58907b"),p=n("14a0cf94"),g=n("a7c34e25");function h(t){var e=t.chart,n=t.options,i=n.data,a=void 0===i?[]:i,o=n.yField,s=(0,r.reduce)(a,function(t,e){return t+(e[o]||0);},0),c=(0,r.maxBy)(a,o)[o],l=(0,r.map)(a,function(t,e){var n=[],i=[];if(t[u.FUNNEL_TOTAL_PERCENT]=(t[o]||0)/s,e){var l=a[e-1][u.PLOYGON_X],d=a[e-1][u.PLOYGON_Y];n[0]=l[3],i[0]=d[3],n[1]=l[2],i[1]=d[2];}else n[0]=-.5,i[0]=1,n[1]=.5,i[1]=1;return i[2]=i[1]-t[u.FUNNEL_TOTAL_PERCENT],n[2]=(i[2]+1)/4,i[3]=i[2],n[3]=-n[2],t[u.PLOYGON_X]=n,t[u.PLOYGON_Y]=i,t[u.FUNNEL_PERCENT]=(t[o]||0)/c,t[u.FUNNEL_CONVERSATION]=[(0,r.get)(a,[e-1,o]),t[o]],t;});return e.data(l),t;}function v(t){var e=t.chart,n=t.options,i=n.xField,a=n.yField,o=n.color,s=n.tooltip,c=n.label,l=n.funnelStyle,d=n.state,g=(0,p.getTooltipMapping)(s,[i,a]),h=g.fields,v=g.formatter;return(0,f.geometry)({chart:e,options:{type:"polygon",xField:u.PLOYGON_X,yField:u.PLOYGON_Y,colorField:i,tooltipFields:(0,r.isArray)(h)&&h.concat([u.FUNNEL_PERCENT,u.FUNNEL_CONVERSATION]),label:c,state:d,mapping:{tooltip:v,color:o,style:l}}}),t;}function m(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t;}function y(t){return(0,g.conversionTagComponent)(function(t,e,n,r){return(0,i.__assign)((0,i.__assign)({},r),{start:[t[u.PLOYGON_X][1],t[u.PLOYGON_Y][1]],end:[t[u.PLOYGON_X][1]+.05,t[u.PLOYGON_Y][1]]});})(t),t;}function _(t){var e,n=t.chart,i=t.options,r=i.data,a=i.yField;return n.data(void 0===r?[]:r),n.scale(((e={})[a]={sync:!0},e)),t;}function b(t){var e=t.chart,n=t.options,i=n.seriesField,r=n.isTransposed,a=n.showFacetTitle;return e.facet("rect",{fields:[i],padding:[r?0:32,10,0,10],showTitle:a,eachView:function(e,n){(0,l.basicFunnel)((0,s.deepAssign)({},t,{chart:e,options:{data:n.data}}));}}),t;}var x=n("607883bf");function E(t){var e,n=t.options,i=n.compareField,a=n.xField,l=n.yField,d=n.locale,f=n.funnelStyle,p=n.data,g=(0,o.getLocale)(d),h={label:i?{fields:[a,l,i,u.FUNNEL_PERCENT,u.FUNNEL_CONVERSATION],formatter:function(t){return"".concat(t[l]);}}:{fields:[a,l,u.FUNNEL_PERCENT,u.FUNNEL_CONVERSATION],offset:0,position:"middle",formatter:function(t){return"".concat(t[a]," ").concat(t[l]);}},tooltip:{title:a,formatter:function(t){return{name:t[a],value:t[l]};}},conversionTag:{formatter:function(t){return"".concat(g.get(["conversionTag","label"]),": ").concat(c.conversionTagFormatter.apply(void 0,t[u.FUNNEL_CONVERSATION]));}}};return(i||f)&&(e=function(t){return(0,s.deepAssign)({},i&&{lineWidth:1,stroke:"#fff"},(0,r.isFunction)(f)?f(t):f);}),(0,s.deepAssign)({options:h},t,{options:{funnelStyle:e,data:(0,r.clone)(p)}});}function A(t){var e=t.options,n=e.compareField,i=e.dynamicHeight;return e.seriesField?(0,s.flow)(_,b)(t):n?(0,d.compareFunnel)(t):i?(0,s.flow)(h,v,m,y)(t):(0,l.basicFunnel)(t);}function F(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,o=n.xField,c=n.yField;return(0,s.flow)((0,a.scale)(((e={})[o]=i,e[c]=r,e)))(t);}function S(t){return t.chart.axis(!1),t;}function D(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t;}function I(t){var e=t.chart,n=t.options,a=n.interactions,o=n.dynamicHeight;return(0,r.each)(a,function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{});}),o?e.removeInteraction(x.FUNNEL_LEGEND_FILTER):e.interaction(x.FUNNEL_LEGEND_FILTER,{start:[(0,i.__assign)((0,i.__assign)({},x.interactionStart),{arg:n})]}),t;}function N(t){return(0,s.flow)(E,A,F,S,a.tooltip,I,D,a.animation,a.theme,(0,a.annotation)())(t);}},"1f714944":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return v;},statistic:function(){return p;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("97af6349"),s=n("a21e97d3"),c=n("7aaa5a7f"),u=n("c48a9596"),l=n("ec66c499");function d(t){var e=t.chart,n=t.options,i=n.percent,a=n.range,d=n.radius,f=n.innerRadius,p=n.startAngle,g=n.endAngle,h=n.axis,v=n.indicator,m=n.gaugeStyle,y=n.type,_=n.meter,b=a.color,x=a.width;if(v){var E=(0,l.getIndicatorData)(i),A=e.createView({id:u.INDICATEOR_VIEW_ID});A.data(E),A.point().position("".concat(u.PERCENT,"*1")).shape(v.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:v}),A.coordinate("polar",{startAngle:p,endAngle:g,radius:f*d}),A.axis(u.PERCENT,h),A.scale(u.PERCENT,(0,c.pick)(h,s.AXIS_META_CONFIG_KEYS));}var F=(0,l.getRangeData)(i,n.range),S=e.createView({id:u.RANGE_VIEW_ID});S.data(F);var D=(0,r.isString)(b)?[b,u.DEFAULT_COLOR]:b;return(0,o.interval)({chart:S,options:{xField:"1",yField:u.RANGE_VALUE,seriesField:u.RANGE_TYPE,rawFields:[u.PERCENT],isStack:!0,interval:{color:D,style:m,shape:"meter"===y?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:x,maxColumnWidth:x}}).ext.geometry.customInfo({meter:_}),S.coordinate("polar",{innerRadius:f,radius:d,startAngle:p,endAngle:g}).transpose(),t;}function f(t){var e;return(0,c.flow)((0,a.scale)(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[u.PERCENT]={},e)))(t);}function p(t,e){var n=t.chart,r=t.options,a=r.statistic,o=r.percent;if(n.getController("annotation").clear(!0),a){var s=a.content,u=void 0;s&&(u=(0,c.deepAssign)({},{content:"".concat((100*o).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},s)),(0,c.renderGaugeStatistic)(n,{statistic:(0,i.__assign)((0,i.__assign)({},a),{content:u})},{percent:o});}return e&&n.render(!0),t;}function g(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip((0,c.deepAssign)({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(t,e){var n=(0,r.get)(e,[0,"data",u.PERCENT],0);return"".concat((100*n).toFixed(2),"%");}},n)):e.tooltip(!1),t;}function h(t){return t.chart.legend(!1),t;}function v(t){return(0,c.flow)(a.theme,a.animation,d,f,g,p,a.interaction,(0,a.annotation)(),h)(t);}},"201109df":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return l;},meta:function(){return o.meta;}});var i=n("ec1a44ff"),r=n("97af6349"),a=n("7aaa5a7f"),o=n("f4a669be"),s=n("35d8da86"),c=n("fc13d405");function u(t){var e=t.chart,n=t.options,i=n.data,o=n.color,u=n.lineStyle,l=n.point,d=null==l?void 0:l.state,f=(0,c.getTinyData)(i);e.data(f);var p=(0,a.deepAssign)({},t,{options:{xField:s.X_FIELD,yField:s.Y_FIELD,line:{color:o,style:u},point:l}}),g=(0,a.deepAssign)({},p,{options:{tooltip:!1,state:d}});return(0,r.line)(p),(0,r.point)(g),e.axis(!1),e.legend(!1),t;}function l(t){return(0,a.flow)(u,o.meta,i.theme,i.tooltip,i.animation,(0,i.annotation)())(t);}},"20be2361":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"GLOBAL",{enumerable:!0,get:function(){return i;}}),n("ab8818cf");var i={locale:"en-US"};},"24c9f2e1":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adjustYMetaByZero:function(){return s;},processIllegalData:function(){return u;},transformDataToNodeLinkData:function(){return c;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("801d61de"),o=n("4b4e8580");function s(t,e){if(!t)return{};var n=t.filter(function(t){var n=(0,r.get)(t,[e]);return(0,r.isNumber)(n)&&!isNaN(n);}),i=n.every(function(t){return(0,r.get)(t,[e])>=0;}),a=n.every(function(t){return 0>=(0,r.get)(t,[e]);});return i?{min:0}:a?{max:0}:{};}function c(t,e,n,r,a){if(void 0===a&&(a=[]),!Array.isArray(t))return{nodes:[],links:[]};var s=[],c={},u=-1;return t.forEach(function(t){var l=t[e],d=t[n],f=t[r],p=(0,o.pick)(t,a);c[l]||(c[l]=(0,i.__assign)({id:++u,name:l},p)),c[d]||(c[d]=(0,i.__assign)({id:++u,name:d},p)),s.push((0,i.__assign)({source:c[l].id,target:c[d].id,value:f},p));}),{nodes:Object.values(c).sort(function(t,e){return t.id-e.id;}),links:s};}function u(t,e){var n=(0,r.filter)(t,function(t){var n=t[e];return null===n||"number"==typeof n&&!isNaN(n);});return(0,a.log)(a.LEVEL.WARN,n.length===t.length,"illegal data existed in chart data."),n;}},"2b9fb721":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"Pie",{enumerable:!0,get:function(){return l;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("796bb7ab"),o=n("7aaa5a7f"),s=n("4e824666"),c=n("b50ea139");n("ee9999ce");var u=n("6e42833d"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c.DEFAULT_OPTIONS;},e.prototype.changeData=function(t){this.chart.emit(r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,i=(0,o.processIllegalData)(e.data,n),a=(0,o.processIllegalData)(t,n);(0,u.isAllZero)(i,n)||(0,u.isAllZero)(a,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(a),(0,s.pieAnnotation)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return s.adaptor;},e;}(a.Plot);},"2cb2e283":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"transform",{enumerable:!0,get:function(){return o;}});var i=n("51e076c8"),r=n("35ba6257"),a=[1,0,0,0,1,0,0,0,1];function o(t,e){var n=e?(0,i.__spreadArray)([],e,!0):(0,i.__spreadArray)([],a,!0);return r.Util.transform(n,t);}},"2e8c04d3":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"point",{enumerable:!0,get:function(){return s;}});var i=n("51e076c8"),r=n("7aaa5a7f"),a=n("14a0cf94"),o=n("0e58907b");function s(t){var e=t.options,n=e.point,s=e.xField,c=e.yField,u=e.seriesField,l=e.sizeField,d=e.shapeField,f=e.tooltip,p=e.useDeferredLabel,g=(0,a.getTooltipMapping)(f,[s,c,u,l,d]),h=g.fields,v=g.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"point",colorField:u,shapeField:d,tooltipFields:h,mapping:(0,i.__assign)({tooltip:v},n),args:{useDeferredLabel:p}}})):t;}},"2f5d7251":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"pattern",{enumerable:!0,get:function(){return c;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("ab8818cf"),o=n("7aaa5a7f"),s=n("63bf4a89");function c(t){var e=this;return function(n){var c,u=n.options,l=n.chart,d=u.pattern;return d?(0,o.deepAssign)({},n,{options:((c={})[t]=function(n){for(var c,f,p,g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];var v=l.getTheme().defaultColor,m=v,y=null===(f=null===(c=l.geometries)||void 0===c?void 0:c[0])||void 0===f?void 0:f.getAttribute("color");if(y){var _=y.getFields()[0],b=(0,a.get)(n,_);m=r.Util.getMappingValue(y,b,(null===(p=y.values)||void 0===p?void 0:p[0])||v);}var x=d;"function"==typeof d&&(x=d.call(e,n,m)),x instanceof CanvasPattern==!1&&(x=(0,s.getCanvasPattern)((0,o.deepAssign)({},{cfg:{backgroundColor:m}},x)));var E=u[t];return(0,i.__assign)((0,i.__assign)({},"function"==typeof E?E.call.apply(E,(0,i.__spreadArray)([e,n],g,!1)):E||{}),{fill:x||m});},c)}):n;};}},"31c05356":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{basicFunnel:function(){return g;},conversionTag:function(){return p;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("0e58907b"),o=n("7aaa5a7f"),s=n("14a0cf94"),c=n("1c285725"),u=n("a7c34e25");function l(t){var e=t.chart,n=t.options,i=n.data,r=void 0===i?[]:i,a=n.yField,o=n.maxSize,s=n.minSize,c=(0,u.transformData)(r,r,{yField:a,maxSize:o,minSize:s});return e.data(c),t;}function d(t){var e=t.chart,n=t.options,i=n.xField,u=n.yField,l=n.color,d=n.tooltip,f=n.label,p=n.shape,g=n.funnelStyle,h=n.state,v=(0,s.getTooltipMapping)(d,[i,u]),m=v.fields,y=v.formatter;return(0,a.geometry)({chart:e,options:{type:"interval",xField:i,yField:c.FUNNEL_MAPPING_VALUE,colorField:i,tooltipFields:(0,r.isArray)(m)&&m.concat([c.FUNNEL_PERCENT,c.FUNNEL_CONVERSATION]),mapping:{shape:void 0===p?"funnel":p,tooltip:y,color:l,style:g},label:f,state:h}}),(0,o.findGeometry)(t.chart,"interval").adjust("symmetric"),t;}function f(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t;}function p(t){var e=t.options,n=t.chart,a=e.maxSize,o=(0,r.get)(n,["geometries","0","dataArray"],[]),s=(0,r.get)(n,["options","data","length"]),l=(0,r.map)(o,function(t){return(0,r.get)(t,["0","nextPoints","0","x"])*s-.5;});return(0,u.conversionTagComponent)(function(t,e,n,r){var o=a-(a-t[c.FUNNEL_MAPPING_VALUE])/2;return(0,i.__assign)((0,i.__assign)({},r),{start:[l[e-1]||e-.5,o],end:[l[e-1]||e-.5,o+.05]});})(t),t;}function g(t){return(0,o.flow)(l,d,f,p)(t);}},"32ce8eec":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Line:function(){return l;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("5cbd0835"),o=(0,n("7aaa5a7f").deepAssign)({},r.Plot.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),s=n("35ba6257"),c=n("ab8818cf"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return(0,i.__extends)(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,i=t.geometries.filter(function(t){return"point"===t.type;});(0,c.each)(i,function(t){(0,c.each)(t.elements,function(t){var e=-1!==(0,c.findIndex)(n,function(e){return e.data===t.data;});t.setState("active",e);});});}},e.prototype.reset=function(){var t=this.getView().geometries.filter(function(t){return"point"===t.type;});(0,c.each)(t,function(t){(0,c.each)(t.elements,function(t){t.setState("active",!1);});});},e.prototype.getView=function(){return this.context.view;},e;}(s.InteractionAction);(0,s.registerAction)("marker-active",u),(0,s.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return o;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,a.meta)({chart:e,options:n}),this.chart.changeData(t);},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return a.adaptor;},e;}(r.Plot);},"347c0f03":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Bar:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("3a72052c"),o=n("61188a8d"),s=(0,n("7aaa5a7f").deepAssign)({},r.Plot.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return s;},e.prototype.changeData=function(t){this.updateOption({data:t});var e,n,r=this.chart,s=this.options,c=s.isPercent,u=s.xField,l=s.yField,d=s.xAxis,f=s.yAxis;u=(e=[l,u])[0],l=e[1],d=(n=[f,d])[0],f=n[1];var p=(0,i.__assign)((0,i.__assign)({},s),{xField:u,yField:l,yAxis:f,xAxis:d});(0,o.meta)({chart:r,options:p}),r.changeData((0,a.getDataWhetherPercentage)(t,u,l,u,c));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},"35d8da86":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_OPTIONS:function(){return c;},DEFAULT_TOOLTIP_OPTIONS:function(){return s;},X_FIELD:function(){return a;},Y_FIELD:function(){return o;}});var i=n("51e076c8"),r=n("ab8818cf"),a="x",o="y",s={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,r.get)(e,[0,"data","y"],0));},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},c={appendPadding:2,tooltip:(0,i.__assign)({},s),animation:{}};},"370ba8f8":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return A;},meta:function(){return v;},tooltip:function(){return E;},transformOptions:function(){return g;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("e4b1a0ce"),o=n("ec1a44ff"),s=n("97af6349"),c=n("7aaa5a7f"),u=n("a550d78c"),l={exp:u.regressionExp,linear:u.regressionLinear,loess:u.regressionLoess,log:u.regressionLog,poly:u.regressionPoly,pow:u.regressionPow,quad:u.regressionQuad},d=function(t,e){var n=e.view,i=e.options,r=i.xField,a=i.yField,o=n.getScaleByField(r),s=n.getScaleByField(a),u=t.map(function(t){return n.getCoordinate().convert({x:o.scale(t[0]),y:s.scale(t[1])});});return(0,c.getSplinePath)(u,!1);},f=function(t){var e,n=t.options,i=n.xField,a=n.yField,o=n.data,s=n.regressionLine,c=s.type,u=void 0===c?"linear":c,f=s.algorithm,p=s.equation,g=null;return f?(e=(0,r.isArray)(f)?f:f(o),g=p):(e=l[u]().x(function(t){return t[i];}).y(function(t){return t[a];})(o),g=function(t,e){var n,i,r,a=function(t){var e;return Number.isFinite(t)?(void 0===e&&(e=4),Math.round(t*Math.pow(10,e))/Math.pow(10,e)):"?";};switch(t){case"linear":return"y = ".concat(a(e.a),"x + ").concat(a(e.b),", R^2 = ").concat(a(e.rSquared));case"exp":return"y = ".concat(a(e.a),"e^(").concat(a(e.b),"x), R^2 = ").concat(a(e.rSquared));case"log":return"y = ".concat(a(e.a),"ln(x) + ").concat(a(e.b),", R^2 = ").concat(a(e.rSquared));case"quad":return"y = ".concat(a(e.a),"x^2 + ").concat(a(e.b),"x + ").concat(a(e.c),", R^2 = ").concat(a(e.rSquared));case"poly":for(var o="y = ".concat(a(null===(n=e.coefficients)||void 0===n?void 0:n[0])," + ").concat(a(null===(i=e.coefficients)||void 0===i?void 0:i[1]),"x + ").concat(a(null===(r=e.coefficients)||void 0===r?void 0:r[2]),"x^2"),s=3;s<e.coefficients.length;++s)o+=" + ".concat(a(e.coefficients[s]),"x^").concat(s);return"".concat(o,", R^2 = ").concat(a(e.rSquared));case"pow":return"y = ".concat(a(e.a),"x^").concat(a(e.b),", R^2 = ").concat(a(e.rSquared));}return null;}(u,e)),[d(e,t),g];},p=function(t){var e,n=t.meta,a=void 0===n?{}:n,o=t.xField,s=t.yField,c=t.data,u=c[0][o],l=c[0][s],d=u>0,f=l>0;function p(t,e){var n=(0,r.get)(a,[t]);function i(t){return(0,r.get)(n,t);}var o={};return"x"===e?(0,r.isNumber)(u)&&((0,r.isNumber)(i("min"))||(o.min=d?0:2*u),(0,r.isNumber)(i("max"))||(o.max=d?2*u:0)):(0,r.isNumber)(l)&&((0,r.isNumber)(i("min"))||(o.min=f?0:2*l),(0,r.isNumber)(i("max"))||(o.max=f?2*l:0)),o;}return(0,i.__assign)((0,i.__assign)({},a),((e={})[o]=(0,i.__assign)((0,i.__assign)({},a[o]),p(o,"x")),e[s]=(0,i.__assign)((0,i.__assign)({},a[s]),p(s,"y")),e));};function g(t){var e=t.data,n=void 0===e?[]:e,i=t.xField,r=t.yField;if(n.length){for(var a=!0,o=!0,s=n[0],u=void 0,l=1;l<n.length&&(u=n[l],s[i]!==u[i]&&(a=!1),s[r]!==u[r]&&(o=!1),a||o);l++)s=u;var d=[];a&&d.push(i),o&&d.push(r);var f=(0,c.pick)(p(t),d);return(0,c.deepAssign)({},t,{meta:f});}return t;}function h(t){var e=t.chart,n=t.options,a=n.data,o=n.type,u=n.color,l=n.shape,d=n.pointStyle,f=n.shapeField,p=n.colorField,g=n.xField,h=n.yField,v=n.sizeField,m=n.size,y=n.tooltip;v&&(m||(m=[2,8]),(0,r.isNumber)(m)&&(m=[m,m])),y&&!y.fields&&(y=(0,i.__assign)((0,i.__assign)({},y),{fields:[g,h,p,v,f]})),e.data(a),(0,s.point)((0,c.deepAssign)({},t,{options:{seriesField:p,point:{color:u,shape:l,size:m,style:d},tooltip:y}}));var _=(0,c.findGeometry)(e,"point");return o&&_.adjust(o),t;}function v(t){var e,n=t.options,i=n.xAxis,r=n.yAxis,a=n.xField,s=n.yField,u=g(n);return(0,c.flow)((0,o.scale)(((e={})[a]=i,e[s]=r,e)))((0,c.deepAssign)({},t,{options:u}));}function m(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,a=n.xField,o=n.yField;return e.axis(a,i),e.axis(o,r),t;}function y(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,a=n.shapeField,o=n.sizeField,s=n.shapeLegend,c=n.sizeLegend,u=!1!==i;return r&&e.legend(r,!!u&&i),a&&(s?e.legend(a,s):e.legend(a,!1!==s&&i)),o&&e.legend(o,!!c&&c),u||s||c||e.legend(!1),t;}function _(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,o=(0,c.findGeometry)(e,"point");if(r){var s=r.callback,u=(0,i.__rest)(r,["callback"]);o.label({fields:[a],callback:s,cfg:(0,c.transformLabel)(u)});}else o.label(!1);return t;}function b(t){var e=t.options.quadrant,n=[];if(e){var r=e.xBaseline,a=void 0===r?0:r,s=e.yBaseline,u=void 0===s?0:s,l=e.labels,d=e.regionStyle,f=e.lineStyle,p={regionStyle:[{position:{start:[a,"max"],end:["max",u]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[a,u]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",u],end:[a,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[a,u],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",u],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",u],offsetX:10,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",u],offsetX:10,offsetY:10,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",u],offsetX:-10,offsetY:10,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};",,,".split(",").forEach(function(t,e){n.push((0,i.__assign)((0,i.__assign)({type:"region",top:!1},p.regionStyle[e].position),{style:(0,c.deepAssign)({},p.regionStyle[e].style,null==d?void 0:d[e])}),(0,i.__assign)({type:"text",top:!0},(0,c.deepAssign)({},p.labelStyle[e],null==l?void 0:l[e])));}),n.push({type:"line",top:!1,start:["min",u],end:["max",u],style:(0,c.deepAssign)({},p.lineStyle,f)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:(0,c.deepAssign)({},p.lineStyle,f)});}return(0,c.flow)((0,o.annotation)(n))(t);}function x(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var a=r.style,o=r.equationStyle,s=void 0===o?{}:o,c=r.top,u=r.showEquation,l=void 0!==u&&u,d={stroke:"#9ba29a",lineWidth:2,opacity:.5},p={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:void 0!==c&&c,render:function(t,r){var o=t.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),c=f({view:r,options:e}),u=c[0],g=c[1];o.addShape("path",{name:"regression-line",attrs:(0,i.__assign)((0,i.__assign)({path:u},d),a)}),l&&o.addShape("text",{name:"regression-equation",attrs:(0,i.__assign)((0,i.__assign)((0,i.__assign)({},p),s),{text:g})});}});}return t;}function E(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t;}function A(t){return(0,c.flow)(h,v,m,y,E,_,a.brushInteraction,o.slider,o.scrollbar,o.interaction,b,o.animation,o.theme,x)(t);}},"3a72052c":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{getDataWhetherPercentage:function(){return c;},getDeepPercent:function(){return s;},percent:function(){return o;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("e1bb0dc6");function o(t,e,n,o){var s=(0,r.reduce)(t,function(t,i){var r=i[n],o=t.has(r)?t.get(r):0,s=i[e];return o=(0,a.isRealNumber)(s)?o+s:o,t.set(r,o),t;},new Map);return(0,r.map)(t,function(t){var r,c=t[e],u=t[n],l=(0,a.isRealNumber)(c)&&0!==s.get(u)?c/s.get(u):0;return(0,i.__assign)((0,i.__assign)({},t),((r={})[o]=l,r));});}function s(t,e,n,o){var s=(0,r.reduce)(t,function(t,i){var o=(0,r.reduce)(n,function(t,e){return"".concat(t).concat(i[e]);},""),s=t.has(o)?t.get(o):0,c=i[e];return s=(0,a.isRealNumber)(c)?s+c:s,t.set(o,s),t;},new Map);return(0,r.map)(t,function(t){var c,u=t[e],l=(0,r.reduce)(n,function(e,n){return"".concat(e).concat(t[n]);},""),d=(0,a.isRealNumber)(u)&&0!==s.get(l)?u/s.get(l):0;return(0,i.__assign)((0,i.__assign)({},t),((c={})[o]=d,c));});}function c(t,e,n,i,r){return r?o(t,e,n,i):t;}},"44b9b466":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{COLOR_FIELD:function(){return a;},EDGES_VIEW_ID:function(){return s;},NODES_VIEW_ID:function(){return o;},X_FIELD:function(){return i;},Y_FIELD:function(){return r;}});var i="x",r="y",a="name",o="nodes",s="edges";},"4b4e8580":function(t,e,n){"use strict";function i(t,e){var n={};return null!==t&&"object"==typeof t&&e.forEach(function(e){var i=t[e];void 0!==i&&(n[e]=i);}),n;}n.d(e,"__esModule",{value:!0}),n.d(e,"pick",{enumerable:!0,get:function(){return i;}});},"4d7cfdcb":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{TinyArea:function(){return u;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("fc13d405"),o=n("f4a669be"),s=n("35d8da86"),c={appendPadding:2,tooltip:(0,i.__assign)({},s.DEFAULT_TOOLTIP_OPTIONS),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,o.meta)({chart:e,options:n}),e.changeData((0,a.getTinyData)(t));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},"4e824666":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return E;},interaction:function(){return x;},pieAnnotation:function(){return _;},transformStatisticOptions:function(){return y;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("97af6349"),s=n("0e58907b"),c=n("2f5d7251"),u=n("61306248"),l=n("7aaa5a7f"),d=n("b50ea139"),f=n("ee9999ce"),p=n("6e42833d");function g(t){var e=t.chart,n=t.options,r=n.data,a=n.angleField,s=n.colorField,c=n.color,u=n.pieStyle,d=n.shape,f=(0,l.processIllegalData)(r,a);if((0,p.isAllZero)(f,a)){var g="$$percentage$$";f=f.map(function(t){var e;return(0,i.__assign)((0,i.__assign)({},t),((e={})[g]=1/f.length,e));}),e.data(f);var h=(0,l.deepAssign)({},t,{options:{xField:"1",yField:g,seriesField:s,isStack:!0,interval:{color:c,shape:d,style:u},args:{zIndexReversed:!0,sortZIndex:!0}}});(0,o.interval)(h);}else{e.data(f);var h=(0,l.deepAssign)({},t,{options:{xField:"1",yField:a,seriesField:s,isStack:!0,interval:{color:c,shape:d,style:u},args:{zIndexReversed:!0,sortZIndex:!0}}});(0,o.interval)(h);}return t;}function h(t){var e,n=t.chart,i=t.options,r=i.meta,a=i.colorField,o=(0,l.deepAssign)({},r);return n.scale(o,((e={})[a]={type:"cat"},e)),t;}function v(t){var e=t.chart,n=t.options,i=n.radius,r=n.innerRadius,a=n.startAngle,o=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:i,innerRadius:r,startAngle:a,endAngle:o}}),t;}function m(t){var e=t.chart,n=t.options,a=n.label,o=n.colorField,s=n.angleField,c=e.geometries[0];if(a){var u=a.callback,d=(0,i.__rest)(a,["callback"]),f=(0,l.transformLabel)(d);if(f.content){var g=f.content;f.content=function(t,n,a){var c=t[o],u=t[s],d=e.getScaleByField(s),f=null==d?void 0:d.scale(u);return(0,r.isFunction)(g)?g((0,i.__assign)((0,i.__assign)({},t),{percent:f}),n,a):(0,r.isString)(g)?(0,l.template)(g,{value:u,name:c,percentage:(0,r.isNumber)(f)&&!(0,r.isNil)(u)?"".concat((100*f).toFixed(2),"%"):null}):g;};}var h=f.type?({inner:"",outer:"pie-outer",spider:"pie-spider"})[f.type]:"pie-outer",v=f.layout?(0,r.isArray)(f.layout)?f.layout:[f.layout]:[];f.layout=(h?[{type:h}]:[]).concat(v),c.label({fields:o?[s,o]:[s],callback:u,cfg:(0,i.__assign)((0,i.__assign)({},f),{offset:(0,p.adaptOffset)(f.type,f.offset),type:"pie"})});}else c.label(!1);return t;}function y(t){var e=t.innerRadius,n=t.statistic,i=t.angleField,a=t.colorField,o=t.meta,s=t.locale,c=(0,u.getLocale)(s);if(e&&n){var f=(0,l.deepAssign)({},d.DEFAULT_OPTIONS.statistic,n),g=f.title,h=f.content;return!1!==g&&(g=(0,l.deepAssign)({},{formatter:function(t){var e=t?t[a]:(0,r.isNil)(g.content)?c.get(["statistic","total"]):g.content;return((0,r.get)(o,[a,"formatter"])||function(t){return t;})(e);}},g)),!1!==h&&(h=(0,l.deepAssign)({},{formatter:function(t,e){var n=t?t[i]:(0,p.getTotalValue)(e,i),a=(0,r.get)(o,[i,"formatter"])||function(t){return t;};return t?a(n):(0,r.isNil)(h.content)?a(n):h.content;}},h)),(0,l.deepAssign)({},{statistic:{title:g,content:h}},t);}return t;}function _(t){var e=t.chart,n=y(t.options),i=n.innerRadius,r=n.statistic;return e.getController("annotation").clear(!0),(0,l.flow)((0,a.annotation)())(t),i&&r&&(0,l.renderStatistic)(e,{statistic:r,plotType:"pie"}),t;}function b(t){var e=t.chart,n=t.options,i=n.tooltip,a=n.colorField,o=n.angleField,c=n.data;if(!1===i)e.tooltip(i);else if(e.tooltip((0,l.deepAssign)({},i,{shared:!1})),(0,p.isAllZero)(c,o)){var u=(0,r.get)(i,"fields"),d=(0,r.get)(i,"formatter");(0,r.isEmpty)((0,r.get)(i,"fields"))&&(u=[a,o],d=d||function(t){return{name:t[a],value:(0,r.toString)(t[o])};}),e.geometries[0].tooltip(u.join("*"),(0,s.getMappingFunction)(u,d));}return t;}function x(t){var e=t.chart,n=y(t.options),a=n.interactions,o=n.statistic,s=n.annotations;return(0,r.each)(a,function(t){var n,a;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var c=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(c=[{trigger:"element:mouseenter",action:"".concat(f.PIE_STATISTIC,":change"),arg:{statistic:o,annotations:s}}]),(0,r.each)(null===(a=t.cfg)||void 0===a?void 0:a.start,function(t){c.push((0,i.__assign)((0,i.__assign)({},t),{arg:{statistic:o,annotations:s}}));}),e.interaction(t.type,(0,l.deepAssign)({},t.cfg,{start:c}));}else e.interaction(t.type,t.cfg||{});}),t;}function E(t){return(0,l.flow)((0,c.pattern)("pieStyle"),g,h,a.theme,v,a.legend,b,m,a.state,_,x,a.animation)(t);}},"516988db":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return p;},meta:function(){return u.meta;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("97af6349"),s=n("7aaa5a7f"),c=n("3a72052c"),u=n("5cbd0835");function l(t){var e=t.chart,n=t.options,a=n.data,u=n.areaStyle,l=n.areaShape,d=n.color,f=n.point,p=n.line,g=n.isPercent,h=n.xField,v=n.yField,m=n.tooltip,y=n.seriesField,_=n.startOnZero,b=null==f?void 0:f.state,x=(0,c.getDataWhetherPercentage)(a,v,h,v,g);e.data(x);var E=g?(0,i.__assign)({formatter:function(t){return{name:t[y]||t[h],value:(100*Number(t[v])).toFixed(2)+"%"};}},m):m,A=(0,s.deepAssign)({},t,{options:{area:{color:d,style:u,shape:l},point:f&&(0,i.__assign)({color:d},f),tooltip:E,label:void 0,args:{startOnZero:_}}}),F={chart:e,options:(0,s.deepAssign)({line:{size:2}},(0,r.omit)(n,["state"]),{line:p&&(0,i.__assign)({color:d},p),sizeField:y,state:null==p?void 0:p.state,tooltip:!1,label:void 0,args:{startOnZero:_}})},S=(0,s.deepAssign)({},A,{options:{tooltip:!1,state:b}});return(0,o.area)(A),(0,o.line)(F),(0,o.point)(S),t;}function d(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,o=(0,s.findGeometry)(e,"area");if(r){var c=r.fields,u=r.callback,l=(0,i.__rest)(r,["fields","callback"]);o.label({fields:c||[a],callback:u,cfg:(0,i.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,s.transformLabel)(l))});}else o.label(!1);return t;}function f(t){var e=t.chart,n=t.options,i=n.isStack,a=n.isPercent,o=n.seriesField;return(a||i)&&o&&(0,r.each)(e.geometries,function(t){t.adjust("stack");}),t;}function p(t){return(0,s.flow)(a.theme,(0,a.pattern)("areaStyle"),(0,a.transformations)("rect"),l,u.meta,f,u.axis,u.legend,a.tooltip,d,a.slider,(0,a.annotation)(),a.interaction,a.animation,a.limitInPlot)(t);}},"5a896988":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"TinyLine",{enumerable:!0,get:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("201109df"),o=n("35d8da86"),s=n("fc13d405"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return o.DEFAULT_OPTIONS;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart,n=this.options;(0,a.meta)({chart:e,options:n}),e.changeData((0,s.getTinyData)(t));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return a.adaptor;},e;}(r.Plot);},"5cbd0835":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return v;},adjust:function(){return h;},axis:function(){return f;},legend:function(){return p;},meta:function(){return l;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("97af6349"),s=n("7aaa5a7f"),c=n("24c9f2e1");function u(t){var e=t.chart,n=t.options,r=n.data,a=n.color,c=n.lineStyle,u=n.lineShape,l=n.point,d=n.area,f=n.seriesField,p=null==l?void 0:l.state,g=null==d?void 0:d.state;e.data(r);var h=(0,s.deepAssign)({},t,{options:{shapeField:f,line:{color:a,style:c,shape:u},point:l&&(0,i.__assign)({color:a,shape:"circle"},l),area:d&&(0,i.__assign)({color:a},d),label:void 0}}),v=(0,s.deepAssign)({},h,{options:{tooltip:!1,state:p}}),m=(0,s.deepAssign)({},h,{options:{tooltip:!1,state:g}});return(0,o.line)(h),(0,o.point)(v),(0,o.area)(m),t;}function l(t){var e,n,i=t.options,r=i.xAxis,o=i.yAxis,u=i.xField,l=i.yField,d=i.data;return(0,s.flow)((0,a.scale)(((e={})[u]=r,e[l]=o,e),((n={})[u]={type:"cat"},n[l]=(0,c.adjustYMetaByZero)(d,l),n)))(t);}function d(t){var e=t.chart,n=t.options.reflect;if(n){var i=n;(0,r.isArray)(i)||(i=[i]);var a=i.map(function(t){return["reflect",t];});e.coordinate({type:"rect",actions:a});}return t;}function f(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,a=n.xField,o=n.yField;return!1===i?e.axis(a,!1):e.axis(a,i),!1===r?e.axis(o,!1):e.axis(o,r),t;}function p(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t;}function g(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,o=(0,s.findGeometry)(e,"line");if(r){var c=r.fields,u=r.callback,l=(0,i.__rest)(r,["fields","callback"]);o.label({fields:c||[a],callback:u,cfg:(0,i.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,s.transformLabel)(l))});}else o.label(!1);return t;}function h(t){var e=t.chart;return t.options.isStack&&(0,r.each)(e.geometries,function(t){t.adjust("stack");}),t;}function v(t){return(0,s.flow)(u,l,h,a.theme,d,f,p,a.tooltip,g,a.slider,a.scrollbar,a.interaction,a.animation,(0,a.annotation)(),a.limitInPlot)(t);}},"5f903d90":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_OPTIONS:function(){return l;},DEFAULT_TOOLTIP_OPTIONS:function(){return u;},TREND_DOWN:function(){return c;},TREND_FIELD:function(){return o;},TREND_UP:function(){return s;},Y_FIELD:function(){return a;}});var i=n("796bb7ab"),r=n("7aaa5a7f"),a="$$stock-range$$",o="trend",s="up",c="down",u={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var i;if("x"===t){var r=n[0];i=r?r.title:e;}else i=e;return{position:"y"===t?"start":"end",content:i,style:{fill:"#dfdfdf"}};},textBackground:{padding:[2,4],style:{fill:"#666"}}}},l=(0,r.deepAssign)({},i.Plot.getDefaultOptions(),{tooltip:u,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});},"607883bf":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{FUNNEL_LEGEND_FILTER:function(){return d;},interactionStart:function(){return f;}});var i=n("35ba6257"),r=n("51e076c8"),a=n("ab8818cf"),o=n("31c05356"),s=n("a7c34e25"),c=n("dc0f1b10"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rendering=!1,e;}return(0,r.__extends)(e,t),e.prototype.change=function(t){var e=this;if(!this.rendering){var n=t.seriesField,i=t.compareField,u=i?c.compareConversionTag:o.conversionTag,l=this.context.view,d=n||i?l.views:[l];(0,a.map)(d,function(n,i){var o=n.getController("annotation"),c=(0,a.filter)((0,a.get)(o,["option"],[]),function(t){return t.name!==s.CONVERSION_TAG_NAME;});o.clear(!0),(0,a.each)(c,function(t){"object"==typeof t&&n.annotation()[t.type](t);});var l=(0,a.get)(n,["filteredData"],n.getOptions().data);u({chart:n,index:i,options:(0,r.__assign)((0,r.__assign)({},t),{filteredData:(0,s.transformData)(l,l,t)})}),n.filterData(l),e.rendering=!0,n.render(!0);});}this.rendering=!1;},e;}(i.Action),l="funnel-conversion-tag",d="funnel-afterrender",f={trigger:"afterrender",action:"".concat(l,":change")};(0,i.registerAction)(l,u),(0,i.registerInteraction)(d,{start:[f]});},"61188a8d":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return f;},geometry:function(){return d;},meta:function(){return o.meta;}});var i=n("51e076c8"),r=n("ec1a44ff"),a=n("7aaa5a7f"),o=n("9f3a3a84");function s(t){var e=t.options,n=e.xField,r=e.yField,a=e.xAxis,o=e.yAxis,s={left:"bottom",right:"top",top:"left",bottom:"right"},c=!1!==o&&(0,i.__assign)({position:s[(null==o?void 0:o.position)||"left"]},o),u=!1!==a&&(0,i.__assign)({position:s[(null==a?void 0:a.position)||"bottom"]},a);return(0,i.__assign)((0,i.__assign)({},t),{options:(0,i.__assign)((0,i.__assign)({},e),{xField:r,yField:n,xAxis:c,yAxis:u})});}function c(t){var e=t.options.label;return!e||e.position||(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),(0,a.deepAssign)({},t,{options:{label:e}});}function u(t){var e=t.options,n=e.seriesField,r=e.isStack,o=e.legend;return n?!1!==o&&(o=(0,i.__assign)({position:r?"top-left":"right-top"},o||{})):o=!1,(0,a.deepAssign)({},t,{options:{legend:o}});}function l(t){var e=[{type:"transpose"},{type:"reflectY"}].concat(t.options.coordinate||[]);return(0,a.deepAssign)({},t,{options:{coordinate:e}});}function d(t){var e=t.chart,n=t.options,r=n.barStyle,a=n.barWidthRatio,s=n.minBarWidth,c=n.maxBarWidth,u=n.barBackground;return(0,o.adaptor)({chart:e,options:(0,i.__assign)((0,i.__assign)({},n),{columnStyle:r,columnWidthRatio:a,minColumnWidth:s,maxColumnWidth:c,columnBackground:u})},!0);}function f(t){return(0,a.flow)(s,c,u,r.tooltip,l,d)(t);}},61306248:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{getLocale:function(){return c;},registerLocale:function(){return s;}});var i=n("ab8818cf"),r=n("7aaa5a7f"),a=n("20be2361"),o={};function s(t,e){o[t]=e;}function c(t){return{get:function(e,n){return(0,r.template)((0,i.get)(o[t],e)||(0,i.get)(o[a.GLOBAL.locale],e)||(0,i.get)(o["en-US"],e)||e,n);}};}},"63bf4a89":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{getCanvasPattern:function(){return p;}});var i=n("7aaa5a7f");function r(){return"object"==typeof window?null==window?void 0:window.devicePixelRatio:2;}function a(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),i=r();return n.width=t*i,n.height=e*i,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px"),n.getContext("2d").scale(i,i),n;}function o(t,e,n,i){void 0===i&&(i=n);var r=e.backgroundColor,a=e.opacity;t.globalAlpha=a,t.fillStyle=r,t.beginPath(),t.fillRect(0,0,n,i),t.closePath();}function s(t,e,n){var i=t+e;return n?2*i:i;}function c(t,e){return e?[[1/4*t,1/4*t],[3/4*t,3/4*t]]:[[.5*t,.5*t]];}function u(t,e){var n=e*Math.PI/180;return{a:1/t*Math.cos(n),b:1/t*Math.sin(n),c:-(1/t*Math.sin(n)),d:1/t*Math.cos(n),e:0,f:0};}var l={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0},d={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2},f={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function p(t){var e,n=t.type,p=t.cfg;switch(n){case"dot":e=function(t){var e=(0,i.deepAssign)({},l,t),n=e.size,d=e.padding,f=e.isStagger,p=e.rotation,g=s(n,d,f),h=c(g,f),v=a(g,g),m=v.getContext("2d");o(m,e,g);for(var y=0;y<h.length;y++){var _=h[y];!function(t,e,n,i){var r=e.size,a=e.fill,o=e.lineWidth,s=e.stroke,c=e.fillOpacity;t.beginPath(),t.globalAlpha=c,t.fillStyle=a,t.strokeStyle=s,t.lineWidth=o,t.arc(n,i,r/2,0,2*Math.PI,!1),t.fill(),o&&t.stroke(),t.closePath();}(m,e,_[0],_[1]);}var b=m.createPattern(v,"repeat");if(b){var x=u(r(),p);b.setTransform(x);}return b;}(p);break;case"line":e=function(t){var e,n,s,c,l=(0,i.deepAssign)({},d,t),f=l.spacing,p=l.rotation,g=l.lineWidth,h=f+g||1,v=f+g||1,m="\n            M 0 0 L ".concat(h," 0\n            M 0 ").concat(v," L ").concat(h," ").concat(v,"\n            "),y=a(h,v),_=y.getContext("2d");o(_,l,h,v),e=l.stroke,n=l.lineWidth,s=l.strokeOpacity,c=new Path2D(m),_.globalAlpha=s,_.lineCap="square",_.strokeStyle=n?e:"transparent",_.lineWidth=n,_.stroke(c);var b=_.createPattern(y,"repeat");if(b){var x=u(r(),p);b.setTransform(x);}return b;}(p);break;case"square":e=function(t){var e=(0,i.deepAssign)({},f,t),n=e.size,l=e.padding,d=e.isStagger,p=e.rotation,g=s(n,l,d),h=c(g,d),v=a(g,g),m=v.getContext("2d");o(m,e,g);for(var y=0;y<h.length;y++){var _=h[y];!function(t,e,n,i){var r=e.stroke,a=e.size,o=e.fill,s=e.lineWidth,c=e.fillOpacity;t.globalAlpha=c,t.strokeStyle=r,t.lineWidth=s,t.fillStyle=o,t.strokeRect(n-a/2,i-a/2,a,a),t.fillRect(n-a/2,i-a/2,a,a);}(m,e,_[0],_[1]);}var b=m.createPattern(v,"repeat");if(b){var x=u(r(),p);b.setTransform(x);}return b;}(p);}return e;}},67788127:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_OPTIONS:function(){return s;},HISTOGRAM_X_FIELD:function(){return a;},HISTOGRAM_Y_FIELD:function(){return o;}});var i=n("796bb7ab"),r=n("7aaa5a7f"),a="range",o="count",s=(0,r.deepAssign)({},i.Plot.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});},"68ad56d1":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"getStockData",{enumerable:!0,get:function(){return o;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("5f903d90");function o(t,e){return(0,r.map)(t,function(t){var n=t&&(0,i.__assign)({},t);if((0,r.isArray)(e)&&n){var o=e[0],s=e[1],c=e[2],u=e[3];n[a.TREND_FIELD]=n[o]<=n[s]?a.TREND_UP:a.TREND_DOWN,n[a.Y_FIELD]=[n[o],n[s],n[c],n[u]];}return n;});}},"6e42833d":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptOffset:function(){return o;},getTotalValue:function(){return a;},isAllZero:function(){return s;}});var i=n("ab8818cf"),r=n("7aaa5a7f");function a(t,e){var n=null;return(0,i.each)(t,function(t){"number"==typeof t[e]&&(n+=t[e]);}),n;}function o(t,e){var n;switch(t){case"inner":if(n="-30%",(0,i.isString)(e)&&e.endsWith("%"))return .01*parseFloat(e)>0?n:e;return e<0?e:n;case"outer":if(n=12,(0,i.isString)(e)&&e.endsWith("%"))return .01*parseFloat(e)<0?n:e;return e>0?e:n;default:return e;}}function s(t,e){return(0,i.every)((0,r.processIllegalData)(t,e),function(t){return 0===t[e];});}},"796bb7ab":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{PLOT_CONTAINER_OPTIONS:function(){return d;},Plot:function(){return f;}});var i=n("777fffbe"),r=n("51e076c8"),a=i._(n("d9911ccf")),o=n("35ba6257"),s=n("ab8818cf"),c=n("1f784332"),u=n("7aaa5a7f"),l="data-chart-source-type",d=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],f=function(t){function e(e,n){var i=t.call(this)||this;return i.container="string"==typeof e?document.getElementById(e):e,i.options=(0,u.deepAssign)({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i;}return(0,r.__extends)(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0};},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,i=t.defaultInteractions;this.chart=new o.Chart((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),(0,u.pick)(this.options,d)),{defaultInteractions:i})),this.container.setAttribute(l,"G2Plot");},e.prototype.getChartSize=function(t,e){var n=(0,u.getContainerSize)(this.container);return{width:t||n.width||400,height:e||n.height||400};},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(e){(null==e?void 0:e.type)&&t.emit(e.type,e);});},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor();},e.prototype.update=function(t){this.updateOption(t),this.render();},e.prototype.updateOption=function(t){this.options=(0,u.deepAssign)({},this.options,t);},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=(0,u.getAllElementsRecursively)(this.chart);(0,s.each)(i,function(i){e(i.getData())&&i.setState(t,n);});},e.prototype.getStates=function(){var t=(0,u.getAllElementsRecursively)(this.chart),e=[];return(0,s.each)(t,function(t){var n=t.getData(),i=t.getStates();(0,s.each)(i,function(i){e.push({data:n,state:i,geometry:t.geometry,element:t});});}),e;},e.prototype.changeData=function(t){this.update({data:t});},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e);},e.prototype.addAnnotations=function(t,e){e=e||this.chart;var n=(0,r.__spreadArray)([],t,!0),i=e.getController("annotation"),a=i.getComponents().map(function(t){return t.extra;});i.clear(!0);for(var o=0;o<a.length;o++)!function(t){var e=a[t],r=n.findIndex(function(t){return t.id&&t.id===e.id;});-1!==r&&(e=(0,u.deepAssign)({},e,n[r]),n.splice(r,1)),i.annotation(e);}(o);n.forEach(function(t){return i.annotation(t);}),e.render(!0);},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map(function(t){return t.extra;});e.clear(!0);for(var i=0;i<n.length;i++)!function(i){var r=n[i];t.find(function(t){return t.id&&t.id===r.id;})||e.annotation(r);}(i);this.chart.render(!0);},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(l);},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,i=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=i,t({chart:this.chart,options:this.options});},e.prototype.triggerResize=function(){this.chart.forceFit();},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=(0,c.bind)(this.container,function(){var e=(0,u.getContainerSize)(t.container),n=e.width,i=e.height;(n!==t.chart.width||i!==t.chart.height)&&t.triggerResize();}));}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0);},e;}(a.default);},"7aaa5a7f":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{LEVEL:function(){return p.LEVEL;},addViewAnimation:function(){return F.addViewAnimation;},deepAssign:function(){return o.deepAssign;},findGeometry:function(){return l;},findViewById:function(){return F.findViewById;},flow:function(){return c;},getAllElements:function(){return d;},getAllElementsRecursively:function(){return function t(e){return 0>=(0,u.get)(e,["views","length"],0)?d(e):(0,u.reduce)(e.views,function(e,n){return e.concat(t(n));},d(e));};},getAllGeometriesRecursively:function(){return f;},getContainerSize:function(){return s;},getSiblingViews:function(){return F.getSiblingViews;},getSplinePath:function(){return b;},getViews:function(){return F.getViews;},isBetween:function(){return v.isBetween;},isRealNumber:function(){return v.isRealNumber;},log:function(){return p.log;},pick:function(){return x.pick;},renderGaugeStatistic:function(){return E.renderGaugeStatistic;},renderStatistic:function(){return E.renderStatistic;},template:function(){return A;},transformLabel:function(){return h;}});var i,r=n("852bbaa9"),a=n("d1751d7c");a._(n("24c9f2e1"),e);var o=n("9c508c0d");function s(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)};}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(t,e){return e(t);},e);};}var u=n("ab8818cf");function l(t,e){return t.geometries.find(function(t){return t.type===e;});}function d(t){return(0,u.reduce)(t.geometries,function(t,e){return t.concat(e.elements);},[]);}function f(t){return 0>=(0,u.get)(t,["views","length"],0)?t.geometries:(0,u.reduce)(t.views,function(t,e){return t.concat(e.geometries);},t.geometries);}var p=n("801d61de");n("caf8b988");var g=n("51e076c8");function h(t){if(!(0,u.isType)(t,"Object"))return t;var e=(0,g.__assign)({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e;}(0,u.memoize)(function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,c=(i||(i=document.createElement("canvas").getContext("2d")),i);return c.font=[o,a,s,"".concat(n,"px"),void 0===r?"sans-serif":r].join(" "),c.measureText((0,u.isString)(t)?t:"").width;},function(t,e){return void 0===e&&(e={}),(0,g.__spreadArray)([t],(0,u.values)(e),!0).join("");});var v=n("e1bb0dc6");a._(n("8db01f92"),e);var m=n("dea21d5c"),y=r._(m),_=function(t,e,n,i){var r,a,o,s,c=[],u=!!i;if(u){o=[1/0,1/0],s=[-1/0,-1/0];for(var l=0,d=t.length;l<d;l++){var f=t[l];o=y.min([0,0],o,f),s=y.max([0,0],s,f);}o=y.min([0,0],o,i[0]),s=y.max([0,0],s,i[1]);}for(var l=0,p=t.length;l<p;l++){var f=t[l];if(n)r=t[l?l-1:p-1],a=t[(l+1)%p];else if(0===l||l===p-1){c.push(f);continue;}else r=t[l-1],a=t[l+1];var g=[0,0];g=y.sub(g,a,r),g=y.scale(g,g,e);var h=y.distance(f,r),v=y.distance(f,a),m=h+v;0!==m&&(h/=m,v/=m);var _=y.scale([0,0],g,-h),b=y.scale([0,0],g,v),x=y.add([0,0],f,_),E=y.add([0,0],f,b);u&&(x=y.max([0,0],x,o),x=y.min([0,0],x,s),E=y.max([0,0],E,o),E=y.min([0,0],E,s)),c.push(x),c.push(E);}return n&&c.push(c.shift()),c;};function b(t,e,n){var i=[],r=t[0],a=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var a=t[i];n.push(["L",a.x,a.y]);}e&&n.push(["Z"]);}return n;}(t,e);for(var o=0,s=t.length;o<s;o++){var c=t[o];a&&a.x===c.x&&a.y===c.y||(i.push(c.x),i.push(c.y),a=c);}var u=function(t,e,n){for(var i,r,a,o=!!e,s=[],c=0,u=t.length;c<u;c+=2)s.push([t[c],t[c+1]]);for(var l=_(s,.4,o,n),d=s.length,f=[],c=0;c<d-1;c++)i=l[2*c],r=l[2*c+1],a=s[c+1],f.push(["C",i[0],i[1],r[0],r[1],a[0],a[1]]);return o&&(i=l[d],r=l[d+1],a=s[0],f.push(["C",i[0],i[1],r[0],r[1],a[0],a[1]])),f;}(i,e,n||[[0,0],[1,1]]);return u.unshift(["M",r.x,r.y]),u;}var x=n("4b4e8580"),E=n("ad9f2fcd");function A(t,e){return e?(0,u.reduce)(e,function(t,e,n){return t.replace(RegExp("{\\s*".concat(n,"\\s*}"),"g"),e);},t):t;}var F=n("9fd0eafe");},"801d61de":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{LEVEL:function(){return r;},log:function(){return s;}});var i,r,a=n("51e076c8");function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=0;return"".concat("AntV/G2Plot",": ").concat(t.replace(/%s/g,function(){return"".concat(e[i++]);}));}function s(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e||console[t](o.apply(void 0,(0,a.__spreadArray)([n],i,!1)));}(i=r||(r={})).ERROR="error",i.WARN="warn",i.INFO="log";},"8657db6c":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"getProgressData",{enumerable:!0,get:function(){return a;}});var i=n("ab8818cf"),r=n("e1bb0dc6");function a(t){var e=(0,i.clamp)((0,r.isRealNumber)(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}];}},"8db01f92":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{getAdjustAppendPadding:function(){return a;},normalPadding:function(){return r;},resolveAllPadding:function(){return o;}});var i=n("ab8818cf");function r(t){if((0,i.isNumber)(t))return[t,t,t,t];if((0,i.isArray)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t;}return[0,0,0,0];}function a(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var i=r(t),a=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[i[0]+a[0],i[1]+a[1],i[2]+a[2],i[3]+a[3]];}function o(t){var e=t.map(function(t){return r(t);}),n=[0,0,0,0];return e.length>0&&(n=n.map(function(t,n){return e.forEach(function(i,r){t+=e[r][n];}),t;})),n;}},"8dba4458":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Scatter:function(){return u;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("796bb7ab"),o=n("7aaa5a7f"),s=n("370ba8f8"),c=(0,o.deepAssign)({},a.Plot.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});n("b1db4504");var u=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.type="scatter",a.on(r.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(t){var e,n,o=a.options,c=a.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===r.BRUSH_FILTER_EVENTS.FILTER){var u=a.chart.filterData(a.chart.getData());(0,s.meta)({chart:c,options:(0,i.__assign)((0,i.__assign)({},o),{data:u})});}(null===(n=t.data)||void 0===n?void 0:n.source)===r.BRUSH_FILTER_EVENTS.RESET&&(0,s.meta)({chart:c,options:o});}),a;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c;},e.prototype.changeData=function(t){this.updateOption((0,s.transformOptions)((0,o.deepAssign)({},this.options,{data:t})));var e=this.options,n=this.chart;(0,s.meta)({chart:n,options:e}),this.chart.changeData(t);},e.prototype.getSchemaAdaptor=function(){return s.adaptor;},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e;}(a.Plot);},"8e951e45":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return l;},meta:function(){return o.meta;}});var i=n("ec1a44ff"),r=n("97af6349"),a=n("7aaa5a7f"),o=n("f4a669be"),s=n("35d8da86"),c=n("fc13d405");function u(t){var e=t.chart,n=t.options,i=n.data,o=n.color,u=n.columnStyle,l=n.columnWidthRatio,d=(0,c.getTinyData)(i);e.data(d);var f=(0,a.deepAssign)({},t,{options:{xField:s.X_FIELD,yField:s.Y_FIELD,widthRatio:l,interval:{style:u,color:o}}});return(0,r.interval)(f),e.axis(!1),e.legend(!1),e.interaction("element-active"),t;}function l(t){return(0,a.flow)(i.theme,(0,i.pattern)("columnStyle"),u,o.meta,i.tooltip,i.animation,(0,i.annotation)())(t);}},93517633:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"conversionTagFormatter",{enumerable:!0,get:function(){return r;}});var i=n("ab8818cf");function r(t,e){return(0,i.isNumber)(t)&&(0,i.isNumber)(e)&&(0!==t||0!==e)?t===e?"100%":0===t?"\u221E":"".concat((100*e/t).toFixed(2),"%"):"-";}},"97af6349":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{area:function(){return s;},edge:function(){return u;},interval:function(){return d;},line:function(){return f;},point:function(){return p.point;},polygon:function(){return g.polygon;},schema:function(){return h;},violin:function(){return v;}});var i=n("ab8818cf"),r=n("7aaa5a7f"),a=n("14a0cf94"),o=n("0e58907b");function s(t){var e=t.options,n=e.area,s=e.xField,c=e.yField,u=e.seriesField,l=e.smooth,d=e.tooltip,f=e.useDeferredLabel,p=(0,a.getTooltipMapping)(d,[s,c,u]),g=p.fields,h=p.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"area",colorField:u,tooltipFields:g,mapping:(0,i.deepMix)({shape:l?"smooth":"area",tooltip:h},n),args:{useDeferredLabel:f}}})):t;}var c=n("51e076c8");function u(t){var e=t.options,n=e.edge,i=e.xField,s=e.yField,u=e.seriesField,l=e.tooltip,d=e.useDeferredLabel,f=(0,a.getTooltipMapping)(l,[i,s,u]),p=f.fields,g=f.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"edge",colorField:u,tooltipFields:p,mapping:(0,c.__assign)({tooltip:g},n),args:{useDeferredLabel:d}}})):t;}var l=n("35ba6257");function d(t){var e,n,s,u,d,f,p,g,h,v,m,y,_=t.options,b=_.xField,x=_.yField,E=_.interval,A=_.seriesField,F=_.tooltip,S=_.minColumnWidth,D=_.maxColumnWidth,I=_.columnBackground,N=_.dodgePadding,O=_.intervalPadding,T=_.useDeferredLabel,k=(0,a.getTooltipMapping)(F,[b,x,A]),w=k.fields,C=k.formatter,L=(E?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"interval",colorField:A,tooltipFields:w,mapping:(0,c.__assign)({tooltip:C},E),args:{dodgePadding:N,intervalPadding:O,minColumnWidth:S,maxColumnWidth:D,background:I,useDeferredLabel:T}}})):t).ext;return n=(e=(0,c.__assign)((0,c.__assign)({},t),{ext:L})).chart,s=e.options,u=e.ext,d=s.seriesField,f=s.isGroup,p=s.isStack,g=s.marginRatio,h=s.widthRatio,v=s.groupField,m=s.theme,y=[],d&&(f&&y.push({type:"dodge",dodgeBy:v||d,marginRatio:g}),p&&y.push({type:"stack",marginRatio:g})),y.length&&(null==u?void 0:u.geometry)&&(null==u?void 0:u.geometry).adjust(y),(0,i.isNil)(h)||n.theme((0,r.deepAssign)({},(0,i.isObject)(m)?m:(0,l.getTheme)(m),{columnWidthRatio:h})),e;}function f(t){var e=t.options,n=e.line,s=e.stepType,c=e.xField,u=e.yField,l=e.seriesField,d=e.smooth,f=e.connectNulls,p=e.tooltip,g=e.useDeferredLabel,h=(0,a.getTooltipMapping)(p,[c,u,l]),v=h.fields,m=h.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"line",colorField:l,tooltipFields:v,mapping:(0,i.deepMix)({shape:s||(d?"smooth":"line"),tooltip:m},n),args:{connectNulls:f,useDeferredLabel:g}}})):t;}var p=n("2e8c04d3"),g=n("d37ffe5c");function h(t){var e=t.options,n=e.schema,i=e.xField,s=e.yField,u=e.seriesField,l=e.tooltip,d=e.useDeferredLabel,f=(0,a.getTooltipMapping)(l,[i,s,u]),p=f.fields,g=f.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"schema",colorField:u,tooltipFields:p,mapping:(0,c.__assign)({tooltip:g},n),args:{useDeferredLabel:d}}})):t;}function v(t){var e=t.options,n=e.violin,i=e.xField,s=e.yField,u=e.seriesField,l=e.sizeField,d=e.tooltip,f=(0,a.getTooltipMapping)(d,[i,s,u,l]),p=f.fields,g=f.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"violin",colorField:u,tooltipFields:p,mapping:(0,c.__assign)({tooltip:g},n)}})):t;}},"9c508c0d":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"deepAssign",{enumerable:!0,get:function(){return s;}});var i={}.toString,r=function(t,e){return i.call(t)==="[object "+e+"]";},a=function(t){if(!("object"==typeof t&&null!==t)||!r(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e;},o=function(t,e,n,i){for(var s in n=n||0,i=i||5,e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=e[s];c?a(c)?(a(t[s])||(t[s]={}),n<i?o(t[s],c,n+1,i):t[s]=e[s]):r(c,"Array")?(t[s]=[],t[s]=t[s].concat(c)):t[s]=c:t[s]=c;}},s=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)o(t,e[i]);return t;};},"9f3a3a84":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return A;},legend:function(){return b;},meta:function(){return y;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("e4b1a0ce"),o=n("ec1a44ff"),s=n("35ba6257"),c={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},u=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}];};(0,s.registerInteraction)(c.hover,{start:u(c.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),(0,s.registerInteraction)(c.click,{start:u(c.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var l=n("7aaa5a7f"),d=n("93517633");function f(t,e){return(0,r.map)(e.getModel().points,function(e){return t.convertPoint(e);});}var p=n("97af6349"),g=n("2f5d7251"),h=n("3a72052c");function v(t){var e=t.options,n=e.legend,r=e.seriesField,a=e.isStack;return r?!1!==n&&(n=(0,i.__assign)({position:a?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t;}function m(t){var e=t.chart,n=t.options,r=n.data,a=n.columnStyle,o=n.color,s=n.columnWidthRatio,c=n.isPercent,u=n.isGroup,d=n.isStack,f=n.xField,g=n.yField,v=n.seriesField,m=n.groupField,y=n.tooltip,_=n.shape,b=c&&u&&d?(0,h.getDeepPercent)(r,g,[f,m],g):(0,h.getDataWhetherPercentage)(r,g,f,g,c),x=[];d&&v&&!u?b.forEach(function(t){var e=x.find(function(e){return e[f]===t[f]&&e[v]===t[v];});e?e[g]+=t[g]||0:x.push((0,i.__assign)({},t));}):x=b,e.data(x);var E=c?(0,i.__assign)({formatter:function(t){var e;return{name:u&&d?"".concat(t[v]," - ").concat(t[m]):null!==(e=t[v])&&void 0!==e?e:t[f],value:(100*Number(t[g])).toFixed(2)+"%"};}},y):y,A=(0,l.deepAssign)({},t,{options:{data:x,widthRatio:s,tooltip:E,interval:{shape:_,style:a,color:o}}});return(0,p.interval)(A),A;}function y(t){var e,n,r=t.options,a=r.xAxis,s=r.yAxis,c=r.xField,u=r.yField,d=r.data,f=r.isPercent;return(0,l.flow)((0,o.scale)(((e={})[c]=a,e[u]=s,e),((n={})[c]={type:"cat"},n[u]=(0,i.__assign)((0,i.__assign)({},(0,l.adjustYMetaByZero)(d,u)),f?{max:1,min:0,minLimit:0,maxLimit:1}:{}),n)))(t);}function _(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,a=n.xField,o=n.yField;return!1===i?e.axis(a,!1):e.axis(a,i),!1===r?e.axis(o,!1):e.axis(o,r),t;}function b(t){var e=t.chart,n=t.options,i=n.legend,r=n.seriesField;return i&&r?e.legend(r,i):!1===i&&e.legend(!1),t;}function x(t){var e=t.chart,n=t.options,r=n.label,a=n.yField,o=n.isRange,s=(0,l.findGeometry)(e,"interval");if(r){var c=r.callback,u=(0,i.__rest)(r,["callback"]);s.label({fields:[a],callback:c,cfg:(0,i.__assign)({layout:(null==u?void 0:u.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},(0,l.transformLabel)(o?(0,i.__assign)({content:function(t){var e;return null===(e=t[a])||void 0===e?void 0:e.join("-");}},u):u))});}else s.label(!1);return t;}function E(t){var e=t.chart,n=t.options,a=n.tooltip,o=n.isGroup,s=n.isStack,c=n.groupField,u=n.data,d=n.xField,f=n.yField,p=n.seriesField;if(!1===a)e.tooltip(!1);else{var g=a;if(o&&s){var h=g.customItems,v=(null==g?void 0:g.formatter)||function(t){return{name:"".concat(t[p]," - ").concat(t[c]),value:t[f]};};g=(0,i.__assign)((0,i.__assign)({},g),{customItems:function(t){var e=[];return(0,r.each)(t,function(t){(0,r.filter)(u,function(e){return(0,r.isMatch)(e,(0,l.pick)(t.data,[d,p]));}).forEach(function(n){e.push((0,i.__assign)((0,i.__assign)((0,i.__assign)({},t),{value:n[f],data:n,mappingData:{_origin:n}}),v(n)));});}),h?h(e):e;}});}e.tooltip(g);}return t;}function A(t,e){void 0===e&&(e=!1);var n,p,h,A,F=t.options,S=F.seriesField;return(0,l.flow)(v,o.theme,(0,g.pattern)("columnStyle"),o.state,(0,o.transformations)("rect"),m,y,_,b,E,o.slider,o.scrollbar,x,a.brushInteraction,o.interaction,o.animation,(0,o.annotation)(),(n=F.yField,p=!e,h=!!S,function(t){var e=t.options,a=t.chart,o=e.conversionTag,c=e.theme;return o&&!h&&(a.theme((0,l.deepAssign)({},(0,r.isObject)(c)?c:(0,s.getTheme)(c),{columnWidthRatio:1/3})),a.annotation().shape({render:function(t,e){var s=t.addGroup({id:"".concat(a.id,"-conversion-tag-group"),name:"conversion-tag-group"}),c=(0,r.find)(a.geometries,function(t){return"interval"===t.type;}),u={view:e,geometry:c,group:s,field:n,horizontal:p,options:(0,l.deepAssign)({size:p?32:80,spacing:p?8:12,offset:p?32:0,arrow:!1!==o.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==o.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:d.conversionTagFormatter}},o)},g=c.elements;(0,r.each)(g,function(t,e){if(e>0){var n;(function(t,e,n){var r,a=t.view,o=t.geometry,s=t.group,c=t.options,u=t.horizontal,l=c.offset,d=c.size,p=c.arrow,g=a.getCoordinate(),h=f(g,e)[3],v=f(g,n)[0],m=v.y-h.y,y=v.x-h.x;if("boolean"!=typeof p){var _=p.headSize,b=c.spacing;u?(y-_)/2<b?(b=Math.max(1,(y-_)/2),r=[[h.x+b,h.y-l],[h.x+b,h.y-l-d],[v.x-b,v.y-l-d/2]]):r=[[h.x+b,h.y-l],[h.x+b,h.y-l-d],[v.x-b-_,v.y-l-d],[v.x-b,v.y-l-d/2],[v.x-b-_,v.y-l]]:(m-_)/2<b?(b=Math.max(1,(m-_)/2),r=[[h.x+l,h.y+b],[h.x+l+d,h.y+b],[v.x+l+d/2,v.y-b]]):r=[[h.x+l,h.y+b],[h.x+l+d,h.y+b],[v.x+l+d,v.y-b-_],[v.x+l+d/2,v.y-b],[v.x+l,v.y-b-_]],s.addShape("polygon",{id:"".concat(a.id,"-conversion-tag-arrow-").concat(o.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:(0,i.__assign)((0,i.__assign)({},p.style||{}),{points:r})});}})(u,n=g[e-1],t),function(t,e,n){var r,a,o,s=t.view,c=t.geometry,u=t.group,l=t.options,d=t.field,p=t.horizontal,g=l.offset,h=l.size;if("boolean"!=typeof l.text){var v=s.getCoordinate(),m=(null===(r=l.text)||void 0===r?void 0:r.formatter)&&(null===(a=l.text)||void 0===a?void 0:a.formatter(e.getData()[d],n.getData()[d])),y=f(v,e)[p?3:0],_=f(v,n)[p?0:3],b=u.addShape("text",{id:"".concat(s.id,"-conversion-tag-text-").concat(c.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:(0,i.__assign)((0,i.__assign)({},(null===(o=l.text)||void 0===o?void 0:o.style)||{}),{text:m,x:p?(y.x+_.x)/2:y.x+g+h/2,y:p?y.y-g-h/2:(y.y+_.y)/2})});if(p){var x=_.x-y.x,E=b.getBBox().width;if(E>x){var A=Math.max(1,Math.ceil(x/(E/m.length))-1),F="".concat(m.slice(0,A),"...");b.attr("text",F);}}}}(u,n,t);}});}})),t;}),(A=!F.isStack,function(t){var e=t.chart,n=t.options.connectedArea,i=function(){e.removeInteraction(c.hover),e.removeInteraction(c.click);};if(!A&&n){var r=n.trigger||"hover";i(),e.interaction(c[r],{start:u(r,n.style)});}else i();return t;}),o.limitInPlot)(t);}},"9f889a54":function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Column:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("3a72052c"),o=n("9f3a3a84"),s=(0,n("7aaa5a7f").deepAssign)({},r.Plot.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return s;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,i=e.xField,r=e.isPercent,s=this.chart,c=this.options;(0,o.meta)({chart:s,options:c}),this.chart.changeData((0,a.getDataWhetherPercentage)(t,n,i,n,r));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},"9fd0eafe":function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{addViewAnimation:function(){return s;},findViewById:function(){return r;},getSiblingViews:function(){return o;},getViews:function(){return a;}});var i=n("ab8818cf");function r(t,e){return t.views.find(function(t){return t.id===e;});}function a(t){var e=t.parent;return e?e.views:[];}function o(t){return a(t).filter(function(e){return e!==t;});}function s(t,e,n){void 0===n&&(n=t.geometries),"boolean"==typeof e?t.animate(e):t.animate(!0),(0,i.each)(n,function(t){var n;n=(0,i.isFunction)(e)?e(t.type||t.shapeType,t)||!0:e,t.animate(n);});}},a21e97d3:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"AXIS_META_CONFIG_KEYS",{enumerable:!0,get:function(){return i;}});var i=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];},a496f44c:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"Progress",{enumerable:!0,get:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("e489f525"),o=n("e71ff6e1"),s=n("8657db6c"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return o.DEFAULT_OPTIONS;},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData((0,s.getProgressData)(t));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return a.adaptor;},e;}(r.Plot);},a694c5ea:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"adaptor",{enumerable:!0,get:function(){return g;}});var i=n("51e076c8"),r=n("ec1a44ff"),a=n("97af6349"),o=n("2f5d7251"),s=n("7aaa5a7f"),c=n("e0951363"),u=n("67788127");function l(t){var e=t.chart,n=t.options,i=n.data,r=n.binField,o=n.binNumber,l=n.binWidth,d=n.color,f=n.stackField,p=n.legend,g=n.columnStyle,h=(0,c.binHistogram)(i,r,l,o,f);e.data(h);var v=(0,s.deepAssign)({},t,{options:{xField:u.HISTOGRAM_X_FIELD,yField:u.HISTOGRAM_Y_FIELD,seriesField:f,isStack:!0,interval:{color:d,style:g}}});return(0,a.interval)(v),p&&f?e.legend(f,p):e.legend(!1),t;}function d(t){var e,n=t.options,i=n.xAxis,a=n.yAxis;return(0,s.flow)((0,r.scale)(((e={})[u.HISTOGRAM_X_FIELD]=i,e[u.HISTOGRAM_Y_FIELD]=a,e)))(t);}function f(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis;return!1===i?e.axis(u.HISTOGRAM_X_FIELD,!1):e.axis(u.HISTOGRAM_X_FIELD,i),!1===r?e.axis(u.HISTOGRAM_Y_FIELD,!1):e.axis(u.HISTOGRAM_Y_FIELD,r),t;}function p(t){var e=t.chart,n=t.options.label,r=(0,s.findGeometry)(e,"interval");if(n){var a=n.callback,o=(0,i.__rest)(n,["callback"]);r.label({fields:[u.HISTOGRAM_Y_FIELD],callback:a,cfg:(0,s.transformLabel)(o)});}else r.label(!1);return t;}function g(t){return(0,s.flow)(r.theme,(0,o.pattern)("columnStyle"),l,d,f,r.state,p,r.tooltip,r.interaction,r.animation)(t);}},a7c34e25:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{CONVERSION_TAG_NAME:function(){return o;},conversionTagComponent:function(){return c;},transformData:function(){return s;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("1c285725"),o="CONVERSION_TAG_NAME";function s(t,e,n){var i=n.yField,o=n.maxSize,s=n.minSize,c=(0,r.get)((0,r.maxBy)(e,i),[i]),u=(0,r.isNumber)(o)?o:1,l=(0,r.isNumber)(s)?s:0;return(0,r.map)(t,function(e,n){var o=(e[i]||0)/c;return e[a.FUNNEL_PERCENT]=o,e[a.FUNNEL_MAPPING_VALUE]=(u-l)*o+l,e[a.FUNNEL_CONVERSATION]=[(0,r.get)(t,[n-1,i]),e[i]],e;});}function c(t){return function(e){var n=e.chart,s=e.options,c=s.conversionTag,u=s.filteredData||n.getOptions().data;if(c){var l=c.formatter;u.forEach(function(e,s){if(!(s<=0||Number.isNaN(e[a.FUNNEL_MAPPING_VALUE]))){var d=t(e,s,u,{top:!0,name:o,text:{content:(0,r.isFunction)(l)?l(e,u):l,offsetX:c.offsetX,offsetY:c.offsetY,position:"end",autoRotate:!1,style:(0,i.__assign)({textAlign:"start",textBaseline:"middle"},c.style)}});n.annotation().line(d);}});}return e;};}},aa9e02aa:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return g;},axis:function(){return d;},legend:function(){return p;},meta:function(){return l;},tooltip:function(){return f;}});var i=n("ec1a44ff"),r=n("97af6349"),a=n("a21e97d3"),o=n("7aaa5a7f"),s=n("5f903d90"),c=n("68ad56d1");function u(t){var e=t.chart,n=t.options,i=n.yField,a=n.data,u=n.risingFill,l=n.fallingFill,d=n.tooltip,f=n.stockStyle;e.data((0,c.getStockData)(a,i));var p=d;return!1!==p&&(p=(0,o.deepAssign)({},{fields:i},p)),(0,r.schema)((0,o.deepAssign)({},t,{options:{schema:{shape:"candle",color:[u,l],style:f},yField:s.Y_FIELD,seriesField:s.TREND_FIELD,rawFields:i,tooltip:p}})),t;}function l(t){var e,n,i=t.chart,r=t.options,c=r.meta,u=r.xAxis,l=r.yAxis,d=r.xField,f=((e={})[d]={type:"timeCat",tickCount:6},e[s.TREND_FIELD]={values:[s.TREND_UP,s.TREND_DOWN]},e),p=(0,o.deepAssign)(f,c,((n={})[d]=(0,o.pick)(u,a.AXIS_META_CONFIG_KEYS),n[s.Y_FIELD]=(0,o.pick)(l,a.AXIS_META_CONFIG_KEYS),n));return i.scale(p),t;}function d(t){var e=t.chart,n=t.options,i=n.xAxis,r=n.yAxis,a=n.xField;return!1===i?e.axis(a,!1):e.axis(a,i),!1===r?e.axis(s.Y_FIELD,!1):e.axis(s.Y_FIELD,r),t;}function f(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t;}function p(t){var e=t.chart,n=t.options.legend;return n?e.legend(s.TREND_FIELD,n):!1===n&&e.legend(!1),t;}function g(t){(0,o.flow)(i.theme,u,l,d,f,p,i.interaction,i.animation,(0,i.annotation)(),i.slider)(t);}},ad9f2fcd:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adapteStyle:function(){return s;},renderGaugeStatistic:function(){return l;},renderStatistic:function(){return u;},setStatisticContainerStyle:function(){return c;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("caf8b988"),o=n("4b4e8580");function s(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,r.get)(t,"fill")&&(e.color=t.fill);var i=(0,o.pick)(t,n),s=i.shadowColor,c=i.shadowBlur,u=i.shadowOffsetX,l=i.shadowOffsetY;e["text-shadow"]="".concat([s,"".concat(void 0===u?0:u,"px"),"".concat(void 0===l?0:l,"px"),"".concat(void 0===c?0:c,"px")].join(" "));var d=(0,o.pick)(t,n),f=d.stroke,p=d.lineWidth;return e["-webkit-text-stroke"]="".concat(["".concat(void 0===p?0:p,"px"),f].join(" ")),(0,r.each)(t,function(t,i){["fontSize"].includes(i)&&(0,r.isNumber)(t)?e[(0,a.kebabCase)(i)]="".concat(t,"px"):i&&!n.includes(i)&&(e[(0,a.kebabCase)(i)]="".concat(t));}),e;}function c(t,e){t.style["pointer-events"]="none",(0,r.each)(e,function(e,n){n&&e&&(t.style[n]=e);});}var u=function(t,e,n){var a=e.statistic,u=e.plotType,l=a.title,d=a.content;[l,d].forEach(function(e,a){if(e){var f="";f=0===a?d?"translate(-50%, -100%)":"translate(-50%, -50%)":l?"translate(-50%, 0)":"translate(-50%, -50%)";var p=(0,r.isFunction)(e.style)?e.style(n):e.style;t.annotation().html((0,i.__assign)({position:["50%","50%"],html:function(t,a){var o=a.getCoordinate(),l=0;if("pie"===u||"ring-progress"===u)l=o.getRadius()*o.innerRadius*2;else if("liquid"===u){var d=(0,r.get)(a.geometries,[0,"elements",0,"shape"]);d&&(l=d.find(function(t){return"wrap"===t.get("name");}).getCanvasBBox().width);}else l||(l=o.getWidth());c(t,(0,i.__assign)({width:"".concat(l,"px"),transform:f},s(p)));var g=a.getData();if(e.customHtml)return e.customHtml(t,a,n,g);var h=e.content;return e.formatter&&(h=e.formatter(n,g)),h?(0,r.isString)(h)?h:"".concat(h):"<div></div>";},key:"".concat(0===a?"top":"bottom","-statistic")},(0,o.pick)(e,["offsetX","offsetY","rotate","style","formatter"])));}});},l=function(t,e,n){var a=e.statistic;[a.title,a.content].forEach(function(e){if(e){var a=(0,r.isFunction)(e.style)?e.style(n):e.style;t.annotation().html((0,i.__assign)({position:["50%","100%"],html:function(t,o){var u=o.getCoordinate(),l=o.views[0].getCoordinate(),d=l.getCenter(),f=l.getRadius(),p=Math.max(Math.sin(l.startAngle),Math.sin(l.endAngle))*f,g=d.y+p-u.y.start-parseFloat((0,r.get)(a,"fontSize",0)),h=u.getRadius()*u.innerRadius*2;c(t,(0,i.__assign)({width:"".concat(h,"px"),transform:"translate(-50%, ".concat(g,"px)")},s(a)));var v=o.getData();if(e.customHtml)return e.customHtml(t,o,n,v);var m=e.content;return e.formatter&&(m=e.formatter(n,v)),m?(0,r.isString)(m)?m:"".concat(m):"<div></div>";}},(0,o.pick)(e,["offsetX","offsetY","rotate","style","formatter"])));}});};},b1db4504:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),(0,n("35ba6257").registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});},b50ea139:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"DEFAULT_OPTIONS",{enumerable:!0,get:function(){return r;}});var i=n("796bb7ab"),r=(0,n("7aaa5a7f").deepAssign)({},i.Plot.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});},b677d919:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{CHILD_NODE_COUNT:function(){return a;},NODE_ANCESTORS_FIELD:function(){return o;},NODE_INDEX_FIELD:function(){return r;},getAllNodes:function(){return u;},getField:function(){return c;}});var i=n("ab8818cf"),r="nodeIndex",a="childNodeCount",o="nodeAncestor",s="Invalid field: it must be a string!";function c(t,e){var n=t.field,r=t.fields;if((0,i.isString)(n))return n;if((0,i.isArray)(n))return console.warn(s),n[0];if(console.warn("".concat(s," will try to get fields instead.")),(0,i.isString)(r))return r;if((0,i.isArray)(r)&&r.length)return r[0];if(e)return e;throw TypeError(s);}function u(t){var e,n,s=[];return t&&t.each?t.each(function(t){t.parent!==e?(e=t.parent,n=0):n+=1;var c,u,l=(0,i.filter)(((null===(c=t.ancestors)||void 0===c?void 0:c.call(t))||[]).map(function(t){return s.find(function(e){return e.name===t.name;})||t;}),function(e){var n=e.depth;return n>0&&n<t.depth;});t[o]=l,t[a]=(null===(u=t.children)||void 0===u?void 0:u.length)||0,t[r]=n,s.push(t);}):t&&t.eachNode&&t.eachNode(function(t){s.push(t);}),s;}},bf64addf:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"Funnel",{enumerable:!0,get:function(){return u;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("796bb7ab"),o=n("7aaa5a7f"),s=n("1dc3db69"),c=n("1c285725");n("607883bf");var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c.DEFAULT_OPTIONS;},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return s.adaptor;},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var i=(0,o.getAllElementsRecursively)(this.chart);(0,r.each)(i,function(i){e(i.getData())&&i.setState(t,n);});},e.prototype.getStates=function(){var t=(0,o.getAllElementsRecursively)(this.chart),e=[];return(0,r.each)(t,function(t){var n=t.getData(),i=t.getStates();(0,r.each)(i,function(i){e.push({data:n,state:i,geometry:t.geometry,element:t});});}),e;},e.CONVERSATION_FIELD=c.FUNNEL_CONVERSATION,e.PERCENT_FIELD=c.FUNNEL_PERCENT,e.TOTAL_PERCENT_FIELD=c.FUNNEL_TOTAL_PERCENT,e;}(a.Plot);},c48a9596:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_COLOR:function(){return s;},DEFAULT_OPTIONS:function(){return l;},INDICATEOR_VIEW_ID:function(){return c;},PERCENT:function(){return o;},RANGE_TYPE:function(){return a;},RANGE_VALUE:function(){return r;},RANGE_VIEW_ID:function(){return u;}});var i,r="range",a="type",o="percent",s="#f0f0f0",c="indicator-view",u="range-view",l={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:((i={})[r]={sync:"v"},i[o]={sync:"v",tickCount:5,tickInterval:.2},i),animation:!1};},c6214764:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"execPlotAdaptor",{enumerable:!0,get:function(){return G;}});var i=n("ab8818cf"),r=n("7aaa5a7f"),a=n("0dce1cf6"),o=n("516988db"),s=n("347c0f03"),c=n("61188a8d"),u=n("9f889a54"),l=n("9f3a3a84"),d=n("bf64addf"),f=n("1dc3db69"),p=n("dc8d858b"),g=n("1f714944"),h=n("cf23d42f"),v=n("a694c5ea"),m=n("32ce8eec"),y=n("5cbd0835"),_=n("2b9fb721"),b=n("4e824666"),x=n("a496f44c"),E=n("e489f525"),A=n("c8f82718"),F=n("e96e66fa"),S=n("8dba4458"),D=n("370ba8f8"),I=n("0df6886d"),N=n("aa9e02aa"),O=n("4d7cfdcb"),T=n("f4a669be"),k=n("0b4b9656"),w=n("8e951e45"),C=n("5a896988"),L=n("201109df"),R={line:y.adaptor,pie:b.adaptor,column:l.adaptor,bar:c.adaptor,area:o.adaptor,gauge:g.adaptor,"tiny-line":L.adaptor,"tiny-column":w.adaptor,"tiny-area":T.adaptor,"ring-progress":F.adaptor,progress:E.adaptor,scatter:D.adaptor,histogram:v.adaptor,funnel:f.adaptor,stock:N.adaptor},P={line:m.Line,pie:_.Pie,column:u.Column,bar:s.Bar,area:a.Area,gauge:p.Gauge,"tiny-line":C.TinyLine,"tiny-column":k.TinyColumn,"tiny-area":O.TinyArea,"ring-progress":A.RingProgress,progress:x.Progress,scatter:S.Scatter,histogram:h.Histogram,funnel:d.Funnel,stock:I.Stock},M={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function G(t,e,n){var a=P[t];if(!a){console.error("could not find ".concat(t," plot"));return;}(0,R[t])({chart:e,options:(0,r.deepAssign)({},a.getDefaultOptions(),(0,i.get)(M,t,{}),n)});}},c8f82718:function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{RingProgress:function(){return u;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("796bb7ab"),o=n("8657db6c"),s=n("e96e66fa"),c={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return c;},e.prototype.changeData=function(t){this.chart.emit(r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data((0,o.getProgressData)(t)),(0,s.statistic)({chart:this.chart,options:this.options},!0),this.chart.emit(r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return s.adaptor;},e;}(a.Plot);},caf8b988:function(t,e,n){"use strict";function i(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(t){return t.toLowerCase();}).join("-"):t;}n.d(e,"__esModule",{value:!0}),n.d(e,"kebabCase",{enumerable:!0,get:function(){return i;}});},cf23d42f:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"Histogram",{enumerable:!0,get:function(){return c;}});var i=n("51e076c8"),r=n("796bb7ab"),a=n("e0951363"),o=n("a694c5ea"),s=n("67788127"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS;},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,i=e.binNumber,r=e.binWidth,o=e.stackField;this.chart.changeData((0,a.binHistogram)(t,n,r,i,o));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(r.Plot);},d37ffe5c:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"polygon",{enumerable:!0,get:function(){return s;}});var i=n("51e076c8"),r=n("7aaa5a7f"),a=n("14a0cf94"),o=n("0e58907b");function s(t){var e=t.options,n=e.polygon,s=e.xField,c=e.yField,u=e.seriesField,l=e.tooltip,d=e.useDeferredLabel,f=(0,a.getTooltipMapping)(l,[s,c,u]),p=f.fields,g=f.formatter;return n?(0,o.geometry)((0,r.deepAssign)({},t,{options:{type:"polygon",colorField:u,tooltipFields:p,mapping:(0,i.__assign)({tooltip:g},n),args:{useDeferredLabel:d}}})):t;}},d4993077:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"isParentNode",{enumerable:!0,get:function(){return o;}});var i=n("35ba6257"),r=n("ab8818cf"),a=n("037f6583");function o(t){var e=(0,r.get)(t,["event","data","data"],{});return(0,r.isArray)(e.children)&&e.children.length>0;}function s(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var i=t.event,r=i.x,a=i.y,o=e.center;return Math.sqrt(Math.pow(o.x-r,2)+Math.pow(o.y-a,2))<e.getRadius()*n;}return!1;}(0,i.registerAction)("drill-down-action",a.DrillDownAction),(0,i.registerInteraction)("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:o},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:s}],start:[{trigger:"element:click",isEnable:o,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:s,action:["drill-down-action:back"]}]});},dc0f1b10:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{compareConversionTag:function(){return d;},compareFunnel:function(){return p;}});var i=n("ab8818cf"),r=n("0e58907b"),a=n("7aaa5a7f"),o=n("14a0cf94"),s=n("1c285725"),c=n("a7c34e25");function u(t){var e,n=t.chart,i=t.options,r=i.data,a=i.yField;return n.data(void 0===r?[]:r),n.scale(((e={})[a]={sync:!0},e)),t;}function l(t){var e=t.chart,n=t.options,u=n.data,l=n.xField,d=n.yField,f=n.color,p=n.compareField,g=n.isTransposed,h=n.tooltip,v=n.maxSize,m=n.minSize,y=n.label,_=n.funnelStyle,b=n.state,x=n.showFacetTitle;return e.facet("mirror",{fields:[p],transpose:!g,padding:g?0:[32,0,0,0],showTitle:x,eachView:function(t,e){var n=g?e.rowIndex:e.columnIndex;g||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var x=(0,c.transformData)(e.data,u,{yField:d,maxSize:v,minSize:m});t.data(x);var E=(0,o.getTooltipMapping)(h,[l,d,p]),A=E.fields,F=E.formatter;(0,r.geometry)({chart:t,options:{type:"interval",xField:l,yField:s.FUNNEL_MAPPING_VALUE,colorField:l,tooltipFields:(0,i.isArray)(A)&&A.concat([s.FUNNEL_PERCENT,s.FUNNEL_CONVERSATION]),mapping:{shape:"funnel",tooltip:F,color:f,style:_},label:!1!==y&&(0,a.deepAssign)({},g?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}},y),state:b}});}}),t;}function d(t){var e=t.chart,n=t.index,r=t.options,o=r.conversionTag,u=r.isTransposed;((0,i.isNumber)(n)?[e]:e.views).forEach(function(t,e){var l=(0,i.get)(t,["geometries","0","dataArray"],[]),d=(0,i.get)(t,["options","data","length"]),f=(0,i.map)(l,function(t){return(0,i.get)(t,["0","nextPoints","0","x"])*d-.5;});(0,c.conversionTagComponent)(function(t,i,r,c){var l=0===(n||e)?-1:1;return(0,a.deepAssign)({},c,{start:[f[i-1]||i-.5,t[s.FUNNEL_MAPPING_VALUE]],end:[f[i-1]||i-.5,t[s.FUNNEL_MAPPING_VALUE]+.05],text:u?{style:{textAlign:"start"}}:{offsetX:!1!==o?l*o.offsetX:0,style:{textAlign:0===(n||e)?"end":"start"}}});})((0,a.deepAssign)({},{chart:t,options:r}));});}function f(t){return t.chart.once("beforepaint",function(){return d(t);}),t;}function p(t){return(0,a.flow)(u,l,f)(t);}},dc8d858b:function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{Gauge:function(){return l;}});var i=n("51e076c8"),r=n("35ba6257"),a=n("796bb7ab"),o=n("1f714944"),s=n("c48a9596");(0,r.registerShape)("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,a=n.defaultColor,o=r.pointer,s=r.pin,c=e.addGroup(),u=this.parsePoint({x:0,y:0});return o&&c.addShape("line",{name:"pointer",attrs:(0,i.__assign)({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:a},o.style)}),s&&c.addShape("circle",{name:"pin",attrs:(0,i.__assign)({x:u.x,y:u.y,stroke:a},s.style)}),c;}});var c=n("ab8818cf");(0,r.registerShape)("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,i=void 0===n?{}:n,a=i.steps,o=void 0===a?50:a,s=i.stepRatio,u=void 0===s?.5:s;o=o<1?1:o,u=(0,c.clamp)(u,0,1);var l=this.coordinate,d=l.startAngle,f=l.endAngle,p=0;u>0&&u<1&&(p=(f-d)/o/(u/(1-u)+1-1/o));for(var g=p/(1-u)*u,h=e.addGroup(),v=this.coordinate.getCenter(),m=this.coordinate.getRadius(),y=r.Util.getAngle(t,this.coordinate),_=y.startAngle,b=y.endAngle,x=_;x<b;){var E=void 0,A=(x-d)%(g+p);A<g?E=x+(g-A):(x+=g+p-A,E=x+g);var F=r.Util.getSectorPath(v.x,v.y,m,x,Math.min(E,b),m*this.coordinate.innerRadius);h.addShape("path",{name:"meter-gauge",attrs:{path:F,fill:t.color,stroke:t.color,lineWidth:.5}}),x=E+p;}return h;}});var u=n("ec66c499"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e;}return(0,i.__extends)(e,t),e.getDefaultOptions=function(){return s.DEFAULT_OPTIONS;},e.prototype.changeData=function(t){this.chart.emit(r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find(function(t){return t.id===s.INDICATEOR_VIEW_ID;});e&&e.data((0,u.getIndicatorData)(t));var n=this.chart.views.find(function(t){return t.id===s.RANGE_VIEW_ID;});n&&n.data((0,u.getRangeData)(t,this.options.range)),(0,o.statistic)({chart:this.chart,options:this.options},!0),this.chart.emit(r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,r.Event.fromData(this.chart,r.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null));},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions();},e.prototype.getSchemaAdaptor=function(){return o.adaptor;},e;}(a.Plot);},e0951363:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"binHistogram",{enumerable:!0,get:function(){return a;}});var i=n("ab8818cf");function r(t,e,n){if(1===n)return[0,e];var i=Math.floor(t/e);return[e*i,e*(i+1)];}function a(t,e,n,a,o){var s=(0,i.clone)(t);(0,i.sortBy)(s,e);var c=(0,i.valuesOfKey)(s,e),u=(0,i.getRange)(c),l=u.max-u.min,d=n;!n&&a&&(d=a>1?l/(a-1):u.max),n||a||(d=l/(Math.ceil(Math.log(c.length)/Math.LN2)+1));var f={},p=(0,i.groupBy)(s,o);(0,i.isEmpty)(p)?(0,i.each)(s,function(t){var n=r(t[e],d,a),o="".concat(n[0],"-").concat(n[1]);(0,i.hasKey)(f,o)||(f[o]={range:n,count:0}),f[o].count+=1;}):Object.keys(p).forEach(function(t){(0,i.each)(p[t],function(n){var s=r(n[e],d,a),c="".concat(s[0],"-").concat(s[1]),u="".concat(c,"-").concat(t);(0,i.hasKey)(f,u)||(f[u]={range:s,count:0},f[u][o]=t),f[u].count+=1;});});var g=[];return(0,i.each)(f,function(t){g.push(t);}),g;}},e1bb0dc6:function(t,e,n){"use strict";function i(t){return"number"==typeof t&&!isNaN(t);}function r(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r;}n.d(e,"__esModule",{value:!0}),n.e(e,{isBetween:function(){return r;},isRealNumber:function(){return i;}});},e489f525:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return d;},geometry:function(){return u;}});var i=n("ab8818cf"),r=n("ec1a44ff"),a=n("97af6349"),o=n("7aaa5a7f"),s=n("e71ff6e1"),c=n("8657db6c");function u(t){var e=t.chart,n=t.options,r=n.percent,u=n.progressStyle,l=n.color,d=n.barWidthRatio;e.data((0,c.getProgressData)(r));var f=(0,o.deepAssign)({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:d,interval:{style:u,color:(0,i.isString)(l)?[l,s.DEFAULT_COLOR[1]]:l},args:{zIndexReversed:!0,sortZIndex:!0}}});return(0,a.interval)(f),e.tooltip(!1),e.axis(!1),e.legend(!1),t;}function l(t){return t.chart.coordinate("rect").transpose(),t;}function d(t){return(0,o.flow)(u,(0,r.scale)({}),l,r.animation,r.theme,(0,r.annotation)())(t);}},e4b1a0ce:function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{brushInteraction:function(){return f;}});var i=n("ab8818cf"),r=n("35ba6257"),a=n("51e076c8"),o=n("7aaa5a7f"),s={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=(0,a.__assign)({name:"button"},s),e;}return(0,a.__extends)(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,i.get)(t,["interactions","filter-action","cfg","buttonConfig"]);return(0,o.deepAssign)(this.buttonCfg,e,this.cfg);},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e;},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,a.__assign)({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)});},e.prototype.drawBackground=function(t,e){var n,i=this.getButtonCfg(),r=(0,o.normalPadding)(i.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:(0,a.__assign)({x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2]},null===(n=i.buttonStyle)||void 0===n?void 0:n.default)});return s.toBack(),t.on("mouseenter",function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.active);}),t.on("mouseleave",function(){var t;s.attr(null===(t=i.buttonStyle)||void 0===t?void 0:t.default);}),s;},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),i=r.Util.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(i);},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show();},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide();},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this);},e;}(r.Action);function u(t){return t.isInPlot();}function l(t,e,n){var i=n||{},r=i.mask,a=i.isStartEnable,o=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||u,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:u,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:u,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(t){return!!a&&!a(t);}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(t){return!t.isInShape("mask");},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null==r?void 0:r.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot();},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||u,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:u,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:u,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(t){return!t.isInShape("mask");},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null==r?void 0:r.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot();},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||u,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:null==r?void 0:r.style}]}],processing:[{trigger:"mousemove",isEnable:u,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:u,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0;}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0;}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(t){return!t.isInShape("mask");},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:null==r?void 0:r.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot();},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{};}}(0,r.registerAction)("brush-reset-button",c,{name:"brush-reset-button"}),(0,r.registerInteraction)("filter-action",{}),(0,r.registerInteraction)("brush",l("brush")),(0,r.registerInteraction)("brush-highlight",l("brush-highlight")),(0,r.registerInteraction)("brush-x",l("brush-x","x-rect")),(0,r.registerInteraction)("brush-y",l("brush-y","y-rect")),(0,r.registerInteraction)("brush-x-highlight",l("brush-x-highlight","x-rect")),(0,r.registerInteraction)("brush-y-highlight",l("brush-y-highlight","y-rect"));var d=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function f(t){var e=t.options,n=e.brush,r=(0,i.filter)(e.interactions||[],function(t){return -1===d.indexOf(t.type);});return(null==n?void 0:n.enabled)&&(d.forEach(function(t){var e=!1;switch(n.type){case"x-rect":e=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":e=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:e=t===("highlight"===n.action?"brush-highlight":"brush");}var i={type:t,enable:e};n&&(i.cfg=l(t,n.type,n)),r.push(i);}),(null==n?void 0:n.action)!=="highlight"&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),(0,o.deepAssign)({},t,{options:{interactions:r}});}},e71ff6e1:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{DEFAULT_COLOR:function(){return i;},DEFAULT_OPTIONS:function(){return r;}});var i=["#FAAD14","#E8EDF3"],r={percent:.2,color:i,animation:{}};},e96e66fa:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return l;},statistic:function(){return u;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("ec1a44ff"),o=n("7aaa5a7f"),s=n("e489f525");function c(t){var e=t.chart,n=t.options,i=n.innerRadius,r=n.radius;return e.coordinate("theta",{innerRadius:i,radius:r}),t;}function u(t,e){var n=t.chart,a=t.options,s=a.innerRadius,c=a.statistic,u=a.percent,l=a.meta;if(n.getController("annotation").clear(!0),s&&c){var d=(0,r.get)(l,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%");},f=c.content;f&&(f=(0,o.deepAssign)({},f,{content:(0,r.isNil)(f.content)?d(u):f.content})),(0,o.renderStatistic)(n,{statistic:(0,i.__assign)((0,i.__assign)({},c),{content:f}),plotType:"ring-progress"},{percent:u});}return e&&n.render(!0),t;}function l(t){return(0,o.flow)(s.geometry,(0,a.scale)({}),c,u,a.animation,a.theme,(0,a.annotation)())(t);}},ea7900e6:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{getTileMethod:function(){return c;},treemap:function(){return u;}});var i=n("852bbaa9"),r=n("ab8818cf"),a=i._(n("f59327ff")),o=n("b677d919"),s={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value;},ratio:.5*(1+Math.sqrt(5))};function c(t,e){return"treemapSquarify"===t?a[t].ratio(e):a[t];}function u(t,e){var n,i=(e=(0,r.assign)({},s,e)).as;if(!(0,r.isArray)(i)||2!==i.length)throw TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=(0,o.getField)(e);}catch(t){console.warn(t);}var u=c(e.tile,e.ratio),l=a.treemap().tile(u).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(a.hierarchy(t).sum(function(t){return e.ignoreParentValue&&t.children?0:t[n];}).sort(e.sort)),d=i[0],f=i[1];return l.each(function(t){t[d]=[t.x0,t.x1,t.x1,t.x0],t[f]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(e){-1===i.indexOf(e)&&delete t[e];});}),(0,o.getAllNodes)(l);}},ec1a44ff:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{animation:function(){return d;},annotation:function(){return m;},interaction:function(){return l;},legend:function(){return c;},limitInPlot:function(){return y;},pattern:function(){return s.pattern;},scale:function(){return v;},scrollbar:function(){return h;},slider:function(){return g;},state:function(){return p;},theme:function(){return f;},tooltip:function(){return u;},transformations:function(){return _;}});var i=n("51e076c8"),r=n("ab8818cf"),a=n("a21e97d3"),o=n("7aaa5a7f"),s=n("2f5d7251");function c(t){var e=t.chart,n=t.options,i=n.legend,r=n.colorField,a=n.seriesField;return!1===i?e.legend(!1):(r||a)&&e.legend(r||a,i),t;}function u(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t;}function l(t){var e=t.chart,n=t.options.interactions;return(0,r.each)(n,function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{});}),t;}function d(t){var e=t.chart,n=t.options.animation;return(0,o.addViewAnimation)(e,n),t;}function f(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t;}function p(t){var e=t.chart,n=t.options.state;return n&&(0,r.each)(e.geometries,function(t){t.state(n);}),t;}function g(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t;}function h(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t;}function v(t,e){return function(n){var i=n.chart,s=n.options,c={};return(0,r.each)(t,function(t,e){c[e]=(0,o.pick)(t,a.AXIS_META_CONFIG_KEYS);}),c=(0,o.deepAssign)({},e,s.meta,c),i.scale(c),n;};}function m(t){return function(e){var n=e.chart,a=e.options,o=n.getController("annotation");return(0,r.each)((0,i.__spreadArray)((0,i.__spreadArray)([],a.annotations||[],!0),t||[],!0),function(t){o.annotation(t);}),e;};}function y(t){var e=t.chart,n=t.options,i=n.yAxis,a=n.limitInPlot,s=a;return(0,r.isObject)(i)&&(0,r.isNil)(a)&&(s=!!Object.values((0,o.pick)(i,["min","max","minLimit","maxLimit"])).some(function(t){return!(0,r.isNil)(t);})),e.limitInPlot=s,t;}function _(t){return void 0===t&&(t="rect"),function(e){var n=e.chart,i=Array.from(e.options.coordinate||[]).map(function(t){return"reflectX"===t.type?["reflect","x"]:"reflectY"===t.type?["reflect","y"]:"transpose"===t.type?["transpose"]:null;}).filter(function(t){return!!t;});return 0!==i.length&&n.coordinate({type:t,actions:i}),e;};}},ec66c499:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{getIndicatorData:function(){return o;},getRangeData:function(){return s;},processRangeData:function(){return a;}});var i=n("ab8818cf"),r=n("c48a9596");function a(t,e){return t.map(function(n,i){var a;return(a={})[r.RANGE_VALUE]=n-(t[i-1]||0),a[r.RANGE_TYPE]="".concat(i),a[r.PERCENT]=e,a;});}function o(t){var e;return[((e={})[r.PERCENT]=(0,i.clamp)(t,0,1),e)];}function s(t,e){var n=(0,i.get)(e,["ticks"],[]),r=(0,i.size)(n)?(0,i.uniq)(n):[0,(0,i.clamp)(t,0,1),1];return r[0]||r.shift(),a(r,t);}},ee9999ce:function(t,e,n){n.d(e,"__esModule",{value:!0}),n.e(e,{PIE_STATISTIC:function(){return l;}});var i=n("35ba6257"),r=n("51e076c8"),a=n("ab8818cf"),o=n("2cb2e283"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return(0,r.__extends)(e,t),e.prototype.getActiveElements=function(){var t=i.Util.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,a=n.get("field");if(a)return e.geometries[0].elements.filter(function(t){return t.getModel().data[a]===r.value;});}return[];},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter(function(t){return e.find(function(e){return(0,a.isEqual)(e.getData(),t.get("data"));});});},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach(function(e,r){var a=n[r],s=e.geometry.coordinate;if(s.isPolar&&s.isTransposed){var c=i.Util.getAngle(e.getModel(),s),u=(c.startAngle+c.endAngle)/2,l=t,d=l*Math.cos(u),f=l*Math.sin(u);e.shape.setMatrix((0,o.transform)([["t",d,f]])),a.setMatrix((0,o.transform)([["t",d,f]]));}});},e.prototype.active=function(){this.transfrom();},e.prototype.reset=function(){this.transfrom(0);},e;}(i.Action),c=n("ad9f2fcd"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;}return(0,r.__extends)(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option;},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation;},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",function(){var n=t.getAnnotations(e);t.initialAnnotation=n;});},e.prototype.change=function(t){var e,n,r=this.context,o=r.view,s=r.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var u=(0,a.get)(s,["data","data"]);if(s.type.match("legend-item")){var l=i.Util.getDelegationObject(this.context),d=o.getGroupedFields()[0];if(l&&d){var f=l.item;u=o.getData().find(function(t){return t[d]===f.value;});}}if(u){var p=(0,a.get)(t,"annotations",[]),g=(0,a.get)(t,"statistic",{});o.getController("annotation").clear(!0),(0,a.each)(p,function(t){"object"==typeof t&&o.annotation()[t.type](t);}),(0,c.renderStatistic)(o,{statistic:g,plotType:"pie"},u),o.render(!0);}var h=((n=this.context.event.target)&&(e=n.get("element")),e);h&&h.shape.toFront();},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();(0,a.each)(e,function(e){t.annotation()[e.type](e);}),t.render(!0);},e;}(i.Action),l="pie-statistic";(0,i.registerAction)(l,u),(0,i.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),(0,i.registerAction)("pie-legend",s),(0,i.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});},f4a669be:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.e(e,{adaptor:function(){return d;},meta:function(){return l;}});var i=n("ec1a44ff"),r=n("97af6349"),a=n("7aaa5a7f"),o=n("24c9f2e1"),s=n("35d8da86"),c=n("fc13d405");function u(t){var e=t.chart,n=t.options,i=n.data,o=n.color,u=n.areaStyle,l=n.point,d=n.line,f=null==l?void 0:l.state,p=(0,c.getTinyData)(i);e.data(p);var g=(0,a.deepAssign)({},t,{options:{xField:s.X_FIELD,yField:s.Y_FIELD,area:{color:o,style:u},line:d,point:l}}),h=(0,a.deepAssign)({},g,{options:{tooltip:!1}}),v=(0,a.deepAssign)({},g,{options:{tooltip:!1,state:f}});return(0,r.area)(g),(0,r.line)(h),(0,r.point)(v),e.axis(!1),e.legend(!1),t;}function l(t){var e,n,r=t.options,u=r.xAxis,l=r.yAxis,d=r.data,f=(0,c.getTinyData)(d);return(0,a.flow)((0,i.scale)(((e={})[s.X_FIELD]=u,e[s.Y_FIELD]=l,e),((n={})[s.X_FIELD]={type:"cat"},n[s.Y_FIELD]=(0,o.adjustYMetaByZero)(f,s.Y_FIELD),n)))(t);}function d(t){return(0,a.flow)((0,i.pattern)("areaStyle"),u,l,i.tooltip,i.theme,i.animation,(0,i.annotation)())(t);}},fc13d405:function(t,e,n){"use strict";n.d(e,"__esModule",{value:!0}),n.d(e,"getTinyData",{enumerable:!0,get:function(){return r;}});var i=n("ab8818cf");function r(t){return(0,i.map)(t||[],function(t,e){return{x:"".concat(e),y:t};});}}}]);
