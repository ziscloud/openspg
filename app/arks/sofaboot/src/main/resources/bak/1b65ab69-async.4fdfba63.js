(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["1b65ab69"],{"196d2f45":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"SemanticTokensStylingService",{enumerable:!0,get:function(){return c;}});var n=i("77b755a9"),r=i("4dc1b036"),s=i("dd8f73a0"),o=i("9bfcb0cf"),a=i("c6f02569"),l=i("2188434e"),d=i("ad8563a1"),u=this&&this.__decorate||function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o;},h=this&&this.__param||function(e,t){return function(i,n){t(i,n,e);};};let c=class extends n.Disposable{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap;}));}getStyling(e){return this._caches.has(e)||this._caches.set(e,new a.SemanticTokensProviderStyling(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e);}};c=u([h(0,s.IThemeService),h(1,o.ILogService),h(2,r.ILanguageService)],c),(0,d.registerSingleton)(l.ISemanticTokensStylingService,c,1);},"1b65ab69":function(e,t,i){"use strict";let n;i.d(t,"__esModule",{value:!0}),i.e(t,{conf:function(){return h;},language:function(){return c;}});var r=i("852bbaa9")._(i("6cbf288b")),s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,d=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of a(t))l.call(e,r)||r===i||s(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e;},u={};d(u,r,"default"),n&&d(n,r,"default");var h={comments:{blockComment:["{/*","*/}"]},brackets:[["{","}"]],autoClosingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"\u201C",close:"\u201D"},{open:"\u2018",close:"\u2019"},{open:"`",close:"`"},{open:"{",close:"}"},{open:"(",close:")"},{open:"_",close:"_"},{open:"**",close:"**"},{open:"<",close:">"}],onEnterRules:[{beforeText:/^\s*- .+/,action:{indentAction:u.languages.IndentAction.None,appendText:"- "}},{beforeText:/^\s*\+ .+/,action:{indentAction:u.languages.IndentAction.None,appendText:"+ "}},{beforeText:/^\s*\* .+/,action:{indentAction:u.languages.IndentAction.None,appendText:"* "}},{beforeText:/^> /,action:{indentAction:u.languages.IndentAction.None,appendText:"> "}},{beforeText:/<\w+/,action:{indentAction:u.languages.IndentAction.Indent}},{beforeText:/\s+>\s*$/,action:{indentAction:u.languages.IndentAction.Indent}},{beforeText:/<\/\w+>/,action:{indentAction:u.languages.IndentAction.Outdent}},...Array.from({length:100},(e,t)=>({beforeText:RegExp(`^${t}\\. .+`),action:{indentAction:u.languages.IndentAction.None,appendText:`${t+1}. `}}))]},c={defaultToken:"",tokenPostfix:".mdx",control:/[!#()*+.[\\\]_`{}\-]/,escapes:/\\@control/,tokenizer:{root:[[/^---$/,{token:"meta.content",next:"@frontmatter",nextEmbedded:"yaml"}],[/^\s*import/,{token:"keyword",next:"@import",nextEmbedded:"js"}],[/^\s*export/,{token:"keyword",next:"@export",nextEmbedded:"js"}],[/<\w+/,{token:"type.identifier",next:"@jsx"}],[/<\/?\w+>/,"type.identifier"],[/^(\s*)(>*\s*)(#{1,6}\s)/,[{token:"white"},{token:"comment"},{token:"keyword",next:"@header"}]],[/^(\s*)(>*\s*)([*+-])(\s+)/,["white","comment","keyword","white"]],[/^(\s*)(>*\s*)(\d{1,9}\.)(\s+)/,["white","comment","number","white"]],[/^(\s*)(>*\s*)(\d{1,9}\.)(\s+)/,["white","comment","number","white"]],[/^(\s*)(>*\s*)(-{3,}|\*{3,}|_{3,})$/,["white","comment","keyword"]],[/`{3,}(\s.*)?$/,{token:"string",next:"@codeblock_backtick"}],[/~{3,}(\s.*)?$/,{token:"string",next:"@codeblock_tilde"}],[/`{3,}(\S+).*$/,{token:"string",next:"@codeblock_highlight_backtick",nextEmbedded:"$1"}],[/~{3,}(\S+).*$/,{token:"string",next:"@codeblock_highlight_tilde",nextEmbedded:"$1"}],[/^(\s*)(-{4,})$/,["white","comment"]],[/^(\s*)(>+)/,["white","comment"]],{include:"content"}],content:[[/(\[)(.+)(]\()(.+)(\s+".*")(\))/,["","string.link","","type.identifier","string.link",""]],[/(\[)(.+)(]\()(.+)(\))/,["","type.identifier","","string.link",""]],[/(\[)(.+)(]\[)(.+)(])/,["","type.identifier","","type.identifier",""]],[/(\[)(.+)(]:\s+)(\S*)/,["","type.identifier","","string.link"]],[/(\[)(.+)(])/,["","type.identifier",""]],[/`.*`/,"variable.source"],[/_/,{token:"emphasis",next:"@emphasis_underscore"}],[/\*(?!\*)/,{token:"emphasis",next:"@emphasis_asterisk"}],[/\*\*/,{token:"strong",next:"@strong"}],[/{/,{token:"delimiter.bracket",next:"@expression",nextEmbedded:"js"}]],import:[[/'\s*(;|$)/,{token:"string",next:"@pop",nextEmbedded:"@pop"}]],expression:[[/{/,{token:"delimiter.bracket",next:"@expression"}],[/}/,{token:"delimiter.bracket",next:"@pop",nextEmbedded:"@pop"}]],export:[[/^\s*$/,{token:"delimiter.bracket",next:"@pop",nextEmbedded:"@pop"}]],jsx:[[/\s+/,""],[/(\w+)(=)("(?:[^"\\]|\\.)*")/,["attribute.name","operator","string"]],[/(\w+)(=)('(?:[^'\\]|\\.)*')/,["attribute.name","operator","string"]],[/(\w+(?=\s|>|={|$))/,["attribute.name"]],[/={/,{token:"delimiter.bracket",next:"@expression",nextEmbedded:"js"}],[/>/,{token:"type.identifier",next:"@pop"}]],header:[[/.$/,{token:"keyword",next:"@pop"}],{include:"content"},[/./,{token:"keyword"}]],strong:[[/\*\*/,{token:"strong",next:"@pop"}],{include:"content"},[/./,{token:"strong"}]],emphasis_underscore:[[/_/,{token:"emphasis",next:"@pop"}],{include:"content"},[/./,{token:"emphasis"}]],emphasis_asterisk:[[/\*(?!\*)/,{token:"emphasis",next:"@pop"}],{include:"content"},[/./,{token:"emphasis"}]],frontmatter:[[/^---$/,{token:"meta.content",nextEmbedded:"@pop",next:"@pop"}]],codeblock_highlight_backtick:[[/\s*`{3,}\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/.*$/,"variable.source"]],codeblock_highlight_tilde:[[/\s*~{3,}\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/.*$/,"variable.source"]],codeblock_backtick:[[/\s*`{3,}\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblock_tilde:[[/\s*~{3,}\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]]}};},"2188434e":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"ISemanticTokensStylingService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("semanticTokensStylingService");},"2c914738":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{DefaultModelSHA1Computer:function(){return y;},ModelService:function(){return w;}});var n,r=i("852bbaa9"),s=i("e793196d"),o=i("77b755a9"),a=r._(i("c83e5ca5")),l=i("c6a657e2"),d=i("e7f83d1e"),u=i("cff8cc1d"),h=i("eaa7c5e8"),c=i("5bb4e77a"),g=i("25229b8a"),_=i("96875aa5"),m=i("77171b57"),f=i("b1fc2372"),p=i("aca47fe0"),b=i("2aa5bed3"),v=this&&this.__decorate||function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o;},S=this&&this.__param||function(e,t){return function(i,n){t(i,n,e);};};function L(e){return e.toString();}class M{constructor(e,t,i){this.model=e,this._modelEventListeners=new o.DisposableStore,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>i(e,t)));}dispose(){this._modelEventListeners.dispose();}}let k=a.isLinux||a.isMacintosh?1:2;class C{constructor(e,t,i,n,r,s,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=r,this.sha1=s,this.versionId=o,this.alternativeVersionId=a;}}let w=class extends o.Disposable{static #e=n=this;static #t=this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520;constructor(e,t,i,n){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=n,this._onModelAdded=this._register(new s.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new s.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new s.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(e=>this._updateModelOptions(e))),this._updateModelOptions(void 0);}static _readModelOptions(e,t){var i;let n=d.EDITOR_MODEL_DEFAULTS.tabSize;if(e.editor&&void 0!==e.editor.tabSize){let t=parseInt(e.editor.tabSize,10);isNaN(t)||(n=t),n<1&&(n=1);}let r="tabSize";if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){let t=parseInt(e.editor.indentSize,10);isNaN(t)||(r=Math.max(t,1));}let s=d.EDITOR_MODEL_DEFAULTS.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&!!e.editor.insertSpaces);let o=k,a=e.eol;"\r\n"===a?o=2:"\n"===a&&(o=1);let l=d.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&!!e.editor.trimAutoWhitespace);let u=d.EDITOR_MODEL_DEFAULTS.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&!!e.editor.detectIndentation);let h=d.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&!!e.editor.largeFileOptimizations);let c=d.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return(null===(i=e.editor)||void 0===i?void 0:i.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(c={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:r,insertSpaces:s,detectIndentation:u,defaultEOL:o,trimAutoWhitespace:l,largeFileOptimizations:h,bracketPairColorizationOptions:c};}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);let i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===a.OS||2===a.OS?"\n":"\r\n";}_shouldRestoreUndoStack(){let e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e;}getCreationOptions(e,t,i){let r="string"==typeof e?e:e.languageId,s=this._modelCreationOptionsByLanguageAndResource[r+t];if(!s){let e=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),o=this._getEOL(t,r);s=n._readModelOptions({editor:e,eol:o},i),this._modelCreationOptionsByLanguageAndResource[r+t]=s;}return s;}_updateModelOptions(e){let t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let i=Object.keys(this._models);for(let r=0,s=i.length;r<s;r++){let s=i[r],o=this._models[s],a=o.model.getLanguageId(),l=o.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:a,resource:l})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:a,resource:l}))continue;let d=t[a+l],u=this.getCreationOptions(a,l,o.model.isForSimpleWidget);n._setModelOptionsForModel(o.model,u,d);}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&(0,p.equals)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}));}_insertDisposedModel(e){this._disposedModels.set(L(e.uri),e),this._disposedModelsHeapSize+=e.heapSize;}_removeDisposedModel(e){let t=this._disposedModels.get(L(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(L(e)),t;}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){let t=[];for(this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e);}),t.sort((e,t)=>e.time-t.time);t.length>0&&this._disposedModelsHeapSize>e;){let e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot);}}}_createModelData(e,t,i,n){let r=this.getCreationOptions(t,i,n),s=this._instantiationService.createInstance(l.TextModel,e,t,r,i);if(i&&this._disposedModels.has(L(i))){let e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=this._getSHA1Computer(),r=!!n.canComputeSHA1(s)&&n.computeSHA1(s)===e.sha1;if(r||e.sharesUndoRedoStack){for(let e of t.past)(0,m.isEditStackElement)(e)&&e.matchesResource(i)&&e.setModel(s);for(let e of t.future)(0,m.isEditStackElement)(e)&&e.matchesResource(i)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,e=>(0,m.isEditStackElement)(e)&&e.matchesResource(i)),r&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot));}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot);}let o=L(s.uri);if(this._models[o])throw Error("ModelService: Cannot add model because it already exists!");let a=new M(s,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[o]=a,a;}createModel(e,t,i,n=!1){let r;return r=t?this._createModelData(e,t,i,n):this._createModelData(e,u.PLAINTEXT_LANGUAGE_ID,i,n),this._onModelAdded.fire(r.model),r.model;}getModels(){let e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let n=t[i];e.push(this._models[n].model);}return e;}getModel(e){let t=L(e),i=this._models[t];return i?i.model:null;}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===f.Schemas.file||e.scheme===f.Schemas.vscodeRemote||e.scheme===f.Schemas.vscodeUserData||e.scheme===f.Schemas.vscodeNotebookCell||"fake-fs"===e.scheme;}_onWillDispose(e){let t=L(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString(),s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){let t=this._undoRedoService.getElements(e.uri);if(t.past.length>0||t.future.length>0){for(let i of t.past)(0,m.isEditStackElement)(i)&&i.matchesResource(e.uri)&&(s=!0,o+=i.heapSize(e.uri),i.setModel(e.uri));for(let i of t.future)(0,m.isEditStackElement)(i)&&i.matchesResource(e.uri)&&(s=!0,o+=i.heapSize(e.uri),i.setModel(e.uri));}}let a=n.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(s){if(r||!(o>a)&&l.canComputeSHA1(e))this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,t=>(0,m.isEditStackElement)(t)&&t.matchesResource(e.uri)),this._insertDisposedModel(new C(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else{let e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e);}}else if(!r){let e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e);}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e);}_onDidChangeLanguage(e,t){let i=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);n._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldLanguageId:i});}_getSHA1Computer(){return new y;}};w=n=v([S(0,c.IConfigurationService),S(1,h.ITextResourcePropertiesService),S(2,g.IUndoRedoService),S(3,b.IInstantiationService)],w);class y{static #e=this.MAX_MODEL_SIZE=10485760;canComputeSHA1(e){return e.getValueLength()<=y.MAX_MODEL_SIZE;}computeSHA1(e){let t;let i=new _.StringSHA1,n=e.createSnapshot();for(;t=n.read();)i.update(t);return i.digest();}}},"2d0f95c5":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"MarkerDecorationsService",{enumerable:!0,get:function(){return p;}});var n=i("18203969"),r=i("77b755a9"),s=i("fb87d58a"),o=i("dd8f73a0"),a=i("05de99d3"),l=i("64976f50"),d=i("e7e5ddb3"),u=i("b1fc2372"),h=i("e793196d"),c=i("e735ca16"),g=i("c6bdbcd6"),_=i("14786fb4"),m=this&&this.__decorate||function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o;},f=this&&this.__param||function(e,t){return function(i,n){t(i,n,e);};};let p=class extends r.Disposable{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new h.Emitter),this._markerDecorations=new g.ResourceMap,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this));}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear();}getMarker(e,t){let i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null;}_handleMarkerChange(e){e.forEach(e=>{let t=this._markerDecorations.get(e);t&&this._updateDecorations(t);});}_onModelAdded(e){let t=new b(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t);}_onModelRemoved(e){let t=this._markerDecorations.get(e.uri);if(t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme===u.Schemas.inMemory||e.uri.scheme===u.Schemas.internal||e.uri.scheme===u.Schemas.vscode){var i;null===(i=this._markerService)||void 0===i||i.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]));}}_updateDecorations(e){let t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model);}};p=m([f(0,l.IModelService),f(1,n.IMarkerService)],p);class b extends r.Disposable{constructor(e){super(),this.model=e,this._map=new g.BidirectionalMap,this._register((0,r.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear();}));}update(e){let{added:t,removed:i}=(0,_.diffSets)(new Set(this._map.keys()),new Set(e));if(0===t.length&&0===i.length)return!1;let n=i.map(e=>this._map.get(e)),r=t.map(e=>({range:this._createDecorationRange(this.model,e),options:this._createDecorationOption(e)})),s=this.model.deltaDecorations(n,r);for(let e of i)this._map.delete(e);for(let e=0;e<s.length;e++)this._map.set(t[e],s[e]);return!0;}getMarker(e){return this._map.getKey(e.id);}_createDecorationRange(e,t){let i=d.Range.lift(t);if(t.severity!==n.MarkerSeverity.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),(i=e.validateRange(i)).isEmpty()){let t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(1===t||i.endColumn>=t)return i;let n=e.getWordAtPosition(i.getStartPosition());n&&(i=new d.Range(i.startLineNumber,n.startColumn,i.endLineNumber,n.endColumn));}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new d.Range(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n);}return i;}_createDecorationOption(e){let t,i,r,l,d;switch(e.severity){case n.MarkerSeverity.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case n.MarkerSeverity.Info:t="squiggly-info",l=(0,o.themeColorFromId)(a.overviewRulerInfo),i=10,r={color:(0,o.themeColorFromId)(c.minimapInfo),position:1};break;case n.MarkerSeverity.Warning:t="squiggly-warning",l=(0,o.themeColorFromId)(a.overviewRulerWarning),i=20,r={color:(0,o.themeColorFromId)(c.minimapWarning),position:1};break;case n.MarkerSeverity.Error:default:t="squiggly-error",l=(0,o.themeColorFromId)(a.overviewRulerError),i=30,r={color:(0,o.themeColorFromId)(c.minimapError),position:1};}return e.tags&&(-1!==e.tags.indexOf(1)&&(d="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(d="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:l,position:s.OverviewRulerLane.Right},minimap:r,zIndex:i,inlineClassName:d};}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0;}}},"2f669087":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"findSectionHeaders",{enumerable:!0,get:function(){return s;}});let n=RegExp("\\bMARK:\\s*(.*)$","d"),r=/^-+|-+$/g;function s(e,t){var i;let r=[];if(t.findRegionSectionHeaders&&(null===(i=t.foldingRules)||void 0===i?void 0:i.markers)){let i=function(e,t){let i=[],n=e.getLineCount();for(let r=1;r<=n;r++){let n=e.getLineContent(r),s=n.match(t.foldingRules.markers.start);if(s){let e={startLineNumber:r,startColumn:s[0].length+1,endLineNumber:r,endColumn:n.length+1};if(e.endColumn>e.startColumn){let t={range:e,...o(n.substring(s[0].length)),shouldBeInComments:!1};(t.text||t.hasSeparatorLine)&&i.push(t);}}}return i;}(e,t);r=r.concat(i);}if(t.findMarkSectionHeaders){let t=function(e){let t=[],i=e.getLineCount();for(let r=1;r<=i;r++)!function(e,t,i){n.lastIndex=0;let r=n.exec(e);if(r){let e={startLineNumber:t,startColumn:r.indices[1][0]+1,endLineNumber:t,endColumn:r.indices[1][1]+1};if(e.endColumn>e.startColumn){let t={range:e,...o(r[1]),shouldBeInComments:!0};(t.text||t.hasSeparatorLine)&&i.push(t);}}}(e.getLineContent(r),r,t);return t;}(e);r=r.concat(t);}return r;}function o(e){let t=(e=e.trim()).startsWith("-");return{text:e=e.replace(r,""),hasSeparatorLine:t};}},"48f06c34":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{clearPlatformLanguageAssociations:function(){return _;},getLanguageIds:function(){return m;},registerPlatformLanguageAssociation:function(){return g;}});var n=i("b1a5f926"),r=i("5a3bf395"),s=i("b1fc2372"),o=i("de40946f"),a=i("8958419b"),l=i("246b9c8c"),d=i("cff8cc1d");let u=[],h=[],c=[];function g(e,t=!1){!function(e,t,i){let r={id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,n.parse)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(o.posix.sep)>=0};u.push(r),r.userConfigured?c.push(r):h.push(r),i&&!r.userConfigured&&u.forEach(e=>{e.mime!==r.mime&&!e.userConfigured&&(r.extension&&e.extension===r.extension&&console.warn(`Overwriting extension <<${r.extension}>> to now point to mime <<${r.mime}>>`),r.filename&&e.filename===r.filename&&console.warn(`Overwriting filename <<${r.filename}>> to now point to mime <<${r.mime}>>`),r.filepattern&&e.filepattern===r.filepattern&&console.warn(`Overwriting filepattern <<${r.filepattern}>> to now point to mime <<${r.mime}>>`),r.firstline&&e.firstline===r.firstline&&console.warn(`Overwriting firstline <<${r.firstline}>> to now point to mime <<${r.mime}>>`));});}(e,!1,t);}function _(){u=u.filter(e=>e.userConfigured),h=[];}function m(e,t){return(function(e,t){let i;if(e)switch(e.scheme){case s.Schemas.file:i=e.fsPath;break;case s.Schemas.data:i=a.DataUri.parseMetaData(e).get(a.DataUri.META_DATA_LABEL);break;case s.Schemas.vscodeNotebookCell:i=void 0;break;default:i=e.path;}if(!i)return[{id:"unknown",mime:r.Mimes.unknown}];i=i.toLowerCase();let n=(0,o.basename)(i),g=f(i,n,c);if(g)return[g,{id:d.PLAINTEXT_LANGUAGE_ID,mime:r.Mimes.text}];let _=f(i,n,h);if(_)return[_,{id:d.PLAINTEXT_LANGUAGE_ID,mime:r.Mimes.text}];if(t){let e=function(e){if((0,l.startsWithUTF8BOM)(e)&&(e=e.substr(1)),e.length>0)for(let t=u.length-1;t>=0;t--){let i=u[t];if(!i.firstline)continue;let n=e.match(i.firstline);if(n&&n.length>0)return i;}}(t);if(e)return[e,{id:d.PLAINTEXT_LANGUAGE_ID,mime:r.Mimes.text}];}return[{id:"unknown",mime:r.Mimes.unknown}];})(e,t).map(e=>e.id);}function f(e,t,i){let n,r,s;for(let a=i.length-1;a>=0;a--){let l=i[a];if(t===l.filenameLowercase){n=l;break;}if(l.filepattern&&(!r||l.filepattern.length>r.filepattern.length)){var o;let i=l.filepatternOnPath?e:t;(null===(o=l.filepatternLowercase)||void 0===o?void 0:o.call(l,i))&&(r=l);}l.extension&&(!s||l.extension.length>s.extension.length)&&t.endsWith(l.extensionLowercase)&&(s=l);}return n||r||s||void 0;}},"590b2780":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"ITreeSitterParserService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("treeSitterParserService");},"5a32b715":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"ILanguageFeaturesService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("ILanguageFeaturesService");},"638fa91f":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{ILanguageFeatureDebounceService:function(){return _;},LanguageFeatureDebounceService:function(){return p;}});var n,r=i("96875aa5"),s=i("c6bdbcd6"),o=i("0841d709"),a=i("d27182b7"),l=i("ad8563a1"),d=i("2aa5bed3"),u=i("9bfcb0cf"),h=i("b1fc2372"),c=this&&this.__decorate||function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o;},g=this&&this.__param||function(e,t){return function(i,n){t(i,n,e);};};let _=(0,d.createDecorator)("ILanguageFeatureDebounceService");!function(e){let t=new WeakMap,i=0;e.of=function(e){let n=t.get(e);return void 0===n&&(n=++i,t.set(e,n)),n;};}(n||(n={}));class m{constructor(e){this._default=e;}get(e){return this._default;}update(e,t){return this._default;}default(){return this._default;}}class f{constructor(e,t,i,n,r,o){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=r,this._max=o,this._cache=new s.LRUCache(50,.7);}_key(e){return e.id+this._registry.all(e).reduce((e,t)=>(0,r.doHash)(n.of(t),e),0);}get(e){let t=this._key(e),i=this._cache.get(t);return i?(0,o.clamp)(i.value,this._min,this._max):this.default();}update(e,t){let i=this._key(e),n=this._cache.get(i);n||(n=new o.SlidingWindowAverage(6),this._cache.set(i,n));let r=(0,o.clamp)(n.update(t),this._min,this._max);return(0,h.matchesScheme)(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${r}ms`),r;}_overall(){let e=new o.MovingAverage;for(let[,t]of this._cache)e.update(t.value);return e.value;}default(){let e=0|this._overall()||this._default;return(0,o.clamp)(e,this._min,this._max);}}let p=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt;}for(e,t,i){let r=(null==i?void 0:i.min)??50,s=(null==i?void 0:i.max)??r**2,o=(null==i?void 0:i.key)??void 0,a=`${n.of(e)},${r}${o?","+o:""}`,l=this._data.get(a);return l||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),l=new m(1.5*r)):l=new f(this._logService,t,e,0|this._overallAverage()||1.5*r,r,s),this._data.set(a,l)),l;}_overallAverage(){let e=new o.MovingAverage;for(let t of this._data.values())e.update(t.default());return e.value;}};p=c([g(0,u.ILogService),g(1,a.IEnvironmentService)],p),(0,l.registerSingleton)(_,p,1);},"64976f50":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"IModelService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("modelService");},"78d71d5f":function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{LanguageFeaturesService:function(){return c;}});var n=i("e793196d"),r=i("77b755a9"),s=i("fb87d58a"),o=i("98fbbb62");class a{constructor(e,t,i,n,r){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=n,this.recursive=r;}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(i=e.notebookUri)||void 0===i?void 0:i.toString())&&this.recursive===e.recursive;}}class l{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new n.Emitter,this.onDidChange=this._onDidChange.event;}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,r.toDisposable)(()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0);}});}has(e){return this.all(e).length>0;}all(e){if(!e)return[];this._updateScores(e,!1);let t=[];for(let e of this._entries)e._score>0&&t.push(e.provider);return t;}ordered(e,t=!1){let i=[];return this._orderedForEach(e,t,e=>i.push(e.provider)),i;}orderedGroups(e){let t,i;let n=[];return this._orderedForEach(e,!1,e=>{t&&i===e._score?t.push(e.provider):(i=e._score,t=[e.provider],n.push(t));}),n;}_orderedForEach(e,t,i){for(let n of(this._updateScores(e,t),this._entries))n._score>0&&i(n);}_updateScores(e,t){var i,n;let r=null===(i=this._notebookInfoResolver)||void 0===i?void 0:i.call(this,e.uri),d=r?new a(e.uri,e.getLanguageId(),r.uri,r.type,t):new a(e.uri,e.getLanguageId(),void 0,void 0,t);if(null===(n=this._lastCandidate)||void 0===n||!n.equals(d)){for(let i of(this._lastCandidate=d,this._entries))if(i._score=(0,o.score)(i.selector,d.uri,d.languageId,(0,s.shouldSynchronizeModel)(e),d.notebookUri,d.notebookType),function e(t){return"string"!=typeof t&&(Array.isArray(t)?t.every(e):!!t.exclusive);}(i.selector)&&i._score>0){if(t)i._score=0;else{for(let e of this._entries)e._score=0;i._score=1e3;break;}}this._entries.sort(l._compareByScoreAndTime);}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:d(e.selector)&&!d(t.selector)?1:!d(e.selector)&&d(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0;}}function d(e){return"string"!=typeof e&&(Array.isArray(e)?e.some(d):!!e.isBuiltin);}var u=i("5a32b715"),h=i("ad8563a1");class c{constructor(){this.referenceProvider=new l(this._score.bind(this)),this.renameProvider=new l(this._score.bind(this)),this.newSymbolNamesProvider=new l(this._score.bind(this)),this.codeActionProvider=new l(this._score.bind(this)),this.definitionProvider=new l(this._score.bind(this)),this.typeDefinitionProvider=new l(this._score.bind(this)),this.declarationProvider=new l(this._score.bind(this)),this.implementationProvider=new l(this._score.bind(this)),this.documentSymbolProvider=new l(this._score.bind(this)),this.inlayHintsProvider=new l(this._score.bind(this)),this.colorProvider=new l(this._score.bind(this)),this.codeLensProvider=new l(this._score.bind(this)),this.documentFormattingEditProvider=new l(this._score.bind(this)),this.documentRangeFormattingEditProvider=new l(this._score.bind(this)),this.onTypeFormattingEditProvider=new l(this._score.bind(this)),this.signatureHelpProvider=new l(this._score.bind(this)),this.hoverProvider=new l(this._score.bind(this)),this.documentHighlightProvider=new l(this._score.bind(this)),this.multiDocumentHighlightProvider=new l(this._score.bind(this)),this.selectionRangeProvider=new l(this._score.bind(this)),this.foldingRangeProvider=new l(this._score.bind(this)),this.linkProvider=new l(this._score.bind(this)),this.inlineCompletionsProvider=new l(this._score.bind(this)),this.inlineEditProvider=new l(this._score.bind(this)),this.completionProvider=new l(this._score.bind(this)),this.linkedEditingRangeProvider=new l(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new l(this._score.bind(this)),this.documentSemanticTokensProvider=new l(this._score.bind(this)),this.documentDropEditProvider=new l(this._score.bind(this)),this.documentPasteEditProvider=new l(this._score.bind(this));}_score(e){var t;return null===(t=this._notebookTypeResolver)||void 0===t?void 0:t.call(this,e);}}(0,h.registerSingleton)(u.ILanguageFeaturesService,c,1);},"8a38bedd":function(e,t,i){"use strict";var n=i("852bbaa9")._;i.d(t,"__esModule",{value:!0}),i.e(t,{BaseEditorSimpleWorker:function(){return b;},EditorSimpleWorker:function(){return v;},create:function(){return S;}});var r=i("bc8d7448"),s=i("e7e5ddb3"),o=i("77b7f41b"),a=i("1571367e"),l=i("9546ac13"),d=i("ad681e85"),u=i("828912ae"),h=i("b3417208"),c=i("be57ca78"),g=i("aca47fe0"),_=i("b1fc2372"),m=i("d408f0fe"),f=i("2f669087"),p=i("dc152a6d");class b{constructor(){this._workerTextModelSyncServer=new p.WorkerTextModelSyncServer;}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e);}_getModels(){return this._workerTextModelSyncServer.getModels();}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e);}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t);}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e);}async $computeUnicodeHighlights(e,t,i){let n=this._getModel(e);return n?h.UnicodeTextModelHighlighter.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};}async $findSectionHeaders(e,t){let i=this._getModel(e);return i?(0,f.findSectionHeaders)(i,t):[];}async $computeDiff(e,t,i,n){let r=this._getModel(e),s=this._getModel(t);return r&&s?v.computeDiff(r,s,i,n):null;}static computeDiff(e,t,i,n){let r="advanced"===n?c.linesDiffComputers.getDefault():c.linesDiffComputers.getLegacy(),s=e.getLinesContent(),o=t.getLinesContent(),a=r.computeDiff(s,o,i);function l(e){return e.map(e=>{var t;return[e.original.startLineNumber,e.original.endLineNumberExclusive,e.modified.startLineNumber,e.modified.endLineNumberExclusive,null===(t=e.innerChanges)||void 0===t?void 0:t.map(e=>[e.originalRange.startLineNumber,e.originalRange.startColumn,e.originalRange.endLineNumber,e.originalRange.endColumn,e.modifiedRange.startLineNumber,e.modifiedRange.startColumn,e.modifiedRange.endLineNumber,e.modifiedRange.endColumn])];});}return{identical:!(a.changes.length>0)&&this._modelsAreIdentical(e,t),quitEarly:a.hitTimeout,changes:l(a.changes),moves:a.moves.map(e=>[e.lineRangeMapping.original.startLineNumber,e.lineRangeMapping.original.endLineNumberExclusive,e.lineRangeMapping.modified.startLineNumber,e.lineRangeMapping.modified.endLineNumberExclusive,l(e.changes)])};}static _modelsAreIdentical(e,t){let i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++)if(e.getLineContent(n)!==t.getLineContent(n))return!1;return!0;}static #e=this._diffLimit=1e5;async $computeMoreMinimalEdits(e,t,i){let n;let o=this._getModel(e);if(!o)return t;let a=[];t=t.slice(0).sort((e,t)=>e.range&&t.range?s.Range.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1));let l=0;for(let e=1;e<t.length;e++)s.Range.getEndPosition(t[l].range).equals(s.Range.getStartPosition(t[e].range))?(t[l].range=s.Range.fromPositions(s.Range.getStartPosition(t[l].range),s.Range.getEndPosition(t[e].range)),t[l].text+=t[e].text):t[++l]=t[e];for(let{range:e,text:d,eol:u}of(t.length=l+1,t)){if("number"==typeof u&&(n=u),s.Range.isEmpty(e)&&!d)continue;let t=o.getValueInRange(e);if(t===(d=d.replace(/\r\n|\n|\r/g,o.eol)))continue;if(Math.max(d.length,t.length)>v._diffLimit){a.push({range:e,text:d});continue;}let l=(0,r.stringDiff)(t,d,i),h=o.offsetAt(s.Range.lift(e).getStartPosition());for(let e of l){let t=o.positionAt(h+e.originalStart),i=o.positionAt(h+e.originalStart+e.originalLength),n={text:d.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}};o.getValueInRange(n.range)!==n.text&&a.push(n);}}return"number"==typeof n&&a.push({eol:n,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),a;}async $computeLinks(e){let t=this._getModel(e);return t?(0,o.computeLinks)(t):null;}async $computeDefaultDocumentColors(e){let t=this._getModel(e);return t?(0,m.computeDefaultDocumentColors)(t):null;}static #t=this._suggestionsLimit=1e4;async $textualSuggest(e,t,i,n){let r=new u.StopWatch,s=new RegExp(i,n),o=new Set;e:for(let i of e){let e=this._getModel(i);if(e){for(let i of e.words(s))if(i!==t&&isNaN(Number(i))&&(o.add(i),o.size>v._suggestionsLimit))break e;}}return{words:Array.from(o),duration:r.elapsed()};}async $computeWordRanges(e,t,i,n){let r=this._getModel(e);if(!r)return Object.create(null);let s=new RegExp(i,n),o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++)for(let t of r.getLineWords(e,s)){if(!isNaN(Number(t.word)))continue;let i=o[t.word];i||(i=[],o[t.word]=i),i.push({startLineNumber:e,startColumn:t.startColumn,endLineNumber:e,endColumn:t.endColumn});}return o;}async $navigateValueSet(e,t,i,n,r){let s=this._getModel(e);if(!s)return null;let o=new RegExp(n,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),d=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},o);if(!d)return null;let u=s.getValueInRange(d);return a.BasicInplaceReplace.INSTANCE.navigateValueSet(t,l,d,u,i);}}class v extends b{constructor(e,t){super(),this._host=e,this._foreignModuleFactory=t,this._foreignModule=null;}async $ping(){return"pong";}$loadForeignModule(e,t,r){let s={host:(0,g.createProxyObject)(r,(e,t)=>this._host.$fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve((0,g.getAllMethodNames)(this._foreignModule))):new Promise((r,o)=>{{let a=_.FileAccess.asBrowserUri(`${e}.js`).toString(!0);Promise.all([i.ensure("41520e5d")]).then(i.dr(n,i.bind(i,"41520e5d"))).then(e=>e.default(`./${a}`)).then(e=>{this._foreignModule=e.create(s,t),r((0,g.getAllMethodNames)(this._foreignModule));}).catch(o);}});}$fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t));}catch(e){return Promise.reject(e);}}}function S(e){return new v(d.EditorWorkerHost.getChannel(e),null);}"function"==typeof importScripts&&(globalThis.monaco=(0,l.createMonacoBaseAPI)());},"8faab68e":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{LanguageIdCodec:function(){return c;},LanguagesRegistry:function(){return g;}});var n=i("e793196d"),r=i("77b755a9"),s=i("246b9c8c"),o=i("48f06c34"),a=i("cff8cc1d"),l=i("2ca3d919"),d=i("b9fa25a6");let u=Object.prototype.hasOwnProperty,h="vs.editor.nullLanguage";class c{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(h,0),this._register(a.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2;}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t);}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t);}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0;}decodeLanguageId(e){return this._languageIdToLanguage[e]||h;}}class g extends r.Disposable{static #e=this.instanceCount=0;constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new n.Emitter),this.onDidChange=this._onDidChange.event,g.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new c,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(a.ModesRegistry.onDidChangeLanguages(e=>{this._initializeFromRegistry();})));}dispose(){g.instanceCount--,super.dispose();}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,o.clearPlatformLanguageAssociations)();let e=[].concat(a.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e);}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier;}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier;});}),d.Registry.as(l.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire();}_registerLanguage(e){let t;let i=e.id;u.call(this._languages,i)?t=this._languages[i]:(this.languageIdCodec.register(i),t={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=t),this._mergeLanguage(t,e);}_mergeLanguage(e,t){let i=t.id,n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions))for(let r of(t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions),t.extensions))(0,o.registerPlatformLanguageAssociation)({id:i,mime:n,extension:r},this._warnOnOverwrite);if(Array.isArray(t.filenames))for(let r of t.filenames)(0,o.registerPlatformLanguageAssociation)({id:i,mime:n,filename:r},this._warnOnOverwrite),e.filenames.push(r);if(Array.isArray(t.filenamePatterns))for(let e of t.filenamePatterns)(0,o.registerPlatformLanguageAssociation)({id:i,mime:n,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);(0,s.regExpLeadsToEndlessLoop)(t)||(0,o.registerPlatformLanguageAssociation)({id:i,mime:n,firstline:t},this._warnOnOverwrite);}catch(i){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,i);}}e.aliases.push(i);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(let t of r)t&&0!==t.length&&e.aliases.push(t);let a=null!==r&&r.length>0;if(a&&null===r[0]);else{let t=(a?r[0]:null)||i;(a||!e.name)&&(e.name=t);}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon);}isRegisteredLanguageId(e){return!!e&&u.call(this._languages,e);}getRegisteredLanguageIds(){return Object.keys(this._languages);}getLanguageIdByLanguageName(e){let t=e.toLowerCase();return u.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null;}getLanguageIdByMimeType(e){return e&&u.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null;}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,o.getLanguageIds)(e,t):[];}}},"91026ff9":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"ITextModelService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("textModelService");},"9546ac13":function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{KeyMod:function(){return g;},createMonacoBaseAPI:function(){return _;}});var n=i("852bbaa9"),r=i("d2d60730"),s=i("e793196d"),o=i("7fa5ee2d"),a=i("f2d5d1a7"),l=i("47118010"),d=i("e7e5ddb3"),u=i("6df51a13"),h=i("755c7d16"),c=n._(i("c7cf752f"));class g{static #e=this.CtrlCmd=2048;static #t=this.Shift=1024;static #i=this.Alt=512;static #n=this.WinCtrl=256;static chord(e,t){return(0,o.KeyChord)(e,t);}}function _(){return{editor:void 0,languages:void 0,CancellationTokenSource:r.CancellationTokenSource,Emitter:s.Emitter,KeyCode:c.KeyCode,KeyMod:g,Position:l.Position,Range:d.Range,Selection:u.Selection,SelectionDirection:c.SelectionDirection,MarkerSeverity:c.MarkerSeverity,MarkerTag:c.MarkerTag,Uri:a.URI,Token:h.Token};}},ad681e85:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"EditorWorkerHost",{enumerable:!0,get:function(){return n;}});class n{static #e=this.CHANNEL_NAME="editorWorkerHost";static getChannel(e){return e.getChannel(n.CHANNEL_NAME);}static setChannel(e,t){e.setChannel(n.CHANNEL_NAME,t);}}},ae3d95cd:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"IEditorWorkerService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("editorWorkerService");},b3417208:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"UnicodeTextModelHighlighter",{enumerable:!0,get:function(){return d;}});var n=i("852bbaa9"),r=i("e7e5ddb3"),s=i("64b17507"),o=n._(i("246b9c8c")),a=i("cac3a6eb"),l=i("4af8c435");class d{static computeUnicodeHighlights(e,t,i){var n;let d,h;let c=i?i.startLineNumber:1,g=i?i.endLineNumber:e.getLineCount(),_=new u(t),m=_.getCandidateCodePoints();d="allNonBasicAscii"===m?RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):RegExp(`${(n=Array.from(m),`[${o.escapeRegExpCharacters(n.map(e=>String.fromCodePoint(e)).join(""))}]`)}`,"g");let f=new s.Searcher(null,d),p=[],b=!1,v=0,S=0,L=0;t:for(let t=c;t<=g;t++){let i=e.getLineContent(t),n=i.length;f.reset(0);do if(h=f.next(i)){let e=h.index,s=h.index+h[0].length;if(e>0){let t=i.charCodeAt(e-1);o.isHighSurrogate(t)&&e--;}if(s+1<n){let e=i.charCodeAt(s-1);o.isHighSurrogate(e)&&s++;}let d=i.substring(e,s),u=(0,l.getWordAtText)(e+1,l.DEFAULT_WORD_REGEXP,i,0);u&&u.endColumn<=e+1&&(u=null);let c=_.shouldHighlightNonBasicASCII(d,u?u.word:null);if(0!==c){if(3===c?v++:2===c?S++:1===c?L++:(0,a.assertNever)(c),p.length>=1e3){b=!0;break t;}p.push(new r.Range(t,e+1,t,s+1));}}while(h)}return{ranges:p,hasMore:b,ambiguousCharacterCount:v,invisibleCharacterCount:S,nonBasicAsciiCharacterCount:L};}static computeUnicodeHighlightReason(e,t){let i=new u(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{let n=e.codePointAt(0),r=i.ambiguousCharacters.getPrimaryConfusable(n),s=o.AmbiguousCharacters.getLocales().filter(e=>!o.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(n));return{kind:0,confusableWith:String.fromCodePoint(r),notAmbiguousInLocales:s};}case 1:return{kind:2};}}}class u{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=o.AmbiguousCharacters.getInstance(new Set(e.allowedLocales));}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of o.InvisibleCharacters.codePoints)h(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(let t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e;}shouldHighlightNonBasicASCII(e,t){let i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,r=!1;if(t)for(let e of t){let t=e.codePointAt(0),i=o.isBasicASCII(e);n=n||i,i||this.ambiguousCharacters.isAmbiguous(t)||o.InvisibleCharacters.isInvisibleCharacter(t)||(r=!0);}return!n&&r?0:this.options.invisibleCharacters&&!h(e)&&o.InvisibleCharacters.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0;}}function h(e){return" "===e||"\n"===e||"	"===e;}},c6f02569:function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{SemanticTokensProviderStyling:function(){return _;},toMultilineTokens2:function(){return m;}}),i("0cba99d7");var n=i("dd8f73a0"),r=i("9bfcb0cf"),s=i("47118010"),o=i("e7e5ddb3"),a=i("17014ea9");class l{static create(e,t){return new l(e,new d(t));}get startLineNumber(){return this._startLineNumber;}get endLineNumber(){return this._endLineNumber;}constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine();}toString(){return this._tokens.toString(this._startLineNumber);}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine();}isEmpty(){return this._tokens.isEmpty();}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null;}getRange(){let e=this._tokens.getRange();return e?new o.Range(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn):e;}removeTokens(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber();}split(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,r,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new l(this._startLineNumber,n),new l(this._startLineNumber+s,r)];}applyEdit(e,t){let[i,n,r]=(0,a.countEOL)(t);this.acceptEdit(e,i,n,r,t.length>0?t.charCodeAt(0):0);}acceptEdit(e,t,i,n,r){this._acceptDeleteRange(e),this._acceptInsertText(new s.Position(e.startLineNumber,e.startColumn),t,i,n,r),this._updateEndLineNumber();}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){let e=i-t;this._startLineNumber-=e;return;}let n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return;}if(t<0){let n=-t;this._startLineNumber-=n,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1);}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1);}}_acceptInsertText(e,t,i,n,r){if(0===t&&0===i)return;let s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return;}s>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(s,e.column-1,t,i,n,r);}}class d{constructor(e){this._tokens=e,this._tokenCount=e.length/4;}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`;}getMaxDeltaLine(){let e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1);}getRange(){let e=this._getTokenCount();if(0===e)return null;let t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new o.Range(0,t+1,i,n+1);}_getTokenCount(){return this._tokenCount;}_getDeltaLine(e){return this._tokens[4*e];}_getStartCharacter(e){return this._tokens[4*e+1];}_getEndCharacter(e){return this._tokens[4*e+2];}isEmpty(){return 0===this._getTokenCount();}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){let n=t+Math.floor((i-t)/2),r=this._getDeltaLine(n);if(r<e)t=n+1;else if(r>e)i=n-1;else{let r=n;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let s=n;for(;s<i&&this._getDeltaLine(s+1)===e;)s++;return new u(this._tokens.subarray(4*r,4*s+4));}}return this._getDeltaLine(t)===e?new u(this._tokens.subarray(4*t,4*t+4)):null;}clear(){this._tokenCount=0;}removeTokens(e,t,i,n){let r=this._tokens,s=this._tokenCount,o=0,a=!1,l=0;for(let d=0;d<s;d++){let s=4*d,u=r[s],h=r[s+1],c=r[s+2],g=r[s+3];if((u>e||u===e&&c>=t)&&(u<i||u===i&&h<=n))a=!0;else{if(0===o&&(l=u),a){let e=4*o;r[e]=u-l,r[e+1]=h,r[e+2]=c,r[e+3]=g;}o++;}}return this._tokenCount=o,l;}split(e,t,i,n){let r=this._tokens,s=this._tokenCount,o=[],a=[],l=o,u=0,h=0;for(let o=0;o<s;o++){let s=4*o,d=r[s],c=r[s+1],g=r[s+2],_=r[s+3];if(d>e||d===e&&g>=t){if(d<i||d===i&&c<=n)continue;l!==a&&(l=a,u=0,h=d);}l[u++]=d-h,l[u++]=c,l[u++]=g,l[u++]=_;}return[new d(new Uint32Array(o)),new d(new Uint32Array(a)),h];}acceptDeleteRange(e,t,i,n,r){let s=this._tokens,o=this._tokenCount,a=n-t,l=0,d=!1;for(let u=0;u<o;u++){let h=4*u,c=s[h],g=s[h+1],_=s[h+2],m=s[h+3];if(c<t||c===t&&_<=i){l++;continue;}if(c===t&&g<i)c===n&&_>r?_-=r-i:_=i;else if(c===t&&g===i){if(c===n&&_>r)_-=r-i;else{d=!0;continue;}}else if(c<n||c===n&&g<r){if(c===n&&_>r)c=t,_=(g=i)+(_-r);else{d=!0;continue;}}else if(c>n){if(0===a&&!d){l=o;break;}c-=a;}else if(c===n&&g>=r)e&&0===c&&(g+=e,_+=e),c-=a,g-=r-i,_-=r-i;else throw Error("Not possible!");let f=4*l;s[f]=c,s[f+1]=g,s[f+2]=_,s[f+3]=m,l++;}this._tokenCount=l;}acceptInsertText(e,t,i,n,r,s){let o=0===i&&1===n&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),a=this._tokens,l=this._tokenCount;for(let s=0;s<l;s++){let l=4*s,d=a[l],u=a[l+1],h=a[l+2];if(!(d<e)&&(d!==e||!(h<t))){if(d===e&&h===t){if(!o)continue;h+=1;}else if(d===e&&u<t&&t<h)0===i?h+=n:h=t;else{if(d===e&&u===t&&o)continue;if(d===e){if(d+=i,0===i)u+=n,h+=n;else{let e=h-u;h=(u=r+(u-t))+e;}}else d+=i;}a[l]=d,a[l+1]=u,a[l+2]=h;}}}}class u{constructor(e){this._tokens=e;}getCount(){return this._tokens.length/4;}getStartCharacter(e){return this._tokens[4*e+1];}getEndCharacter(e){return this._tokens[4*e+2];}getMetadata(e){return this._tokens[4*e+3];}}var h=i("4dc1b036"),c=this&&this.__decorate||function(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o;},g=this&&this.__param||function(e,t){return function(i,n){t(i,n,e);};};let _=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new p;}getMetadata(e,t,i){let n;let r=this._languageService.languageIdCodec.encodeLanguageId(i),s=this._hashTable.get(e,t,r);if(s)n=s.metadata;else{let s=this._legend.tokenTypes[e],o=[];if(s){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&o.push(this._legend.tokenModifiers[t]),e>>=1;let r=this._themeService.getColorTheme().getTokenStyleMetadata(s,o,i);void 0===r?n=2147483647:(n=0,void 0!==r.italic&&(n|=1|(r.italic?1:0)<<11),void 0!==r.bold&&(n|=2|(r.bold?2:0)<<11),void 0!==r.underline&&(n|=4|(r.underline?4:0)<<11),void 0!==r.strikethrough&&(n|=8|(r.strikethrough?8:0)<<11),r.foreground&&(n|=16|r.foreground<<15),0===n&&(n=2147483647));}else n=2147483647,s="not-in-legend";this._hashTable.add(e,t,r,n);}return n;}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`));}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`));}warnInvalidEditStart(e,t,i,n,r){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${n} is outside the previous data (length ${r}).`));}};function m(e,t,i){let n=e.data,r=e.data.length/5|0,s=Math.max(Math.ceil(r/1024),400),o=[],a=0,d=1,u=0;for(;a<r;){let e=a,h=Math.min(e+s,r);if(h<r){let t=h;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=h;for(;e+1<r&&0===n[5*e];)e++;h=e;}else h=t;}let c=new Uint32Array((h-e)*4),g=0,_=0,m=0,f=0;for(;a<h;){let e=5*a,r=n[e],s=n[e+1],o=d+r|0,l=0===r?u+s|0:s,h=l+n[e+2]|0,p=n[e+3],b=n[e+4];if(h<=l)t.warnInvalidLengthSemanticTokens(o,l+1);else if(m===o&&f>l)t.warnOverlappingSemanticTokens(o,l+1);else{let e=t.getMetadata(p,b,i);2147483647!==e&&(0===_&&(_=o),c[g]=o-_,c[g+1]=l,c[g+2]=h,c[g+3]=e,g+=4,m=o,f=h);}d=o,u=l,a++;}g!==c.length&&(c=c.subarray(0,g));let p=l.create(_,c);o.push(p);}return o;}_=c([g(1,n.IThemeService),g(2,h.ILanguageService),g(3,r.ILogService)],_);class f{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null;}}class p{static #e=this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength);}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null;}_hash2(e,t){return(e<<5)-e+t|0;}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength;}get(e,t,i){let n=this._hashFunc(e,t,i),r=this._elements[n];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===i)return r;r=r.next;}return null;}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){let e=this._elements;for(let t of(this._currentLengthIndex++,this._currentLength=p._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<p._SIZES.length?2/3*this._currentLength:0),this._elements=[],p._nullOutEntries(this._elements,this._currentLength),e)){let e=t;for(;e;){let t=e.next;e.next=null,this._add(e),e=t;}}}this._add(new f(e,t,i,n));}_add(e){let t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e;}}},c9414d1e:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"LanguageService",{enumerable:!0,get:function(){return u;}});var n=i("e793196d"),r=i("77b755a9"),s=i("8faab68e"),o=i("ec7822f6"),a=i("755c7d16"),l=i("cff8cc1d"),d=i("7a97cd02");class u extends r.Disposable{static #e=this.instanceCount=0;constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new n.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new n.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new n.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,u.instanceCount++,this._registry=this._register(new s.LanguagesRegistry(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()));}dispose(){u.instanceCount--,super.dispose();}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e);}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e);}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e);}guessLanguageIdByFilepathOrFirstLine(e,t){let i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,o.firstOrDefault)(i,null);}createById(e){return new h(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e));}createByFilepathOrFirstLine(e,t){return new h(this.onDidChange,()=>{let i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i);});}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=l.PLAINTEXT_LANGUAGE_ID),e;}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e));}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),a.TokenizationRegistry.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e));}}class h{constructor(e,t){this._value=(0,d.observableFromEvent)(this,e,()=>t()),this.onDidChange=n.Event.fromObservable(this._value);}get languageId(){return this._value.get();}}},dc152a6d:function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{MirrorModel:function(){return m;},STOP_SYNC_MODEL_DELTA_TIME_MS:function(){return c;},WorkerTextModelSyncClient:function(){return g;},WorkerTextModelSyncServer:function(){return _;}});var n=i("6cfd0562"),r=i("77b755a9"),s=i("f2d5d1a7"),o=i("47118010"),a=i("e7e5ddb3"),l=i("4af8c435"),d=i("246b9c8c"),u=i("3c19877b");class h{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null;}dispose(){this._lines.length=0;}get version(){return this._versionId;}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue;}onEvents(e){for(let t of(e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null),e.changes))this._acceptDeleteRange(t.range),this._acceptInsertText(new o.Position(t.range.startLineNumber,t.range.startColumn),t.text);this._versionId=e.versionId,this._cachedTextValue=null;}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new u.PrefixSumComputer(i);}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length);}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return;}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);}_acceptInsertText(e,t){if(0===t.length)return;let i=(0,d.splitLines)(t);if(1===i.length){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return;}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let t=1;t<i.length;t++)this._lines.splice(e.lineNumber+t-1,0,i[t]),n[t-1]=i[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n);}}let c=6e4;class g extends r.Disposable{constructor(e,t,i=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new n.IntervalTimer;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(c/2)),this._register(e);}}dispose(){for(let e in this._syncedModels)(0,r.dispose)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose();}ensureSyncedResources(e,t=!1){for(let i of e){let e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=new Date().getTime());}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>c&&t.push(i);for(let e of t)this._stopModelSync(e);}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.$acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});let s=new r.DisposableStore;s.add(i.onDidChangeContent(e=>{this._proxy.$acceptModelChanged(n.toString(),e);})),s.add(i.onWillDispose(()=>{this._stopModelSync(n);})),s.add((0,r.toDisposable)(()=>{this._proxy.$acceptRemovedModel(n);})),this._syncedModels[n]=s;}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,r.dispose)(t);}}class _{constructor(){this._models=Object.create(null);}getModel(e){return this._models[e];}getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e;}$acceptNewModel(e){this._models[e.url]=new m(s.URI.parse(e.url),e.lines,e.EOL,e.versionId);}$acceptModelChanged(e,t){this._models[e]&&this._models[e].onEvents(t);}$acceptRemovedModel(e){this._models[e]&&delete this._models[e];}}class m extends h{get uri(){return this._uri;}get eol(){return this._eol;}getValue(){return this.getText();}findMatches(e){let t=[];for(let i=0;i<this._lines.length;i++){let n=this._lines[i],r=this.offsetAt(new o.Position(i+1,1));for(let i of n.matchAll(e))(i.index||0===i.index)&&(i.index=i.index+r),t.push(i);}return t;}getLinesContent(){return this._lines.slice(0);}getLineCount(){return this._lines.length;}getLineContent(e){return this._lines[e-1];}getWordAtPosition(e,t){let i=(0,l.getWordAtText)(e.column,(0,l.ensureValidWordDefinition)(t),this._lines[e.lineNumber-1],0);return i?new a.Range(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null;}words(e){let t=this._lines,i=this._wordenize.bind(this),n=0,r="",s=0,o=[];return{*[Symbol.iterator](){for(;;)if(s<o.length){let e=r.substring(o[s].start,o[s].end);s+=1,yield e;}else if(n<t.length)o=i(r=t[n],e),s=0,n+=1;else break;}};}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),r=[];for(let e of n)r.push({word:i.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return r;}_wordenize(e,t){let i;let n=[];for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n;}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,r=[];r.push(this._lines[i].substring(e.startColumn-1));for(let e=i+1;e<n;e++)r.push(this._lines[e]);return r.push(this._lines[n].substring(0,e.endColumn-1)),r.join(t);}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1);}positionAt(e){e=Math.max(0,e=Math.floor(e)),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)};}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e;}_validatePosition(e){if(!o.Position.isIPosition(e))throw Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0);}return n?{lineNumber:t,column:i}:e;}}},eaa7c5e8:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.e(t,{ITextResourceConfigurationService:function(){return r;},ITextResourcePropertiesService:function(){return s;}});var n=i("2aa5bed3");let r=(0,n.createDecorator)("textResourceConfigurationService"),s=(0,n.createDecorator)("textResourcePropertiesService");},f96f4942:function(e,t,i){"use strict";i.d(t,"__esModule",{value:!0}),i.d(t,"IMarkerDecorationsService",{enumerable:!0,get:function(){return n;}});let n=(0,i("2aa5bed3").createDecorator)("markerDecorationsService");},fda3c634:function(e,t,i){"use strict";var n=i("852bbaa9")._;i.d(t,"__esModule",{value:!0}),i.e(t,{SimpleWorkerClient:function(){return L;},SimpleWorkerServer:function(){return C;},create:function(){return w;},logOnceWebWorkerWarning:function(){return _;}});var r=i("852bbaa9"),s=i("0d0a6cfe"),o=i("e793196d"),a=i("77b755a9"),l=i("b1fc2372"),d=i("c83e5ca5"),u=r._(i("246b9c8c"));let h="default",c="$initialize",g=!1;function _(e){d.isWeb&&(g||(g=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message));}class m{constructor(e,t,i,n,r){this.vsWorker=e,this.req=t,this.channel=i,this.method=n,this.args=r,this.type=0;}}class f{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1;}}class p{constructor(e,t,i,n,r){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=n,this.arg=r,this.type=2;}}class b{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3;}}class v{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4;}}class S{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map;}setWorkerId(e){this._workerId=e;}sendMessage(e,t,i){let n=String(++this._lastSentReq);return new Promise((r,s)=>{this._pendingReplies[n]={resolve:r,reject:s},this._send(new m(this._workerId,n,e,t,i));});}listen(e,t,i){let n=null,r=new o.Emitter({onWillAddFirstListener:()=>{n=String(++this._lastSentReq),this._pendingEmitters.set(n,r),this._send(new p(this._workerId,n,e,t,i));},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(n),this._send(new v(this._workerId,n)),n=null;}});return r.event;}handleMessage(e){e&&e.vsWorker&&(-1===this._workerId||e.vsWorker===this._workerId)&&this._handleMessage(e);}createProxyToRemoteChannel(e,t){return new Proxy(Object.create(null),{get:(i,n)=>("string"!=typeof n||i[n]||(k(n)?i[n]=t=>this.listen(e,n,t):M(n)?i[n]=this.listen(e,n,void 0):36!==n.charCodeAt(0)||(i[n]=async(...i)=>(await (null==t?void 0:t()),this.sendMessage(e,n,i)))),i[n])});}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e);}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return;}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&((i=Error()).name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return;}t.resolve(e.res);}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(e=>{this._send(new f(this._workerId,t,e,void 0));},e=>{e.detail instanceof Error&&(e.detail=(0,s.transformErrorForSerialization)(e.detail)),this._send(new f(this._workerId,t,void 0,(0,s.transformErrorForSerialization)(e)));});}_handleSubscribeEventMessage(e){let t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(e=>{this._send(new b(this._workerId,t,e));});this._pendingEvents.set(t,i);}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return;}this._pendingEmitters.get(e.req).fire(e.event);}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return;}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req);}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t);}}class L extends a.Disposable{constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},e=>{this._protocol.handleMessage(e);},e=>{(0,s.onUnexpectedError)(e);})),this._protocol=new S({sendMessage:(e,t)=>{this._worker.postMessage(e,t);},handleMessage:(e,t,i)=>this._handleMessage(e,t,i),handleEvent:(e,t,i)=>this._handleEvent(e,t,i)}),this._protocol.setWorkerId(this._worker.getId());let i=null,n=globalThis.require;void 0!==n&&"function"==typeof n.getConfig?i=n.getConfig():void 0!==globalThis.requirejs&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(h,c,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(h,async()=>{await this._onModuleLoaded;}),this._onModuleLoaded.catch(e=>{this._onError("Worker failed to load "+t.amdModuleId,e);});}_handleMessage(e,t,i){let n=this._localChannels.get(e);if(!n)return Promise.reject(Error(`Missing channel ${e} on main thread`));if("function"!=typeof n[t])return Promise.reject(Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(n[t].apply(n,i));}catch(e){return Promise.reject(e);}}_handleEvent(e,t,i){let n=this._localChannels.get(e);if(!n)throw Error(`Missing channel ${e} on main thread`);if(k(t)){let r=n[t].call(n,i);if("function"!=typeof r)throw Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return r;}if(M(t)){let i=n[t];if("function"!=typeof i)throw Error(`Missing event ${t} on main thread channel ${e}.`);return i;}throw Error(`Malformed event name ${t}`);}setChannel(e,t){this._localChannels.set(e,t);}_onError(e,t){console.error(e),console.info(t);}}function M(e){return"o"===e[0]&&"n"===e[1]&&u.isUpperAsciiLetter(e.charCodeAt(2));}function k(e){return/^onDynamic/.test(e)&&u.isUpperAsciiLetter(e.charCodeAt(9));}class C{constructor(e,t){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=t,this._requestHandler=null,this._protocol=new S({sendMessage:(t,i)=>{e(t,i);},handleMessage:(e,t,i)=>this._handleMessage(e,t,i),handleEvent:(e,t,i)=>this._handleEvent(e,t,i)});}onmessage(e){this._protocol.handleMessage(e);}_handleMessage(e,t,i){if(e===h&&t===c)return this.initialize(i[0],i[1],i[2]);let n=e===h?this._requestHandler:this._localChannels.get(e);if(!n)return Promise.reject(Error(`Missing channel ${e} on worker thread`));if("function"!=typeof n[t])return Promise.reject(Error(`Missing method ${t} on worker thread channel ${e}`));try{return Promise.resolve(n[t].apply(n,i));}catch(e){return Promise.reject(e);}}_handleEvent(e,t,i){let n=e===h?this._requestHandler:this._localChannels.get(e);if(!n)throw Error(`Missing channel ${e} on worker thread`);if(k(t)){let e=n[t].call(n,i);if("function"!=typeof e)throw Error(`Missing dynamic event ${t} on request handler.`);return e;}if(M(t)){let e=n[t];if("function"!=typeof e)throw Error(`Missing event ${t} on request handler.`);return e;}throw Error(`Malformed event name ${t}`);}getChannel(e){if(!this._remoteChannels.has(e)){let t=this._protocol.createProxyToRemoteChannel(e);this._remoteChannels.set(e,t);}return this._remoteChannels.get(e);}async initialize(e,t,r){if(this._protocol.setWorkerId(e),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return;}t&&(void 0!==t.baseUrl&&delete t.baseUrl,void 0!==t.paths&&void 0!==t.paths.vs&&delete t.paths.vs,void 0!==t.trustedTypesPolicy&&delete t.trustedTypesPolicy,t.catchError=!0,globalThis.require.config(t));{let e=l.FileAccess.asBrowserUri(`${r}.js`).toString(!0);return Promise.all([i.ensure("605fd315")]).then(i.dr(n,i.bind(i,"605fd315"))).then(t=>t.default(`./${e}`)).then(e=>{if(this._requestHandler=e.create(this),!this._requestHandler)throw Error("No RequestHandler!");});}}}function w(e){return new C(e,null);}}}]);
