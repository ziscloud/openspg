(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["3ad5aff1"],{"3ad5aff1":function(e,t,n){n.d(t,"__esModule",{value:!0}),n.e(t,{DevTools:function(){return K;},ID:function(){return l.ID;},antlr4:function(){return J.default;},default:function(){return Q;},registerOptions:function(){return v;}});var r=n("777fffbe"),i=n("852bbaa9"),o=n("cad0a1a4"),a=n("c695ccb5"),u=n("daa55c75"),c=n("f14d90dc"),s=i._(c),l=n("5d87a02b"),f=n("e6b3e60f"),d=n("55dbeba9"),g=r._(d),h=n("46c8e433");let v=e=>{u.MonacoEnvironment.container.get(u.LanguageOptionsRegistry).registerOptions(l.ID,e);},p=()=>u.MonacoEnvironment.container.get(u.LanguageOptionsRegistry).getOptions(l.ID),y=e=>u.MonacoEnvironment.container.get(u.LanguageOptionsRegistry).getOptions(e)||{};var w=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};let m={nodes:[],edges:[]};class _{constructor(){this.cacheContainer=new Map,this.queryFunctions=()=>w(this,void 0,void 0,function*(){return this.query("functions",p().queryFunctions,[]);}),this.querySchema=()=>w(this,void 0,void 0,function*(){return this.query("schema",p().querySchema,m);});}static GET_CACHE_INSTANCE(){return this.queryInstance||(this.queryInstance=new _),this.queryInstance;}getContainer(e){let t=this.cacheContainer.get(e);if(!t){let t=new h.LRU({max:5});return this.cacheContainer.set(e,t),t;}return t;}query(e,t,n){return w(this,void 0,void 0,function*(){let r="__default__",i=this.getContainer(e),o=i.get(r);if(o)return o;if(t)try{let e=yield t();return i.set(r,e),e;}catch(e){}return n;});}clear(){this.cacheContainer.forEach(e=>{e.clear();});}}let C=_.GET_CACHE_INSTANCE(),k={querySchema:()=>w(void 0,void 0,void 0,function*(){return yield C.querySchema();}),queryFunctions:()=>w(void 0,void 0,void 0,function*(){return yield C.queryFunctions();})};var b=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};class D{constructor(e){this.worker=e;}get triggerCharacters(){return[".",":","|",""];}provideCompletionItems(e,t){return b(this,void 0,void 0,function*(){let n=e.getValue(),r=e.getOffsetAt(t),i=y(e.uri.toString());try{return yield this.worker.getService().doCompletion({code:n,offset:r,lowerCaseKeyword:i.lowerCaseKeyword},k);}catch(e){return{isIncomplete:!1,suggestions:[]};}});}}var I=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};class R{constructor(e){this.worker=e;}provideDocumentFormattingEdits(e){return I(this,void 0,void 0,function*(){let t=e.getValue();return[{range:e.getFullModelRange(),text:yield this.worker.getService().doFormat({code:t})}];});}}class S{constructor(e){this.worker=e;}provideDocumentRangeFormattingEdits(e,t){return I(this,void 0,void 0,function*(){let n=e.getValueInRange(t);return[{range:t,text:n}];});}}var L=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};class O{constructor(e){this.worker=e;}provideHover(e,t){return L(this,void 0,void 0,function*(){let n=e.getValue(),r=e.getOffsetAt(t);try{return{contents:((yield this.worker.getService().doHover({code:n,offset:r},k))||[]).map(e=>({value:e,isTrusted:!0,supportHtml:!0}))};}catch(e){return{contents:[],range:void 0};}});}}var P=n("d68eb4a8"),T=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};class x{constructor(e){this.worker=e;}getLegend(){return P.LEGEND;}provideDocumentSemanticTokens(e,t,n){return T(this,void 0,void 0,function*(){let t=e.getValue(),n=e.getLinesContent();try{let e=(yield this.worker.getService().doCodeLens({code:t,lines:n},k))||[];return{data:new Uint32Array(e)};}catch(e){return{data:new Uint32Array([])};}});}releaseDocumentSemanticTokens(e){}}var E=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};class M{constructor(e){this.worker=e;}get signatureHelpTriggerCharacters(){return["(",","];}provideSignatureHelp(e,t){return E(this,void 0,void 0,function*(){let n=e.getValue(),r=e.getOffsetAt(t)+1;try{let e=yield this.worker.getService().doProvideSignature({code:n,offset:r},k);if(e)return{value:e,dispose:()=>{}};return;}catch(e){return;}});}}var q=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a;},F=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t);},V=this&&this.__param||function(e,t){return function(n,r){t(n,r,e);};},j=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e));}catch(e){o(e);}}function u(e){try{c(r.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t);})).then(a,u);}c((r=r.apply(e,t||[])).next());});};let H=class{constructor(e,t){this.listener={},this.editorValidationMap=new Map,this.modelCreate=e=>{let t;let n=e.getLanguageId();if(n!==l.ID)return;let r=e.uri.toString();this.listener[r]=e.onDidChangeContent(()=>{clearTimeout(t);let r=Math.random();this.editorValidationMap.set(e.uri,r),t=window.setTimeout(()=>{this.doValidate(e,e.getValue(),n,r);},300);}),e.onWillDispose(()=>{var e;null===(e=this.listener[r])||void 0===e||e.dispose();});},this.LanguageWorker=e,this.LanguageOptions=t;let n=this.LanguageWorker.getLanguageWorker(l.ID)||"";this.worker=new f.ServiceWorkerClient(n);}init(){this.setupRealConfig();}setupRealConfig(){(0,g.default)(),s.languages.registerCompletionItemProvider(l.ID,new D(this.worker)),s.languages.registerSignatureHelpProvider(l.ID,new M(this.worker)),s.languages.registerDocumentFormattingEditProvider(l.ID,new R(this.worker)),s.languages.registerDocumentRangeFormattingEditProvider(l.ID,new S(this.worker)),s.languages.registerHoverProvider(l.ID,new O(this.worker)),s.languages.registerDocumentSemanticTokensProvider(l.ID,new x(this.worker));}doValidate(e,t,n,r){return j(this,void 0,void 0,function*(){let i=yield this.worker.getService().doValidate({code:t},k);r===this.editorValidationMap.get(e.uri)&&n===e.getLanguageId()&&s.editor.setModelMarkers(e,n,i);});}dispose(){}};H=q([(0,o.singleton)(),V(0,(0,o.inject)(u.LanguageWorkerRegistry)),V(1,(0,o.inject)(u.LanguageOptionsRegistry)),F("design:paramtypes",[u.LanguageWorkerRegistry,u.LanguageOptionsRegistry])],H);var A=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a;},W=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t);},N=this&&this.__param||function(e,t){return function(n,r){t(n,r,e);};};let G=class{constructor(e){this.languageFeature=e;}onInitialize(){s.languages.register({id:l.ID}),s.editor.onDidCreateModel(this.languageFeature.modelCreate),s.languages.onLanguage(l.ID,()=>{this.languageFeature.init();});}beforeCreate(){}afterCreate(){}canHandle(e){return e===l.ID;}dispose(){this.languageFeature.dispose();}};G=A([(0,o.singleton)({contrib:[u.EditorHandlerContribution,u.InitializeContribution]}),N(0,(0,o.inject)(H)),W("design:paramtypes",[H])],G);var U=n("ff47724e"),z=n("58b55345"),K=i._(z),B=n("b53cfbd1"),J=r._(B),Q=(0,o.Module)(e=>{e(a.WorkerContribution),e(G),e(H),e(U.LightThemeContribution),e(U.DarkThemeContribution);});},bc7b36fe:function(e,t,n){e.exports="";}}]);
