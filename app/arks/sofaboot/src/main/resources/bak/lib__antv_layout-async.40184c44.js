(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["lib_@antv/layout"],{"00475e93":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"RandomLayout",{enumerable:!0,get:function(){return o;}});var n=r("51e076c8");let a={center:[0,0],width:300,height:300};class o{constructor(e={}){this.options=e,this.id="random",this.options=Object.assign(Object.assign({},a),e);}execute(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,e,t);});}assign(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,e,t);});}genericRandomLayout(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){let{center:n,width:a,height:o}=Object.assign(Object.assign({},this.options),r),i=t.getAllNodes(),d=a||"undefined"==typeof window?a:window.innerWidth,l=o||"undefined"==typeof window?o:window.innerHeight,s=n||[d/2,l/2],u=[];return i&&i.forEach(e=>{u.push({id:e.id,data:{x:(Math.random()-.5)*.9*d+s[0],y:(Math.random()-.5)*.9*l+s[1]}});}),e&&u.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})),{nodes:u,edges:t.getAllEdges()};});}}},"06479f71":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0});var n=r("d1751d7c");n._(r("de141d4d"),t),n._(r("72cd960c"),t),n._(r("b1fce494"),t),n._(r("389e02f3"),t),n._(r("8cd803db"),t),n._(r("c1bb76b0"),t);},"15e70668":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"FruchtermanLayout",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("c536c45f"),i=n._(r("4c900b62")),d=r("a30e9cfb");let l={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"};class s{constructor(e={}){this.options=e,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},l),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,e,t);});}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1;}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;t<e;t++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);let t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0})),t;}genericFruchtermanLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){if(this.running)return;let n=this.formatOptions(r),{dimensions:a,width:i,height:l,center:s,clustering:u,nodeClusterBy:h,maxIteration:c,onTick:f}=n,g=t.getAllNodes(),v=t.getAllEdges();if(!(null==g?void 0:g.length)){let e={nodes:[],edges:v};return this.lastResult=e,e;}if(1===g.length){e&&t.mergeNodeData(g[0].id,{x:s[0],y:s[1],z:3===a?s[2]:void 0});let r={nodes:[Object.assign(Object.assign({},g[0]),{data:Object.assign(Object.assign({},g[0].data),{x:s[0],y:s[1],z:3===a?s[2]:void 0})})],edges:v};return this.lastResult=r,r;}let p=g.map(e=>(0,d.cloneFormatData)(e,[i,l])),y=new o.Graph({nodes:p,edges:v}),m={};if(u&&p.forEach(e=>{let t=e.data[h];m[t]||(m[t]={name:t,cx:0,cy:0,count:0});}),this.lastLayoutNodes=p,this.lastLayoutEdges=v,this.lastAssign=e,this.lastGraph=y,this.lastOptions=n,this.lastClusterMap=m,"undefined"==typeof window)return;let b=0;return new Promise(r=>{this.timeInterval=window.setInterval(()=>{if(!this.running){r({nodes:p,edges:v});return;}this.runOneStep(y,m,n),e&&p.forEach(({id:e,data:r})=>t.mergeNodeData(e,{x:r.x,y:r.y,z:3===a?r.z:void 0})),null==f||f({nodes:p,edges:v}),++b>=c&&(window.clearInterval(this.timeInterval),r({nodes:p,edges:v}));},0),this.running=!0;});});}formatOptions(e={}){let t=Object.assign(Object.assign({},this.options),e),{clustering:r,nodeClusterBy:n}=t,{center:a,width:o,height:i}=t;return t.width=o||"undefined"==typeof window?o:window.innerWidth,t.height=i||"undefined"==typeof window?i:window.innerHeight,t.center=a||[t.width/2,t.height/2],t.clustering=r&&!!n,t;}runOneStep(e,t,r){let{dimensions:n,height:a,width:o,gravity:d,center:l,speed:s,clustering:u,nodeClusterBy:h,clusterGravity:c}=r,f=a*o,g=Math.sqrt(f)/10,v=e.getAllNodes(),p=f/(v.length+1),y=Math.sqrt(p),m={};if(this.applyCalculate(e,m,y,p),u){for(let e in t)t[e].cx=0,t[e].cy=0,t[e].count=0;for(let e in v.forEach(e=>{let{data:r}=e,n=t[r[h]];(0,i.default)(r.x)&&(n.cx+=r.x),(0,i.default)(r.y)&&(n.cy+=r.y),n.count++;}),t)t[e].cx/=t[e].count,t[e].cy/=t[e].count;let e=c||d;v.forEach((r,n)=>{let{id:a,data:o}=r;if(!(0,i.default)(o.x)||!(0,i.default)(o.y))return;let d=t[o[h]],l=Math.sqrt((o.x-d.cx)*(o.x-d.cx)+(o.y-d.cy)*(o.y-d.cy)),s=y*e;m[a].x-=s*(o.x-d.cx)/l,m[a].y-=s*(o.y-d.cy)/l;});}v.forEach((e,t)=>{let{id:r,data:a}=e;if(!(0,i.default)(a.x)||!(0,i.default)(a.y))return;let o=.01*y*d;m[r].x-=o*(a.x-l[0]),m[r].y-=o*(a.y-l[1]),3===n&&(m[r].z-=o*(a.z-l[2]));}),v.forEach((t,r)=>{let{id:a,data:o}=t;if((0,i.default)(o.fx)&&(0,i.default)(o.fy)){o.x=o.fx,o.y=o.fy,3===n&&(o.z=o.fz);return;}if(!(0,i.default)(o.x)||!(0,i.default)(o.y))return;let d=Math.sqrt(m[a].x*m[a].x+m[a].y*m[a].y+(3===n?m[a].z*m[a].z:0));if(d>0){let t=Math.min(s/800*g,d);e.mergeNodeData(a,{x:o.x+m[a].x/d*t,y:o.y+m[a].y/d*t,z:3===n?o.z+m[a].z/d*t:void 0});}});}applyCalculate(e,t,r,n){this.calRepulsive(e,t,n),this.calAttractive(e,t,r);}calRepulsive(e,t,r){let n=e.getAllNodes();n.forEach(({data:e,id:a},o)=>{t[a]={x:0,y:0,z:0},n.forEach(({data:n,id:d},l)=>{if(o<=l||!(0,i.default)(e.x)||!(0,i.default)(n.x)||!(0,i.default)(e.y)||!(0,i.default)(n.y))return;let s=e.x-n.x,u=e.y-n.y,h=3===this.options.dimensions?e.z-n.z:0,c=s*s+u*u+h*h;0===c&&(c=1,s=.01,u=.01,h=.01);let f=r/c,g=s*f,v=u*f,p=h*f;t[a].x+=g,t[a].y+=v,t[d].x-=g,t[d].y-=v,3===this.options.dimensions&&(t[a].z+=p,t[d].z-=p);});});}calAttractive(e,t,r){e.getAllEdges().forEach(n=>{let{source:a,target:o}=n;if(!a||!o||a===o)return;let{data:d}=e.getNode(a),{data:l}=e.getNode(o);if(!(0,i.default)(l.x)||!(0,i.default)(d.x)||!(0,i.default)(l.y)||!(0,i.default)(d.y))return;let s=l.x-d.x,u=l.y-d.y,h=3===this.options.dimensions?l.z-d.z:0,c=Math.sqrt(s*s+u*u+h*h)/r,f=s*c,g=u*c,v=h*c;t[a].x+=f,t[a].y+=g,t[o].x-=f,t[o].y-=g,3===this.options.dimensions&&(t[a].z+=v,t[o].z-=v);});}}},"1b7815bc":function(e,t,r){r.d(t,"__esModule",{value:!0}),r("79b2f761"),r("06479f71"),r("7f8b2fc6"),r("d1b69437"),this&&this.__awaiter;},"22556cc8":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"GridLayout",{enumerable:!0,get:function(){return c;}});var n=r("777fffbe"),a=r("51e076c8"),o=n._(r("4c900b62")),i=n._(r("1304978e")),d=r("a30e9cfb"),l=r("db502ba9"),s=r("51c4521a"),u=r("d29a8637");let h={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300};class c{constructor(e={}){this.options=e,this.id="grid",this.options=Object.assign(Object.assign({},h),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericGridLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,e,t);});}genericGridLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.options),r),{begin:a=[0,0],condense:h,preventOverlapPadding:c,preventOverlap:y,rows:b,cols:w,nodeSpacing:E,nodeSize:x,width:N,height:_,position:M}=n,{sortBy:k}=n,j=t.getAllNodes(),O=t.getAllEdges(),A=null==j?void 0:j.length;if(!A||1===A)return(0,s.handleSingleNodeGraph)(t,e,a);let L=j.map(e=>(0,d.cloneFormatData)(e));"id"===k||(0,i.default)(k)&&void 0!==L[0].data[k]||(k="degree"),"degree"===k?L.sort((e,r)=>t.getDegree(r.id,"both")-t.getDegree(e.id,"both")):"id"===k?L.sort((e,t)=>(0,o.default)(t.id)&&(0,o.default)(e.id)?t.id-e.id:`${e.id}`.localeCompare(`${t.id}`)):L.sort((e,t)=>t.data[k]-e.data[k]);let S=N||"undefined"==typeof window?N:window.innerWidth,I=_||"undefined"==typeof window?_:window.innerHeight,z={rows:b,cols:w};if(null!=b&&null!=w)z.rows=b,z.cols=w;else if(null!=b&&null==w)z.rows=b,z.cols=Math.ceil(A/z.rows);else if(null==b&&null!=w)z.cols=w,z.rows=Math.ceil(A/z.cols);else{let e=Math.sqrt(A*I/S);z.rows=Math.round(e),z.cols=Math.round(S/I*e);}if(z.rows=Math.max(z.rows,1),z.cols=Math.max(z.cols,1),z.cols*z.rows>A){let e=f(z),t=g(z);(e-1)*t>=A?f(z,e-1):(t-1)*e>=A&&g(z,t-1);}else for(;z.cols*z.rows<A;){let e=f(z),t=g(z);(t+1)*e>=A?g(z,t+1):f(z,e+1);}let D=h?0:S/z.cols,R=h?0:I/z.rows;if(y||E){let e=(0,l.formatNumberFn)(10,E),r=(0,l.formatSizeFn)(30,x,!1);L.forEach(n=>{n.data.x&&n.data.y||(n.data.x=0,n.data.y=0);let a=t.getNode(n.id),[o,i]=(0,u.parseSize)(r(a)||30),d=void 0!==e?e(n):c;D=Math.max(D,o+d),R=Math.max(R,i+d);});}let C={},P={row:0,col:0},T={};for(let e=0;e<L.length;e++){let r;let n=L[e];if(M&&(r=M(t.getNode(n.id))),r&&(void 0!==r.row||void 0!==r.col)){let e={row:r.row,col:r.col};if(void 0===e.col)for(e.col=0;v(C,e);)e.col++;else if(void 0===e.row)for(e.row=0;v(C,e);)e.row++;T[n.id]=e,p(C,e);}m(n,a,D,R,T,z,P,C);}return e&&L.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y});}),{nodes:L,edges:O};});}}let f=(e,t)=>{let r;let n=e.rows||5,a=e.cols||5;return null==t?r=Math.min(n,a):Math.min(n,a)===e.rows?e.rows=t:e.cols=t,r;},g=(e,t)=>{let r;let n=e.rows||5,a=e.cols||5;return null==t?r=Math.max(n,a):Math.max(n,a)===e.rows?e.rows=t:e.cols=t,r;},v=(e,t)=>e[`c-${t.row}-${t.col}`]||!1,p=(e,t)=>e[`c-${t.row}-${t.col}`]=!0,y=(e,t)=>{let r=e.cols||5;t.col++,t.col>=r&&(t.col=0,t.row++);},m=(e,t,r,n,a,o,i,d)=>{let l,s;let u=a[e.id];if(u)l=u.col*r+r/2+t[0],s=u.row*n+n/2+t[1];else{for(;v(d,i);)y(o,i);l=i.col*r+r/2+t[0],s=i.row*n+n/2+t[1],p(d,i),y(o,i);}e.data.x=l,e.data.y=s;};},"24f97374":function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{D3ForceLayout:function(){return I;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("bf8f013f"),i=n._(o),d=r("0c915bb9"),l=n._(d),s=function(e,t){var r,n=1;function a(){var a,o,i=r.length,d=0,l=0;for(a=0;a<i;++a)d+=(o=r[a]).x,l+=o.y;for(d=(d/i-e)*n,l=(l/i-t)*n,a=0;a<i;++a)o=r[a],o.x-=d,o.y-=l;}return null==e&&(e=0),null==t&&(t=0),a.initialize=function(e){r=e;},a.x=function(t){return arguments.length?(e=+t,a):e;},a.y=function(e){return arguments.length?(t=+e,a):t;},a.strength=function(e){return arguments.length?(n=+e,a):n;},a;},u=r("11d58d81"),h=n._(u),c=function(e){return function(){return e;};},f=function(e){return(e()-.5)*1e-6;};function g(e){return e.x+e.vx;}function v(e){return e.y+e.vy;}var p=function(e){var t,r,n,a=1,o=1;function i(){for(var e,i,l,s,u,c,p,y=t.length,m=0;m<o;++m)for(e=0,i=(0,h.default)(t,g,v).visitAfter(d);e<y;++e)p=(c=r[(l=t[e]).index])*c,s=l.x+l.vx,u=l.y+l.vy,i.visit(b);function b(e,t,r,o,i){var d=e.data,h=e.r,g=c+h;if(d){if(d.index>l.index){var v=s-d.x-d.vx,y=u-d.y-d.vy,m=v*v+y*y;m<g*g&&(0===v&&(m+=(v=f(n))*v),0===y&&(m+=(y=f(n))*y),m=(g-(m=Math.sqrt(m)))/m*a,l.vx+=(v*=m)*(g=(h*=h)/(p+h)),l.vy+=(y*=m)*g,d.vx-=v*(g=1-g),d.vy-=y*g);}return;}return t>s+g||o<s-g||r>u+g||i<u-g;}}function d(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r);}function l(){if(t){var n,a,o=t.length;for(n=0,r=Array(o);n<o;++n)r[(a=t[n]).index]=+e(a,n,t);}}return"function"!=typeof e&&(e=c(null==e?1:+e)),i.initialize=function(e,r){t=e,n=r,l();},i.iterations=function(e){return arguments.length?(o=+e,i):o;},i.strength=function(e){return arguments.length?(a=+e,i):a;},i.radius=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),l(),i):e;},i;};function y(e){return e.index;}function m(e,t){var r=e.get(t);if(!r)throw Error("node not found: "+t);return r;}var b=function(e){var t,r,n,a,o,i,d=y,l=function(e){return 1/Math.min(a[e.source.index],a[e.target.index]);},s=c(30),u=1;function h(n){for(var a=0,d=e.length;a<u;++a)for(var l,s,h,c,g,v,p,y=0;y<d;++y)s=(l=e[y]).source,v=((v=Math.sqrt((c=(h=l.target).x+h.vx-s.x-s.vx||f(i))*c+(g=h.y+h.vy-s.y-s.vy||f(i))*g))-r[y])/v*n*t[y],c*=v,g*=v,h.vx-=c*(p=o[y]),h.vy-=g*p,s.vx+=c*(p=1-p),s.vy+=g*p;}function g(){if(n){var i,l,s=n.length,u=e.length,h=new Map(n.map((e,t)=>[d(e,t,n),e]));for(i=0,a=Array(s);i<u;++i)(l=e[i]).index=i,"object"!=typeof l.source&&(l.source=m(h,l.source)),"object"!=typeof l.target&&(l.target=m(h,l.target)),a[l.source.index]=(a[l.source.index]||0)+1,a[l.target.index]=(a[l.target.index]||0)+1;for(i=0,o=Array(u);i<u;++i)l=e[i],o[i]=a[l.source.index]/(a[l.source.index]+a[l.target.index]);t=Array(u),v(),r=Array(u),p();}}function v(){if(n)for(var r=0,a=e.length;r<a;++r)t[r]=+l(e[r],r,e);}function p(){if(n)for(var t=0,a=e.length;t<a;++t)r[t]=+s(e[t],t,e);}return null==e&&(e=[]),h.initialize=function(e,t){n=e,i=t,g();},h.links=function(t){return arguments.length?(e=t,g(),h):e;},h.id=function(e){return arguments.length?(d=e,h):d;},h.iterations=function(e){return arguments.length?(u=+e,h):u;},h.strength=function(e){return arguments.length?(l="function"==typeof e?e:c(+e),v(),h):l;},h.distance=function(e){return arguments.length?(s="function"==typeof e?e:c(+e),p(),h):s;},h;},w=r("b41aa8b0"),E=n._(w),x=r("b68641df"),N=function(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296;};function _(e){return e.x;}function M(e){return e.y;}var k=Math.PI*(3-Math.sqrt(5)),j=function(e){var t,r=1,n=.001,a=1-Math.pow(.001,1/300),o=0,i=.6,d=new Map,l=(0,x.timer)(h),s=(0,E.default)("tick","end"),u=N();function h(){c(),s.call("tick",t),r<n&&(l.stop(),s.call("end",t));}function c(n){var l,s,u=e.length;void 0===n&&(n=1);for(var h=0;h<n;++h)for(r+=(o-r)*a,d.forEach(function(e){e(r);}),l=0;l<u;++l)null==(s=e[l]).fx?s.x+=s.vx*=i:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=i:(s.y=s.fy,s.vy=0);return t;}function f(){for(var t,r=0,n=e.length;r<n;++r){if((t=e[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var a=10*Math.sqrt(.5+r),o=r*k;t.x=a*Math.cos(o),t.y=a*Math.sin(o);}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0);}}function g(t){return t.initialize&&t.initialize(e,u),t;}return null==e&&(e=[]),f(),t={tick:c,restart:function(){return l.restart(h),t;},stop:function(){return l.stop(),t;},nodes:function(r){return arguments.length?(e=r,f(),d.forEach(g),t):e;},alpha:function(e){return arguments.length?(r=+e,t):r;},alphaMin:function(e){return arguments.length?(n=+e,t):n;},alphaDecay:function(e){return arguments.length?(a=+e,t):+a;},alphaTarget:function(e){return arguments.length?(o=+e,t):o;},velocityDecay:function(e){return arguments.length?(i=1-e,t):1-i;},randomSource:function(e){return arguments.length?(u=e,d.forEach(g),t):u;},force:function(e,r){return arguments.length>1?(null==r?d.delete(e):d.set(e,g(r)),t):d.get(e);},find:function(t,r,n){var a,o,i,d,l,s=0,u=e.length;for(null==n?n=1/0:n*=n,s=0;s<u;++s)(i=(a=t-(d=e[s]).x)*a+(o=r-d.y)*o)<n&&(l=d,n=i);return l;},on:function(e,r){return arguments.length>1?(s.on(e,r),t):s.on(e);}};},O=function(){var e,t,r,n,a,o=c(-30),i=1,d=1/0,l=.81;function s(r){var a,o=e.length,i=(0,h.default)(e,_,M).visitAfter(g);for(n=r,a=0;a<o;++a)t=e[a],i.visit(v);}function u(){if(e){var t,r,n=e.length;for(t=0,a=Array(n);t<n;++t)a[(r=e[t]).index]=+o(r,t,e);}}function g(e){var t,r,n,o,i,d=0,l=0;if(e.length){for(n=o=i=0;i<4;++i)(t=e[i])&&(r=Math.abs(t.value))&&(d+=t.value,l+=r,n+=r*t.x,o+=r*t.y);e.x=n/l,e.y=o/l;}else{(t=e).x=t.data.x,t.y=t.data.y;do d+=a[t.data.index];while(t=t.next)}e.value=d;}function v(e,o,s,u){if(!e.value)return!0;var h=e.x-t.x,c=e.y-t.y,g=u-o,v=h*h+c*c;if(g*g/l<v)return v<d&&(0===h&&(v+=(h=f(r))*h),0===c&&(v+=(c=f(r))*c),v<i&&(v=Math.sqrt(i*v)),t.vx+=h*e.value*n/v,t.vy+=c*e.value*n/v),!0;if(!e.length&&!(v>=d)){(e.data!==t||e.next)&&(0===h&&(v+=(h=f(r))*h),0===c&&(v+=(c=f(r))*c),v<i&&(v=Math.sqrt(i*v)));do e.data!==t&&(g=a[e.data.index]*n/v,t.vx+=h*g,t.vy+=c*g);while(e=e.next)}}return s.initialize=function(t,n){e=t,r=n,u();},s.strength=function(e){return arguments.length?(o="function"==typeof e?e:c(+e),u(),s):o;},s.distanceMin=function(e){return arguments.length?(i=e*e,s):Math.sqrt(i);},s.distanceMax=function(e){return arguments.length?(d=e*e,s):Math.sqrt(d);},s.theta=function(e){return arguments.length?(l=e*e,s):Math.sqrt(l);},s;},A=function(e,t,r){var n,a,o,i=c(.1);function d(e){for(var i=0,d=n.length;i<d;++i){var l=n[i],s=l.x-t||1e-6,u=l.y-r||1e-6,h=Math.sqrt(s*s+u*u),c=(o[i]-h)*a[i]*e/h;l.vx+=s*c,l.vy+=u*c;}}function l(){if(n){var t,r=n.length;for(t=0,a=Array(r),o=Array(r);t<r;++t)o[t]=+e(n[t],t,n),a[t]=isNaN(o[t])?0:+i(n[t],t,n);}}return"function"!=typeof e&&(e=c(+e)),null==t&&(t=0),null==r&&(r=0),d.initialize=function(e){n=e,l();},d.strength=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),l(),d):i;},d.radius=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),l(),d):e;},d.x=function(e){return arguments.length?(t=+e,d):t;},d.y=function(e){return arguments.length?(r=+e,d):r;},d;},L=function(e){var t,r,n,a=c(.1);function o(e){for(var a,o=0,i=t.length;o<i;++o)a=t[o],a.vx+=(n[o]-a.x)*r[o]*e;}function i(){if(t){var o,i=t.length;for(o=0,r=Array(i),n=Array(i);o<i;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+a(t[o],o,t);}}return"function"!=typeof e&&(e=c(null==e?0:+e)),o.initialize=function(e){t=e,i();},o.strength=function(e){return arguments.length?(a="function"==typeof e?e:c(+e),i(),o):a;},o.x=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),i(),o):e;},o;},S=function(e){var t,r,n,a=c(.1);function o(e){for(var a,o=0,i=t.length;o<i;++o)a=t[o],a.vy+=(n[o]-a.y)*r[o]*e;}function i(){if(t){var o,i=t.length;for(o=0,r=Array(i),n=Array(i);o<i;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+a(t[o],o,t);}}return"function"!=typeof e&&(e=c(null==e?0:+e)),o.initialize=function(e){t=e,i();},o.strength=function(e){return arguments.length?(a="function"==typeof e?e:c(+e),i(),o):a;},o.y=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),i(),o):e;},o;};class I{constructor(e){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:b,manyBody:O,center:s,collide:p,radial:A,x:L,y:S},this.options={link:{id:e=>e.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},(0,i.default)(this.options,e),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericLayout(!0,e,t);});}stop(){this.simulation.stop();}tick(e){return this.simulation.tick(e),this.getResult();}restart(){this.simulation.restart();}setFixedPosition(e,t){let r=this.context.nodes.find(t=>t.id===e);r&&t.forEach((e,t)=>{("number"==typeof e||null===e)&&(r[["fx","fy","fz"][t]]=e);});}getOptions(e){var t,r;let n=(0,i.default)({},this.options,e);return n.collide&&(null===(t=n.collide)||void 0===t?void 0:t.radius)===void 0&&(n.collide=n.collide||{},n.collide.radius=null!==(r=n.nodeSize)&&void 0!==r?r:10),void 0===n.iterations&&(n.link&&void 0===n.link.iterations&&(n.iterations=n.link.iterations),n.collide&&void 0===n.collide.iterations&&(n.iterations=n.collide.iterations)),this.context.options=n,n;}genericLayout(e,t,r){var n;return(0,a.__awaiter)(this,void 0,void 0,function*(){let a=this.getOptions(r),o=t.getAllNodes().map(({id:e,data:t})=>Object.assign(Object.assign({id:e},t),(0,l.default)(t.data,this.config.inputNodeAttrs))),i=t.getAllEdges().map(e=>Object.assign({},e));Object.assign(this.context,{assign:e,nodes:o,edges:i,graph:t});let d=new Promise(e=>{this.resolver=e;}),s=this.setSimulation(a);return s.nodes(o),null===(n=s.force("link"))||void 0===n||n.links(i),d;});}getResult(){let{assign:e,nodes:t,edges:r,graph:n}=this.context,a=t.map(e=>({id:e.id,data:Object.assign(Object.assign({},e.data),(0,l.default)(e,this.config.outputNodeAttrs))})),o=r.map(({id:e,source:t,target:r,data:n})=>({id:e,source:"object"==typeof t?t.id:t,target:"object"==typeof r?r.id:r,data:n}));return e&&a.forEach(e=>n.mergeNodeData(e.id,e.data)),{nodes:a,edges:o};}initSimulation(){return j();}setSimulation(e){let t=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=t.on("tick",()=>{var t;return null===(t=e.onTick)||void 0===t?void 0:t.call(e,this.getResult());}).on("end",()=>{var e;return null===(e=this.resolver)||void 0===e?void 0:e.call(this,this.getResult());})),z(t,this.config.simulationAttrs.map(t=>[t,e[t]])),Object.entries(this.forceMap).forEach(([r,n])=>{if(e[r]){let a=t.force(r);a||(a=n(),t.force(r,a)),z(a,Object.entries(e[r]));}else t.force(r,null);}),t;}}let z=(e,t)=>t.reduce((t,[r,n])=>t[r]&&void 0!==n?t[r].call(e,n):t,e);},"2802bac1":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{floydWarshall:function(){return o;},getAdjMatrix:function(){return i;},getEuclideanDistance:function(){return s;},getLayoutBBox:function(){return l;},graphTreeDfs:function(){return u;},scaleMatrix:function(){return d;}});var n=r("777fffbe")._(r("4c900b62")),a=r("cb8807d4");let o=e=>{let t=[],r=e.length;for(let n=0;n<r;n+=1){t[n]=[];for(let a=0;a<r;a+=1)n===a?t[n][a]=0:0!==e[n][a]&&e[n][a]?t[n][a]=e[n][a]:t[n][a]=1/0;}for(let e=0;e<r;e+=1)for(let n=0;n<r;n+=1)for(let a=0;a<r;a+=1)t[n][a]>t[n][e]+t[e][a]&&(t[n][a]=t[n][e]+t[e][a]);return t;},i=(e,t)=>{let{nodes:r,edges:n}=e,a=[],o={};if(!r)throw Error("invalid nodes data!");return r&&r.forEach((e,t)=>{o[e.id]=t,a.push([]);}),null==n||n.forEach(e=>{let{source:r,target:n}=e,i=o[r],d=o[n];void 0===i||void 0===d||(a[i][d]=1,t||(a[d][i]=1));}),a;},d=(e,t)=>{let r=[];return e.forEach(e=>{let n=[];e.forEach(e=>{n.push(e*t);}),r.push(n);}),r;},l=e=>{let t=1/0,r=1/0,o=-1/0,i=-1/0;return e.forEach(e=>{let d=e.data.size;(0,a.isArray)(d)?1===d.length&&(d=[d[0],d[0]]):(0,n.default)(d)?d=[d,d]:(void 0===d||isNaN(d))&&(d=[30,30]);let l=[d[0]/2,d[1]/2],s=e.data.x-l[0],u=e.data.x+l[0],h=e.data.y-l[1],c=e.data.y+l[1];t>s&&(t=s),r>h&&(r=h),o<u&&(o=u),i<c&&(i=c);}),{minX:t,minY:r,maxX:o,maxY:i};},s=(e,t)=>Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)),u=(e,t,r,n="TB",a,o={})=>{if(!(null==t?void 0:t.length))return;let{stopBranchFn:i,stopAllFn:d}=o;for(let l=0;l<t.length;l++){let s=t[l];if(e.hasNode(s.id)&&(null==i||!i(s))){if(null==d?void 0:d(s))return;"TB"===n&&r(s),u(e,e.getChildren(s.id,a),r,n,a,o),"TB"!==n&&r(s);}}};},"389e02f3":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"getEdgeTerminal",{enumerable:!0,get:function(){return a;}}),r("72cd960c");var n=r("8cd803db");let a=(e,t)=>{let r=e[t];return(0,n.isObject)(r)?r.cell:r;};},"3e4364ad":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"MDSLayout",{enumerable:!0,get:function(){return s;}});var n=r("51e076c8"),a=r("4cd16c8c"),o=r("a30e9cfb"),i=r("2802bac1"),d=r("51c4521a");let l={center:[0,0],linkDistance:50};class s{constructor(e={}){this.options=e,this.id="mds",this.options=Object.assign(Object.assign({},l),e);}execute(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,e,t);});}assign(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,e,t);});}genericMDSLayout(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){let{center:n=[0,0],linkDistance:a=50}=Object.assign(Object.assign({},this.options),r),l=t.getAllNodes(),s=t.getAllEdges();if(!(null==l?void 0:l.length)||1===l.length)return(0,d.handleSingleNodeGraph)(t,e,n);let c=(0,i.getAdjMatrix)({nodes:l,edges:s},!1),f=(0,i.floydWarshall)(c);u(f);let g=h((0,i.scaleMatrix)(f,a)),v=[];return g.forEach((e,t)=>{let r=(0,o.cloneFormatData)(l[t]);r.data.x=e[0]+n[0],r.data.y=e[1]+n[1],v.push(r);}),e&&v.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})),{nodes:v,edges:s};});}}let u=e=>{let t=-999999;e.forEach(e=>{e.forEach(e=>{e!==1/0&&t<e&&(t=e);});}),e.forEach((r,n)=>{r.forEach((r,a)=>{r===1/0&&(e[n][a]=t);});});},h=e=>{let t=a.Matrix.mul(a.Matrix.pow(e,2),-.5),r=t.mean("row"),n=t.mean("column"),o=t.mean();t.add(o).subRowVector(r).subColumnVector(n);let i=new a.SingularValueDecomposition(t),d=a.Matrix.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map(e=>a.Matrix.mul([e],[d]).toJSON()[0].splice(0,2));};},"40aed5ca":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},"504aa159":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},"51c4521a":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"handleSingleNodeGraph",{enumerable:!0,get:function(){return n;}});let n=(e,t,r)=>{let n=e.getAllNodes(),a=e.getAllEdges();return(null==n?void 0:n.length)?1===n.length?(t&&e.mergeNodeData(n[0].id,{x:r[0],y:r[1]}),{nodes:[Object.assign(Object.assign({},n[0]),{data:Object.assign(Object.assign({},n[0].data),{x:r[0],y:r[1]})})],edges:a}):void 0:{nodes:[],edges:a};};},"51f8abd2":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},"527399aa":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"CircularLayout",{enumerable:!0,get:function(){return l;}});var n=r("51e076c8"),a=r("a30e9cfb"),o=r("db502ba9"),i=r("51c4521a");let d={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1};class l{constructor(e={}){this.options=e,this.id="circular",this.options=Object.assign(Object.assign({},d),e);}execute(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,e,t);});}assign(e,t){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,e,t);});}genericCircularLayout(e,t,r){return(0,n.__awaiter)(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.options),r),{width:d,height:l,center:h,divisions:c,startAngle:f=0,endAngle:g=2*Math.PI,angleRatio:v,ordering:p,clockwise:y,nodeSpacing:m,nodeSize:b}=n,w=t.getAllNodes(),E=t.getAllEdges(),[x,N,_]=u(d,l,h),M=null==w?void 0:w.length;if(!M||1===M)return(0,i.handleSingleNodeGraph)(t,e,_);let{radius:k,startRadius:j,endRadius:O}=n;if(m){let e=(0,o.formatNumberFn)(10,m),t=(0,o.formatSizeFn)(10,b),r=-1/0;w.forEach(e=>{let n=t(e);r<n&&(r=n);});let n=0;w.forEach((t,a)=>{0===a?n+=r||10:n+=(e(t)||0)+(r||10);}),k=n/(2*Math.PI);}else k||j||O?!j&&O?j=O:j&&!O&&(O=j):k=Math.min(N,x)/2;let A=(g-f)/M*v,L=[];L="topology"===p?s(t,w):"topology-directed"===p?s(t,w,!0):"degree"===p?function(e,t){let r=[];return t.forEach((e,t)=>{r.push((0,a.cloneFormatData)(e));}),r.sort((t,r)=>e.getDegree(t.id,"both")-e.getDegree(r.id,"both")),r;}(t,w):w.map(e=>(0,a.cloneFormatData)(e));let S=Math.ceil(M/c);for(let e=0;e<M;++e){let t=k;t||null===j||null===O||(t=j+e*(O-j)/(M-1)),t||(t=10+100*e/(M-1));let r=f+e%S*A+2*Math.PI/c*Math.floor(e/S);y||(r=g-e%S*A-2*Math.PI/c*Math.floor(e/S)),L[e].data.x=_[0]+Math.cos(r)*t,L[e].data.y=_[1]+Math.sin(r)*t;}return e&&L.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y});}),{nodes:L,edges:E};});}}let s=(e,t,r=!1)=>{let n=[(0,a.cloneFormatData)(t[0])],o={},i=t.length;o[t[0].id]=!0;let d=0;return t.forEach((l,s)=>{if(0!==s){if((s===i-1||e.getDegree(l.id,"both")!==e.getDegree(t[s+1].id,"both")||e.areNeighbors(n[d].id,l.id))&&!o[l.id])n.push((0,a.cloneFormatData)(l)),o[l.id]=!0,d++;else{let s=r?e.getSuccessors(n[d].id):e.getNeighbors(n[d].id),u=!1;for(let t=0;t<s.length;t++){let r=s[t];if(e.getDegree(r.id)===e.getDegree(l.id)&&!o[r.id]){n.push((0,a.cloneFormatData)(r)),o[r.id]=!0,u=!0;break;}}let h=0;for(;!u&&(o[t[h].id]||(n.push((0,a.cloneFormatData)(t[h])),o[t[h].id]=!0,u=!0),++h!==i););}}}),n;},u=(e,t,r)=>{let n=e,a=t,o=r;return n||"undefined"==typeof window||(n=window.innerWidth),a||"undefined"==typeof window||(a=window.innerHeight),o||(o=[n/2,a/2]),[n,a,o];};},"5be890b8":function(e,t,r){},"5c1db550":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},"5f40b615":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0});var n=r("d1751d7c");r("c950836d"),n._(r("87b4c75f"),t);},"62d5c791":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},"6635f349":function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{DagreLayout:function(){return tR;}});var n=r("777fffbe");let a=(e,t)=>{if("next"!==e&&"prev"!==e)return t;},o=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev;};class i{constructor(){let e={};e.prev=e,e.next=e.prev,this.shortcut=e;}dequeue(){let e=this.shortcut,t=e.prev;if(t&&t!==e)return o(t),t;}enqueue(e){let t=this.shortcut;e.prev&&e.next&&o(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t;}toString(){let e=[],t=this.shortcut,r=t.prev;for(;r!==t;)e.push(JSON.stringify(r,a)),r=null==r?void 0:r.prev;return`[${e.join(", ")}]`;}}var d=r("9e927526");class l extends i{}class s extends d.Graph{}let u=()=>1,h=(e,t)=>{var r;if(1>=e.nodeCount())return[];let n=g(e,t||u);return null===(r=c(n.graph,n.buckets,n.zeroIdx).map(t=>e.outEdges(t.v,t.w)))||void 0===r?void 0:r.flat();},c=(e,t,r)=>{let n,a=[],o=t[t.length-1],i=t[0];for(;e.nodeCount();){for(;n=i.dequeue();)f(e,t,r,n);for(;n=o.dequeue();)f(e,t,r,n);if(e.nodeCount()){for(let o=t.length-2;o>0;--o)if(n=t[o].dequeue()){a=a.concat(f(e,t,r,n,!0));break;}}}return a;},f=(e,t,r,n,a)=>{var o,i;let d=[];return null===(o=e.inEdges(n.v))||void 0===o||o.forEach(n=>{let o=e.edge(n),i=e.node(n.v);a&&d.push({v:n.v,w:n.w,in:0,out:0}),void 0===i.out&&(i.out=0),i.out-=o,v(t,r,i);}),null===(i=e.outEdges(n.v))||void 0===i||i.forEach(n=>{let a=e.edge(n),o=n.w,i=e.node(o);void 0===i.in&&(i.in=0),i.in-=a,v(t,r,i);}),e.removeNode(n.v),a?d:void 0;},g=(e,t)=>{let r=new s,n=0,a=0;e.nodes().forEach(e=>{r.setNode(e,{v:e,in:0,out:0});}),e.edges().forEach(e=>{let o=r.edge(e)||0,i=(null==t?void 0:t(e))||1;r.setEdge(e.v,e.w,o+i),a=Math.max(a,r.node(e.v).out+=i),n=Math.max(n,r.node(e.w).in+=i);});let o=[],i=a+n+3;for(let e=0;e<i;e++)o.push(new l);let d=n+1;return r.nodes().forEach(e=>{v(o,d,r.node(e));}),{buckets:o,zeroIdx:d,graph:r};},v=(e,t,r)=>{r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r);},p=e=>{let t=[],r={},n={},a=o=>{var i;n[o]||(n[o]=!0,r[o]=!0,null===(i=e.outEdges(o))||void 0===i||i.forEach(e=>{r[e.w]?t.push(e):a(e.w);}),delete r[o]);};return e.nodes().forEach(a),t;};var y=e=>{let t="greedy"===e.graph().acyclicer?h(e,t=>{var r;return(null===(r=e.edge(t))||void 0===r?void 0:r.weight)||1;}):p(e);null==t||t.forEach(t=>{let r=e.edge(t);e.removeEdgeObj(t),r.forwardName=t.name,r.reversed=!0,e.setEdge(t.w,t.v,r,`rev-${Math.random()}`);});},m=e=>{e.edges().forEach(t=>{let r=e.edge(t);if(r.reversed){e.removeEdgeObj(t);let n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n);}});},b=r("06479f71");class w extends d.Graph{}let E=(e,t)=>Number(e)-Number(t),x=(e,t,r,n)=>{let a;do a=`${n}${Math.random()}`;while(e.hasNode(a))return r.dummy=t,e.setNode(a,r),a;},N=e=>{let t=new w().setGraph(e.graph());return e.nodes().forEach(r=>{t.setNode(r,e.node(r));}),e.edges().forEach(r=>{let n=t.edgeFromArgs(r.v,r.w)||{weight:0,minlen:1},a=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)});}),t;},_=e=>{let t=new w({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(r=>{var n;(null===(n=e.children(r))||void 0===n?void 0:n.length)||t.setNode(r,e.node(r));}),e.edges().forEach(r=>{t.setEdgeObj(r,e.edge(r));}),t;},M=(e,t)=>null==e?void 0:e.reduce((e,r,n)=>(e[r]=t[n],e),{}),k=(e,t)=>{let r,n;let a=Number(e.x),o=Number(e.y),i=Number(t.x)-a,d=Number(t.y)-o,l=Number(e.width)/2,s=Number(e.height)/2;return i||d?(Math.abs(d)*l>Math.abs(i)*s?(d<0&&(s=-s),r=s*i/d,n=s):(i<0&&(l=-l),r=l,n=l*d/i),{x:a+r,y:o+n}):{x:0,y:0};},j=e=>{let t=[],r=S(e)+1;for(let e=0;e<r;e++)t.push([]);e.nodes().forEach(r=>{let n=e.node(r);if(!n)return;let a=n.rank;void 0!==a&&t[a]&&t[a].push(r);});for(let n=0;n<r;n++)t[n]=t[n].sort((t,r)=>{var n,a;return E(null===(n=e.node(t))||void 0===n?void 0:n.order,null===(a=e.node(r))||void 0===a?void 0:a.order);});return t;},O=e=>{let t=Math.min(...e.nodes().filter(t=>{var r;return(null===(r=e.node(t))||void 0===r?void 0:r.rank)!==void 0;}).map(t=>e.node(t).rank));e.nodes().forEach(r=>{let n=e.node(r);n.hasOwnProperty("rank")&&t!==1/0&&(n.rank-=t);});},A=e=>{let t=e.nodes(),r=Math.min(...t.filter(t=>{var r;return(null===(r=e.node(t))||void 0===r?void 0:r.rank)!==void 0;}).map(t=>e.node(t).rank)),n=[];t.forEach(t=>{var a;let o=((null===(a=e.node(t))||void 0===a?void 0:a.rank)||0)-r;n[o]||(n[o]=[]),n[o].push(t);});let a=0,o=e.graph().nodeRankFactor||0;for(let t=0;t<n.length;t++){let r=n[t];void 0===r?t%o!=0&&(a-=1):a&&(null==r||r.forEach(t=>{let r=e.node(t);r&&(r.rank=r.rank||0,r.rank+=a);}));}},L=(e,t,r,n)=>{let a={width:0,height:0};return(0,b.isNumber)(r)&&(0,b.isNumber)(n)&&(a.rank=r,a.order=n),x(e,"border",a,t);},S=e=>{let t;return e.nodes().forEach(r=>{var n;let a=null===(n=e.node(r))||void 0===n?void 0:n.rank;void 0!==a&&(void 0===t||a>t)&&(t=a);}),t||(t=0),t;},I=(e,t)=>{let r={lhs:[],rhs:[]};return null==e||e.forEach(e=>{t(e)?r.lhs.push(e):r.rhs.push(e);}),r;},z=(e,t)=>{let r=Date.now();try{return t();}finally{console.log(`${e} time: ${Date.now()-r}ms`);}},D=(e,t)=>t(),R=(e,t)=>e.reduce((e,r)=>t(e)>t(r)?r:e),C=(e,t)=>{let r,n,a,o=t.v,i=e.node(o).rank,d=t.w,l=e.node(d).rank,s=t.name,u=e.edge(t),h=u.labelRank;if(l===i+1)return;e.removeEdgeObj(t);let c=e.graph();for(a=0,++i;i<l;++a,++i)u.points=[],r=x(e,"edge",n={edgeLabel:u,width:0,height:0,edgeObj:t,rank:i},"_d"),i===h&&(n.width=u.width,n.height=u.height,n.dummy="edge-label",n.labelpos=u.labelpos),e.setEdge(o,r,{weight:u.weight},s),0===a&&(c.dummyChains||(c.dummyChains=[]),c.dummyChains.push(r)),o=r;e.setEdge(o,d,{weight:u.weight},s);};var P=e=>{e.graph().dummyChains=[],e.edges().forEach(t=>C(e,t));},T=e=>{var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach(t=>{let r,n=e.node(t),a=n.edgeLabel;n.edgeObj&&e.setEdgeObj(n.edgeObj,a);let o=t;for(;n.dummy;)r=e.successors(o)[0],e.removeNode(o),a.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),o=r,n=e.node(o);});};let F=e=>{var t;let r={},n=t=>{var a;let o;let i=e.node(t);return i?r[t]?i.rank:(r[t]=!0,null===(a=e.outEdges(t))||void 0===a||a.forEach(t=>{let r=n(t.w)-e.edge(t).minlen;r&&(void 0===o||r<o)&&(o=r);}),o||(o=0),i.rank=o,o):0;};null===(t=e.sources())||void 0===t||t.forEach(e=>n(e));},G=e=>{var t;let r;let n={},a=t=>{var o;let i;let d=e.node(t);return d?n[t]?d.rank:(n[t]=!0,null===(o=e.outEdges(t))||void 0===o||o.forEach(t=>{let r=a(t.w)-e.edge(t).minlen;r&&(void 0===i||r<i)&&(i=r);}),i||(i=0),(void 0===r||i<r)&&(r=i),d.rank=i,i):0;};null===(t=e.sources())||void 0===t||t.forEach(t=>{e.node(t)&&a(t);}),void 0===r&&(r=0);let o={},i=(t,r)=>{var n;let a=e.node(t),d=isNaN(a.layer)?r:a.layer;(void 0===a.rank||a.rank<d)&&(a.rank=d),o[t]||(o[t]=!0,null===(n=e.outEdges(t))||void 0===n||n.map(t=>{i(t.w,d+e.edge(t).minlen);}));};e.nodes().forEach(t=>{let n=e.node(t);n&&(isNaN(n.layer)?n.rank-=r:i(t,n.layer));});},B=(e,t)=>e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen,q=e=>{let t,r;let n=new w({directed:!1}),a=e.nodes()[0],o=e.nodeCount();for(n.setNode(a,{});W(n,e)<o;)t=$(n,e),r=n.hasNode(t.v)?B(e,t):-B(e,t),H(n,e,r);return n;},W=(e,t)=>{let r=n=>{t.nodeEdges(n).forEach(a=>{let o=a.v,i=n===o?a.w:o;e.hasNode(i)||B(t,a)||(e.setNode(i,{}),e.setEdge(n,i,{}),r(i));});};return e.nodes().forEach(r),e.nodeCount();},V=e=>{let t,r;let n=new w({directed:!1}),a=e.nodes()[0],o=e.nodes().filter(t=>!!e.node(t)).length;for(n.setNode(a,{});U(n,e)<o;)t=$(n,e),r=n.hasNode(t.v)?B(e,t):-B(e,t),H(n,e,r);return n;},U=(e,t)=>{let r=n=>{var a;null===(a=t.nodeEdges(n))||void 0===a||a.forEach(a=>{let o=a.v,i=n===o?a.w:o;e.hasNode(i)||void 0===t.node(i).layer&&B(t,a)||(e.setNode(i,{}),e.setEdge(n,i,{}),r(i));});};return e.nodes().forEach(r),e.nodeCount();},$=(e,t)=>R(t.edges(),r=>e.hasNode(r.v)!==e.hasNode(r.w)?B(t,r):1/0),H=(e,t,r)=>{e.nodes().forEach(e=>{t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=r;});},{preorder:Y,postorder:J}=d.algorithm,K=e=>{let t,r;let n=N(e);F(n);let a=q(n);for(ee(a),X(a,n);t=er(a);)r=en(a,n,t),ea(a,n,t,r);},X=(e,t)=>{let r=J(e,e.nodes());null==(r=null==r?void 0:r.slice(0,(null==r?void 0:r.length)-1))||r.forEach(r=>{Q(e,t,r);});},Q=(e,t,r)=>{let n=e.node(r).parent;e.edgeFromArgs(r,n).cutvalue=Z(e,t,r);},Z=(e,t,r)=>{var n;let a=e.node(r).parent,o=!0,i=t.edgeFromArgs(r,a),d=0;return i||(o=!1,i=t.edgeFromArgs(a,r)),d=i.weight,null===(n=t.nodeEdges(r))||void 0===n||n.forEach(n=>{let i=n.v===r,l=i?n.w:n.v;if(l!==a){let a=i===o,s=t.edge(n).weight;if(d+=a?s:-s,ei(e,r,l)){let t=e.edgeFromArgs(r,l).cutvalue;d+=a?-t:t;}}}),d;},ee=(e,t=e.nodes()[0])=>{et(e,{},1,t);},et=(e,t,r,n,a)=>{var o;let i=r,d=e.node(n);return t[n]=!0,null===(o=e.neighbors(n))||void 0===o||o.forEach(r=>{t[r]||(i=et(e,t,i,r,n));}),d.low=r,d.lim=i++,a?d.parent=a:delete d.parent,i;},er=e=>e.edges().find(t=>e.edge(t).cutvalue<0),en=(e,t,r)=>{let n=r.v,a=r.w;t.hasEdge(n,a)||(n=r.w,a=r.v);let o=e.node(n),i=e.node(a),d=o,l=!1;return o.lim>i.lim&&(d=i,l=!0),R(t.edges().filter(t=>l===ed(e,e.node(t.v),d)&&l!==ed(e,e.node(t.w),d)),e=>B(t,e));},ea=(e,t,r,n)=>{let a=r.v,o=r.w;e.removeEdge(a,o),e.setEdge(n.v,n.w,{}),ee(e),X(e,t),eo(e,t);},eo=(e,t)=>{let r=e.nodes().find(e=>{var r;return!(null===(r=t.node(e))||void 0===r?void 0:r.parent);}),n=Y(e,r);null==(n=null==n?void 0:n.slice(1))||n.forEach(r=>{let n=e.node(r).parent,a=t.edgeFromArgs(r,n),o=!1;a||(a=t.edgeFromArgs(n,r),o=!0),t.node(r).rank=t.node(n).rank+(o?a.minlen:-a.minlen);});},ei=(e,t,r)=>e.hasEdge(t,r),ed=(e,t,r)=>r.low<=t.lim&&t.lim<=r.lim,el=e=>{switch(e.graph().ranker){case"network-simplex":eh(e);break;case"tight-tree":default:eu(e);break;case"longest-path":es(e);}},es=F,eu=e=>{G(e),V(e);},eh=e=>{K(e);},ec=e=>{var t;let r={},n=0,a=t=>{var o;let i=n;null===(o=e.children(t))||void 0===o||o.forEach(a),r[t]={low:i,lim:n++};};return null===(t=e.children())||void 0===t||t.forEach(a),r;},ef=(e,t,r,n)=>{let a,o;let i=[],d=[],l=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim);a=r;do i.push(a=e.parent(a));while(a&&(t[a].low>l||s>t[a].lim))for(o=a,a=n;a&&a!==o;)d.push(a),a=e.parent(a);return{lca:o,path:i.concat(d.reverse())};},eg=e=>{var t;let r=ec(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach(t=>{var n,a;let o=t,i=e.node(o),d=i.edgeObj;if(!d)return;let l=ef(e,r,d.v,d.w),s=l.path,u=l.lca,h=0,c=s[0],f=!0;for(;o!==d.w;){if(i=e.node(o),f){for(;c!==u&&(null===(n=e.node(c))||void 0===n?void 0:n.maxRank)<i.rank;)c=s[++h];c===u&&(f=!1);}if(!f){for(;h<s.length-1&&(null===(a=e.node(s[h+1]))||void 0===a?void 0:a.minRank)<=i.rank;)h++;c=s[h];}e.setParent(o,c),o=e.successors(o)[0];}});},ev=(e,t,r,n,a,o,i)=>{let d=e.children(i);if(!(null==d?void 0:d.length)){i!==t&&e.setEdge(t,i,{weight:0,minlen:r});return;}let l=L(e,"_bt"),s=L(e,"_bb"),u=e.node(i);e.setParent(l,i),u.borderTop=l,e.setParent(s,i),u.borderBottom=s,null==d||d.forEach(d=>{ev(e,t,r,n,a,o,d);let u=e.node(d),h=u.borderTop?u.borderTop:d,c=u.borderBottom?u.borderBottom:d,f=u.borderTop?n:2*n,g=h!==c?1:a-o[i]+1;e.setEdge(l,h,{minlen:g,weight:f,nestingEdge:!0}),e.setEdge(c,s,{minlen:g,weight:f,nestingEdge:!0});}),e.parent(i)||e.setEdge(t,l,{weight:0,minlen:a+o[i]});},ep=e=>{var t;let r={},n=(t,a)=>{let o=e.children(t);null==o||o.forEach(e=>n(e,a+1)),r[t]=a;};return null===(t=e.children())||void 0===t||t.forEach(e=>n(e,1)),r;},ey=e=>{let t=0;return e.edges().forEach(r=>{t+=e.edge(r).weight;}),t;};var em=e=>{var t;let r=x(e,"root",{},"_root"),n=ep(e),a=Math.max(...Object.values(n));Math.abs(a)===1/0&&(a=1);let o=a-1,i=2*o+1;e.graph().nestingRoot=r,e.edges().forEach(t=>{e.edge(t).minlen*=i;});let d=ey(e)+1;null===(t=e.children())||void 0===t||t.forEach(t=>{ev(e,r,i,d,o,n,t);}),e.graph().nodeRankFactor=i;},eb=e=>{let t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(t=>{e.edge(t).nestingEdge&&e.removeEdgeObj(t);});};let ew=e=>{var t;let r=t=>{let n=e.children(t),a=e.node(t);if((null==n?void 0:n.length)&&n.forEach(e=>r(e)),a.hasOwnProperty("minRank")){a.borderLeft=[],a.borderRight=[];for(let r=a.minRank,n=a.maxRank+1;r<n;r+=1)eE(e,"borderLeft","_bl",t,a,r),eE(e,"borderRight","_br",t,a,r);}};null===(t=e.children())||void 0===t||t.forEach(e=>r(e));},eE=(e,t,r,n,a,o)=>{let i=a[t][o-1],d=x(e,"border",{rank:o,borderType:t,width:0,height:0},r);a[t][o]=d,e.setParent(d,n),i&&e.setEdge(i,d,{weight:1});},ex=e=>{e.nodes().forEach(t=>{eN(e.node(t));}),e.edges().forEach(t=>{eN(e.edge(t));});},eN=e=>{let t=e.width;e.width=e.height,e.height=t;},e_=e=>{e.nodes().forEach(t=>{eM(e.node(t));}),e.edges().forEach(t=>{var r;let n=e.edge(t);null===(r=n.points)||void 0===r||r.forEach(e=>eM(e)),n.hasOwnProperty("y")&&eM(n);});},eM=e=>{(null==e?void 0:e.y)&&(e.y=-e.y);},ek=e=>{e.nodes().forEach(t=>{ej(e.node(t));}),e.edges().forEach(t=>{var r;let n=e.edge(t);null===(r=n.points)||void 0===r||r.forEach(e=>ej(e)),n.hasOwnProperty("x")&&ej(n);});},ej=e=>{let t=e.x;e.x=e.y,e.y=t;};var eO=e=>{var t;let r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();("lr"===r||"rl"===r)&&ex(e);},eA=e=>{var t;let r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();("bt"===r||"rl"===r)&&e_(e),("lr"===r||"rl"===r)&&(ek(e),ex(e));},eL=r("aba98ab8"),eS=n._(eL);let eI=e=>{let t={},r=e.nodes().filter(t=>{var r;return!(null===(r=e.children(t))||void 0===r?void 0:r.length);}),n=r.map(t=>e.node(t).rank),a=(0,eS.default)(n),o=[];for(let e=0;e<a+1;e++)o.push([]);let i=r=>{var n;if(t.hasOwnProperty(r))return;t[r]=!0;let a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(n=e.successors(r))||void 0===n||n.forEach(e=>i(e));},d=r.sort((t,r)=>e.node(t).rank-e.node(r).rank),l=d.filter(t=>void 0!==e.node(t).fixorder).sort((t,r)=>e.node(t).fixorder-e.node(r).fixorder);return null==l||l.forEach(r=>{isNaN(e.node(r).rank)||o[e.node(r).rank].push(r),t[r]=!0;}),null==d||d.forEach(i),o;},ez=(e,t,r)=>{let n=M(r,r.map((e,t)=>t)),a=t.map(t=>{var r;let a=null===(r=e.outEdges(t))||void 0===r?void 0:r.map(t=>({pos:n[t.w]||0,weight:e.edge(t).weight}));return null==a?void 0:a.sort((e,t)=>e.pos-t.pos);}).flat().filter(e=>void 0!==e),o=1;for(;o<r.length;)o<<=1;let i=2*o-1;o-=1;let d=Array(i).fill(0,0,i),l=0;return null==a||a.forEach(e=>{if(e){let t=e.pos+o;d[t]+=e.weight;let r=0;for(;t>0;)t%2&&(r+=d[t+1]),t=t-1>>1,d[t]+=e.weight;l+=e.weight*r;}}),l;},eD=(e,t)=>{let r=0;for(let n=1;n<(null==t?void 0:t.length);n+=1)r+=ez(e,t[n-1],t[n]);return r;},eR=(e,t,r)=>{let n=eC(e),a=new w({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(t=>e.node(t));return e.nodes().forEach(o=>{var i;let d=e.node(o),l=e.parent(o);(d.rank===t||d.minRank<=t&&t<=d.maxRank)&&(a.setNode(o),a.setParent(o,l||n),null===(i=e[r](o))||void 0===i||i.forEach(t=>{let r=t.v===o?t.w:t.v,n=a.edgeFromArgs(r,o),i=void 0!==n?n.weight:0;a.setEdge(r,o,{weight:e.edge(t).weight+i});}),d.hasOwnProperty("minRank")&&a.setNode(o,{borderLeft:d.borderLeft[t],borderRight:d.borderRight[t]}));}),a;},eC=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t;},eP=(e,t,r)=>{let n;let a={};null==r||r.forEach(r=>{let o,i,d=e.parent(r);for(;d;){if((o=e.parent(d))?(i=a[o],a[o]=d):(i=n,n=d),i&&i!==d){t.setEdge(i,d);return;}d=o;}});},eT=(e,t)=>t.map(t=>{let r=e.inEdges(t);if(!(null==r?void 0:r.length))return{v:t};{let n={sum:0,weight:0};return null==r||r.forEach(t=>{let r=e.edge(t),a=e.node(t.v);n.sum+=r.weight*a.order,n.weight+=r.weight;}),{v:t,barycenter:n.sum/n.weight,weight:n.weight};}}),eF=(e,t)=>{var r,n,a;let o={};return null==e||e.forEach((e,t)=>{o[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};let r=o[e.v];void 0!==e.barycenter&&(r.barycenter=e.barycenter,r.weight=e.weight);}),null===(r=t.edges())||void 0===r||r.forEach(e=>{let t=o[e.v],r=o[e.w];void 0!==t&&void 0!==r&&(r.indegree++,t.out.push(o[e.w]));}),eG(null===(a=(n=Object.values(o)).filter)||void 0===a?void 0:a.call(n,e=>!e.indegree));},eG=e=>{var t,r;let n=[],a=e=>t=>{!t.merged&&(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&eB(e,t);},o=t=>r=>{r.in.push(t),0==--r.indegree&&e.push(r);};for(;null==e?void 0:e.length;){let i=e.pop();n.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach(e=>a(i)(e)),null===(r=i.out)||void 0===r||r.forEach(e=>o(i)(e));}let i=n.filter(e=>!e.merged),d=["vs","i","barycenter","weight"];return i.map(e=>{let t={};return null==d||d.forEach(r=>{void 0!==e[r]&&(t[r]=e[r]);}),t;});},eB=(e,t)=>{var r;let n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=null===(r=t.vs)||void 0===r?void 0:r.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0;},eq=(e,t,r,n)=>{let a=I(e,e=>{let t=e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder);return n?!t&&e.hasOwnProperty("barycenter"):t||e.hasOwnProperty("barycenter");}),o=a.lhs,i=a.rhs.sort((e,t)=>-e.i- -t.i),d=[],l=0,s=0,u=0;null==o||o.sort(eV(!!t,!!r)),u=eW(d,i,u),null==o||o.forEach(e=>{var t;u+=null===(t=e.vs)||void 0===t?void 0:t.length,d.push(e.vs),l+=e.barycenter*e.weight,s+=e.weight,u=eW(d,i,u);});let h={vs:d.flat()};return s&&(h.barycenter=l/s,h.weight=s),h;},eW=(e,t,r)=>{let n,a=r;for(;t.length&&(n=t[t.length-1]).i<=a;)t.pop(),null==e||e.push(n.vs),a++;return a;},eV=(e,t)=>(r,n)=>{if(void 0!==r.fixorder&&void 0!==n.fixorder)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return -1;if(r.barycenter>n.barycenter)return 1;if(t&&void 0!==r.order&&void 0!==n.order){if(r.order<n.order)return -1;if(r.order>n.order)return 1;}return e?n.i-r.i:r.i-n.i;},eU=(e,t,r,n,a,o)=>{var i,d,l,s;let u=e.children(t),h=e.node(t),c=h?h.borderLeft:void 0,f=h?h.borderRight:void 0,g={};c&&(u=null==u?void 0:u.filter(e=>e!==c&&e!==f));let v=eT(e,u||[]);null==v||v.forEach(t=>{var a;if(null===(a=e.children(t.v))||void 0===a?void 0:a.length){let a=eU(e,t.v,r,n,o);g[t.v]=a,a.hasOwnProperty("barycenter")&&eH(t,a);}});let p=eF(v,r);e$(p,g),null===(i=p.filter(e=>e.vs.length>0))||void 0===i||i.forEach(t=>{let r=e.node(t.vs[0]);r&&(t.fixorder=r.fixorder,t.order=r.order);});let y=eq(p,n,a,o);if(c&&(y.vs=[c,y.vs,f].flat(),null===(d=e.predecessors(c))||void 0===d?void 0:d.length)){let t=e.node((null===(l=e.predecessors(c))||void 0===l?void 0:l[0])||""),r=e.node((null===(s=e.predecessors(f))||void 0===s?void 0:s[0])||"");y.hasOwnProperty("barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+t.order+r.order)/(y.weight+2),y.weight+=2;}return y;},e$=(e,t)=>{null==e||e.forEach(e=>{var r;let n=null===(r=e.vs)||void 0===r?void 0:r.map(e=>t[e]?t[e].vs:e);e.vs=n.flat();});},eH=(e,t)=>{void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight);},eY=(e,t)=>{let r;let n=S(e),a=[],o=[];for(let e=1;e<n+1;e++)a.push(e);for(let e=n-1;e>-1;e--)o.push(e);let i=eJ(e,a,"inEdges"),d=eJ(e,o,"outEdges"),l=eI(e);eX(e,l);let s=Number.POSITIVE_INFINITY;for(let n=0,a=0;a<4;++n,++a){eK(n%2?i:d,n%4>=2,!1,t),l=j(e);let o=eD(e,l);o<s&&(a=0,r=(0,b.clone)(l),s=o);}l=eI(e),eX(e,l);for(let n=0,a=0;a<4;++n,++a){eK(n%2?i:d,n%4>=2,!0,t),l=j(e);let o=eD(e,l);o<s&&(a=0,r=(0,b.clone)(l),s=o);}eX(e,r);},eJ=(e,t,r)=>t.map(t=>eR(e,t,r)),eK=(e,t,r,n)=>{let a=new w;null==e||e.forEach(e=>{var o;let i=e.graph().root,d=eU(e,i,a,t,r,n);for(let t=0;t<(null===(o=d.vs)||void 0===o?void 0:o.length);t++){let r=e.node(d.vs[t]);r&&(r.order=t);}eP(e,a,d.vs);});},eX=(e,t)=>{null==t||t.forEach(t=>{null==t||t.forEach((t,r)=>{e.node(t).order=r;});});};var eQ=r("963a1007"),eZ=n._(eQ);class e0 extends d.Graph{}let e1=(e,t)=>{let r={};return(null==t?void 0:t.length)&&t.reduce((t,n)=>{let a=0,o=0,i=t.length,d=null==n?void 0:n[(null==n?void 0:n.length)-1];return null==n||n.forEach((t,l)=>{var s;let u=e7(e,t),h=u?e.node(u).order:i;(u||t===d)&&(null===(s=n.slice(o,l+1))||void 0===s||s.forEach(t=>{var n;null===(n=e.predecessors(t))||void 0===n||n.forEach(n=>{var o;let i=e.node(n),d=i.order;(d<a||h<d)&&!(i.dummy&&(null===(o=e.node(t))||void 0===o?void 0:o.dummy))&&e5(r,n,t);});}),o=l+1,a=h);}),n;}),r;},e2=(e,t)=>{let r={};function n(t,n){let a=JSON.stringify(t.slice(1));n.get(a)||(!function(t,n,a,o,i){var d,l;let s;for(let u=n;u<a;u++)s=t[u],(null===(d=e.node(s))||void 0===d?void 0:d.dummy)&&(null===(l=e.predecessors(s))||void 0===l||l.forEach(t=>{let n=e.node(t);n.dummy&&(n.order<o||n.order>i)&&e5(r,t,s);}));}(...t),n.set(a,!0));}return(null==t?void 0:t.length)&&t.reduce((t,r)=>{let a,o=-1,i=0,d=new Map;return null==r||r.forEach((l,s)=>{var u;if((null===(u=e.node(l))||void 0===u?void 0:u.dummy)==="border"){let t=e.predecessors(l)||[];t.length&&(a=e.node(t[0]).order,n([r,i,s,o,a],d),i=s,o=a);}n([r,i,r.length,a,t.length],d);}),r;}),r;},e7=(e,t)=>{var r,n;if(null===(r=e.node(t))||void 0===r?void 0:r.dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find(t=>e.node(t).dummy);},e5=(e,t,r)=>{let n=t,a=r;if(n>a){let e=n;n=a,a=e;}let o=e[n];o||(e[n]=o={}),o[a]=!0;},e9=(e,t,r)=>{let n=t,a=r;return n>a&&(n=a,a=t),!!e[n];},e4=(e,t,r,n)=>{let a={},o={},i={};return null==t||t.forEach(e=>{null==e||e.forEach((e,t)=>{a[e]=e,o[e]=e,i[e]=t;});}),null==t||t.forEach(e=>{let t=-1;null==e||e.forEach(e=>{let d=n(e);if(d.length){let n=((d=d.sort((e,t)=>i[e]-i[t])).length-1)/2;for(let l=Math.floor(n),s=Math.ceil(n);l<=s;++l){let n=d[l];o[e]===e&&t<i[n]&&!e9(r,e,n)&&(o[n]=e,o[e]=a[e]=a[n],t=i[n]);}}});}),{root:a,align:o};},e3=(e,t,r,n,a)=>{var o;let i={},d=e6(e,t,r,a),l=a?"borderLeft":"borderRight",s=(e,t)=>{let r=d.nodes(),n=r.pop(),a={};for(;n;)a[n]?e(n):(a[n]=!0,r.push(n),r=r.concat(t(n))),n=r.pop();};return s(e=>{i[e]=(d.inEdges(e)||[]).reduce((e,t)=>Math.max(e,(i[t.v]||0)+d.edge(t)),0);},d.predecessors.bind(d)),s(t=>{let r=(d.outEdges(t)||[]).reduce((e,t)=>Math.min(e,(i[t.w]||0)-d.edge(t)),Number.POSITIVE_INFINITY),n=e.node(t);r!==Number.POSITIVE_INFINITY&&n.borderType!==l&&(i[t]=Math.max(i[t],r));},d.successors.bind(d)),null===(o=Object.values(n))||void 0===o||o.forEach(e=>{i[e]=i[r[e]];}),i;},e6=(e,t,r,n)=>{let a=new e0,o=e.graph(),i=tt(o.nodesep,o.edgesep,n);return null==t||t.forEach(t=>{let n;null==t||t.forEach(t=>{let o=r[t];if(a.setNode(o),n){let d=r[n],l=a.edgeFromArgs(d,o);a.setEdge(d,o,Math.max(i(e,t,n),l||0));}n=t;});}),a;},e8=(e,t)=>R(Object.values(t),t=>{var r;let n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return null===(r=Object.keys(t))||void 0===r||r.forEach(r=>{let o=t[r],i=tr(e,r)/2;n=Math.max(o+i,n),a=Math.min(o-i,a);}),n-a;}),te=(e,t)=>{let r={};return Object.keys(e.ul).forEach(n=>{if(t)r[n]=e[t.toLowerCase()][n];else{let t=Object.values(e).map(e=>e[n]);r[n]=(t[0]+t[1])/2;}}),r;},tt=(e,t,r)=>(n,a,o)=>{let i,d;let l=n.node(a),s=n.node(o);if(d=0+l.width/2,l.hasOwnProperty("labelpos"))switch((l.labelpos||"").toLowerCase()){case"l":i=-l.width/2;break;case"r":i=l.width/2;}if(i&&(d+=r?i:-i),i=0,d+=(l.dummy?t:e)/2+(s.dummy?t:e)/2+s.width/2,s.labelpos)switch((s.labelpos||"").toLowerCase()){case"l":i=s.width/2;break;case"r":i=-s.width/2;}return i&&(d+=r?i:-i),i=0,d;},tr=(e,t)=>e.node(t).width||0,tn=e=>{let t=j(e),r=e.graph().ranksep,n=0;null==t||t.forEach(t=>{let a=Math.max(...t.map(t=>e.node(t).height),0);null==t||t.forEach(t=>{e.node(t).y=n+a/2;}),n+=a+r;});},ta=e=>{let t=j(e),r=Object.assign(e1(e,t),e2(e,t)),n={},a=[];["u","d"].forEach(o=>{a="u"===o?t:Object.values(t).reverse(),["l","r"].forEach(t=>{"r"===t&&(a=a.map(e=>Object.values(e).reverse()));let i=("u"===o?e.predecessors:e.successors).bind(e),d=e4(e,a,r,i),l=e3(e,a,d.root,d.align,"r"===t);"r"===t&&Object.keys(l).forEach(e=>l[e]=-l[e]),n[o+t]=l;});});let o=e8(e,n);return o&&function(e,t){let r=Object.values(t),n=(0,eZ.default)(r),a=(0,eS.default)(r);["u","d"].forEach(r=>{["l","r"].forEach(o=>{let i;let d=r+o,l=e[d];if(l===t)return;let s=Object.values(l);(i="l"===o?n-(0,eZ.default)(s):a-(0,eS.default)(s))&&(e[d]={},Object.keys(l).forEach(t=>{e[d][t]=l[t]+i;}));});});}(n,o),te(n,e.graph().align);},to=e=>{var t;let r=_(e);tn(r);let n=ta(r);null===(t=Object.keys(n))||void 0===t||t.forEach(e=>{r.node(e).x=n[e];});},ti=(e,t)=>{let r=Math.max(...e.nodes().filter(t=>{var r;return!(null===(r=e.children(t))||void 0===r?void 0:r.length);}).map(t=>e.node(t).rank)),n=[];for(let e=0;e<r+1;e++)n[e]=[];null==t||t.forEach(t=>{let r=e.node(t);!r||null!=r&&r.dummy||isNaN(r.rank)||(r.fixorder=n[r.rank].length,n[r.rank].push(t));});},td=(e,t,r)=>{t("    removeSelfEdges",()=>{tO(e);}),t("    acyclic",()=>{y(e);}),t("    nestingGraph.run",()=>{em(e);}),t("    rank",()=>{el(_(e));}),t("    injectEdgeLabelProxies",()=>{tw(e);}),t("    removeEmptyRanks",()=>{A(e);}),t("    nestingGraph.cleanup",()=>{eb(e);}),t("    normalizeRanks",()=>{O(e);}),t("    assignRankMinMax",()=>{tE(e);}),t("    removeEdgeLabelProxies",()=>{tx(e);}),t("    normalize.run",()=>{P(e);}),t("    parentDummyChains",()=>{eg(e);}),t("    addBorderSegments",()=>{ew(e);}),r&&r.keepNodeOrder&&t("    initDataOrder",()=>{ti(e,r.nodeOrder);}),t("    order",()=>{eY(e,null==r?void 0:r.keepNodeOrder);}),t("    insertSelfEdges",()=>{tA(e);}),t("    adjustCoordinateSystem",()=>{eO(e);}),t("    position",()=>{to(e);}),t("    positionSelfEdges",()=>{tL(e);}),t("    removeBorderNodes",()=>{tj(e);}),t("    normalize.undo",()=>{T(e);}),t("    fixupEdgeLabelCoords",()=>{tM(e);}),t("    undoCoordinateSystem",()=>{eA(e);}),t("    translateGraph",()=>{tN(e);}),t("    assignNodeIntersects",()=>{t_(e);}),t("    reversePoints",()=>{tk(e);}),t("    acyclic.undo",()=>{m(e);});},tl=(e,t)=>{e.nodes().forEach(r=>{let n=e.node(r),a=t.node(r);void 0!==a?(n.fixorder=a._order,delete a._order):delete n.fixorder;});},ts=(e,t)=>{e.nodes().forEach(r=>{var n;let a=e.node(r);if(a){let e=t.node(r);a.x=e.x,a.y=e.y,a._order=e.order,a._rank=e.rank,(null===(n=t.children(r))||void 0===n?void 0:n.length)&&(a.width=e.width,a.height=e.height);}}),e.edges().forEach(r=>{let n=e.edge(r),a=t.edge(r);n.points=a?a.points:[],a&&a.hasOwnProperty("x")&&(n.x=a.x,n.y=a.y);}),e.graph().width=t.graph().width,e.graph().height=t.graph().height;},tu=["nodesep","edgesep","ranksep","marginx","marginy"],th={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tc=["acyclicer","ranker","rankdir","align"],tf=["width","height","layer","fixorder"],tg={width:0,height:0},tv=["minlen","weight","width","height","labeloffset"],tp={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ty=["labelpos"],tm=e=>{let t=new w({multigraph:!0,compound:!0}),r=tI(e.graph()),n={};return null==tc||tc.forEach(e=>{void 0!==r[e]&&(n[e]=r[e]);}),t.setGraph(Object.assign({},th,tS(r,tu),n)),e.nodes().forEach(r=>{let n=tI(e.node(r)),a=tS(Object.assign(Object.assign({},tg),n),tf);t.setNode(r,a),t.setParent(r,e.parent(r));}),e.edges().forEach(r=>{let n=tI(e.edge(r)),a={};null==ty||ty.forEach(e=>{void 0!==n[e]&&(a[e]=n[e]);}),t.setEdgeObj(r,Object.assign({},tp,tS(n,tv),a));}),t;},tb=e=>{let t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(t=>{let r=e.node(t);isNaN(r.layer)||r.layer||(r.layer=0);}),e.edges().forEach(r=>{var n;let a=e.edge(r);a.minlen*=2,(null===(n=a.labelpos)||void 0===n?void 0:n.toLowerCase())!=="c"&&("TB"===t.rankdir||"BT"===t.rankdir?a.width+=a.labeloffset:a.height+=a.labeloffset);});},tw=e=>{e.edges().forEach(t=>{let r=e.edge(t);if(r.width&&r.height){let r=e.node(t.v),n=e.node(t.w);x(e,"edge-proxy",{e:t,rank:(n.rank-r.rank)/2+r.rank},"_ep");}});},tE=e=>{let t=0;e.nodes().forEach(r=>{var n,a;let o=e.node(r);o.borderTop&&(o.minRank=null===(n=e.node(o.borderTop))||void 0===n?void 0:n.rank,o.maxRank=null===(a=e.node(o.borderBottom))||void 0===a?void 0:a.rank,t=Math.max(t,o.maxRank||-1/0));}),e.graph().maxRank=t;},tx=e=>{e.nodes().forEach(t=>{let r=e.node(t);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t));});},tN=e=>{let t,r;let n=0,a=0,o=e.graph(),i=o.marginx||0,d=o.marginy||0,l=e=>{if(!e)return;let o=e.x,i=e.y,d=e.width,l=e.height;isNaN(o)||isNaN(d)||(void 0===t&&(t=o-d/2),t=Math.min(t,o-d/2),n=Math.max(n,o+d/2)),isNaN(i)||isNaN(l)||(void 0===r&&(r=i-l/2),r=Math.min(r,i-l/2),a=Math.max(a,i+l/2));};e.nodes().forEach(t=>{l(e.node(t));}),e.edges().forEach(t=>{let r=e.edge(t);(null==r?void 0:r.hasOwnProperty("x"))&&l(r);}),t-=i,r-=d,e.nodes().forEach(n=>{let a=e.node(n);a&&(a.x-=t,a.y-=r);}),e.edges().forEach(n=>{var a;let o=e.edge(n);null===(a=o.points)||void 0===a||a.forEach(e=>{e.x-=t,e.y-=r;}),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=r);}),o.width=n-t+i,o.height=a-r+d;},t_=e=>{e.edges().forEach(t=>{let r,n;let a=e.edge(t),o=e.node(t.v),i=e.node(t.w);a.points?(r=a.points[0],n=a.points[a.points.length-1]):(a.points=[],r=i,n=o),a.points.unshift(k(o,r)),a.points.push(k(i,n));});},tM=e=>{e.edges().forEach(t=>{let r=e.edge(t);if(null==r?void 0:r.hasOwnProperty("x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;}});},tk=e=>{e.edges().forEach(t=>{var r;let n=e.edge(t);n.reversed&&(null===(r=n.points)||void 0===r||r.reverse());});},tj=e=>{e.nodes().forEach(t=>{var r,n,a;if(null===(r=e.children(t))||void 0===r?void 0:r.length){let r=e.node(t),o=e.node(r.borderTop),i=e.node(r.borderBottom),d=e.node(r.borderLeft[(null===(n=r.borderLeft)||void 0===n?void 0:n.length)-1]),l=e.node(r.borderRight[(null===(a=r.borderRight)||void 0===a?void 0:a.length)-1]);r.width=Math.abs((null==l?void 0:l.x)-(null==d?void 0:d.x))||10,r.height=Math.abs((null==i?void 0:i.y)-(null==o?void 0:o.y))||10,r.x=((null==d?void 0:d.x)||0)+r.width/2,r.y=((null==o?void 0:o.y)||0)+r.height/2;}}),e.nodes().forEach(t=>{var r;(null===(r=e.node(t))||void 0===r?void 0:r.dummy)==="border"&&e.removeNode(t);});},tO=e=>{e.edges().forEach(t=>{if(t.v===t.w){let r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t);}});},tA=e=>{let t=j(e);null==t||t.forEach(t=>{let r=0;null==t||t.forEach((t,n)=>{var a;let o=e.node(t);o.order=n+r,null===(a=o.selfEdges)||void 0===a||a.forEach(t=>{x(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:n+ ++r,e:t.e,label:t.label},"_se");}),delete o.selfEdges;});});},tL=e=>{e.nodes().forEach(t=>{let r=e.node(t);if("selfedge"===r.dummy){let n=e.node(r.e.v),a=n.x+n.width/2,o=n.y,i=r.x-a,d=n.height/2;e.setEdgeObj(r.e,r.label),e.removeNode(t),r.label.points=[{x:a+2*i/3,y:o-d},{x:a+5*i/6,y:o-d},{y:o,x:a+i},{x:a+5*i/6,y:o+d},{x:a+2*i/3,y:o+d}],r.label.x=r.x,r.label.y=r.y;}});},tS=(e,t)=>{let r={};return null==t||t.forEach(t=>{void 0!==e[t]&&(r[t]=+e[t]);}),r;},tI=(e={})=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r];}),t;};var tz={layout:(e,t)=>{let r=t&&t.debugTiming?z:D;r("layout",()=>{t&&!t.keepNodeOrder&&t.prevGraph&&r("  inheritOrder",()=>{tl(e,t.prevGraph);});let n=r("  buildLayoutGraph",()=>tm(e));t&&!1===t.edgeLabelSpace||r("  makeSpaceForEdgeLabels",()=>{tb(n);});try{r("  runLayout",()=>{td(n,r,t);});}catch(e){if("Not possible to find intersection inside of the rectangle"===e.message){console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",e);return;}throw e;}r("  updateInputGraph",()=>{ts(e,n);});});}},tD=r("79b2f761");class tR extends tD.Base{constructor(e){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.radial=!1,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=e=>{let{nodes:t}=this,r=t.find(t=>t.id===e);return!r||!1!==r.layout;},this.updateCfg(e);}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null};}execute(){var e,t,r,n;let a,o;let i=this,{nodes:d,nodeSize:l,rankdir:s,combos:u,begin:h,radial:c,comboEdges:f=[],vedges:g=[]}=i;if(!d)return;let v=i.edges||[],p=new w({multigraph:!0,compound:!0});i.nodeMap={};let y={};d.forEach(e=>{i.nodeMap[e.id]=e,e.comboId&&(y[e.comboId]=y[e.comboId]||[],y[e.comboId].push(e.id));});let m=[],E={};(null===(e=i.nodeOrder)||void 0===e?void 0:e.length)?(i.nodeOrder.forEach(e=>{E[e]=!0,m.push(i.nodeMap[e]);}),d.forEach(e=>{E[e.id]||m.push(e);})):m=d,a=l?(0,b.isArray)(l)?()=>l:()=>[l,l]:e=>e.size?(0,b.isArray)(e.size)?e.size:(0,b.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40];let x=(0,b.getFunc)(i.ranksep,50,i.ranksepFunc),N=(0,b.getFunc)(i.nodesep,50,i.nodesepFunc),_=N,M=x;("LR"===s||"RL"===s)&&(_=x,M=N),p.setDefaultEdgeLabel(()=>({})),p.setGraph(i);let k={};this.sortByCombo&&u&&u.forEach(e=>{if(k[e.id]=e,e.collapsed){let t=a(e),r=M(e),n=_(e),o=t[0]+2*n,i=t[1]+2*r;p.setNode(e.id,{width:o,height:i});}e.parentId&&(k[e.parentId]||p.setNode(e.parentId,{}),p.setParent(e.id,e.parentId));}),m.filter(e=>!1!==e.layout).forEach(e=>{let t=a(e),r=M(e),n=_(e),o=t[0]+2*n,i=t[1]+2*r,d=e.layer;(0,b.isNumber)(d)?p.setNode(e.id,{width:o,height:i,layer:d}):p.setNode(e.id,{width:o,height:i}),this.sortByCombo&&e.comboId&&(k[e.comboId]||(k[e.comboId]={id:e.comboId},p.setNode(e.comboId,{})),p.setParent(e.id,e.comboId));}),v.forEach(e=>{let t=(0,b.getEdgeTerminal)(e,"source"),r=(0,b.getEdgeTerminal)(e,"target");this.layoutNode(t)&&this.layoutNode(r)&&p.setEdge(t,r,{weight:e.weight||1});}),null===(t=null==f?void 0:f.concat(g||[]))||void 0===t||t.forEach(e=>{var t,r;let{source:n,target:a}=e,o=(null===(t=k[n])||void 0===t?void 0:t.collapsed)?[n]:y[n]||[n],i=(null===(r=k[a])||void 0===r?void 0:r.collapsed)?[a]:y[a]||[a];o.forEach(t=>{i.forEach(r=>{p.setEdge(t,r,{weight:e.weight||1});});});}),(null===(r=i.preset)||void 0===r?void 0:r.nodes)&&(o=new w({multigraph:!0,compound:!0}),i.preset.nodes.forEach(e=>{null==o||o.setNode(e.id,e);})),tz.layout(p,{prevGraph:o,edgeLabelSpace:i.edgeLabelSpace,keepNodeOrder:!!i.nodeOrder,nodeOrder:i.nodeOrder});let j=[0,0];if(h){let e=1/0,t=1/0;p.nodes().forEach(r=>{let n=p.node(r);e>n.x&&(e=n.x),t>n.y&&(t=n.y);}),p.edges().forEach(r=>{var n;null===(n=p.edge(r).points)||void 0===n||n.forEach(r=>{e>r.x&&(e=r.x),t>r.y&&(t=r.y);});}),j[0]=h[0]-e,j[1]=h[1]-t;}let O="LR"===s||"RL"===s;if(c){let{focusNode:e,ranksep:t,getRadialPos:r}=this,a=(0,b.isString)(e)?e:null==e?void 0:e.id,o=a?null===(n=p.node(a))||void 0===n?void 0:n._rank:0,d=[],l=O?"y":"x",s=O?"height":"width",u=1/0,h=-1/0;p.nodes().forEach(e=>{let t=p.node(e);if(!i.nodeMap[e])return;let r=N(i.nodeMap[e]);if(0===o)d[t._rank]||(d[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),d[t._rank].nodes.push(e),d[t._rank].totalWidth+=2*r+t[s],d[t._rank].maxSize<Math.max(t.width,t.height)&&(d[t._rank].maxSize=Math.max(t.width,t.height));else{let n=t._rank-o;if(0===n)d[n]||(d[n]={nodes:[],totalWidth:0,maxSize:-1/0}),d[n].nodes.push(e),d[n].totalWidth+=2*r+t[s],d[n].maxSize<Math.max(t.width,t.height)&&(d[n].maxSize=Math.max(t.width,t.height));else{let a=Math.abs(n);d[a]||(d[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),d[a].totalWidth+=2*r+t[s],d[a].maxSize<Math.max(t.width,t.height)&&(d[a].maxSize=Math.max(t.width,t.height)),n<0?d[a].left.push(e):d[a].right.push(e);}}let n=t[l]-t[s]/2-r,a=t[l]+t[s]/2+r;n<u&&(u=n),a>h&&(h=a);});let c=t||50,f={},g=(h-u)/.9,y=[(u+h-g)*.5,(u+h+g)*.5],m=(e,t,n=-1/0,a=[0,1])=>{let o=n;return e.forEach(e=>{let n=p.node(e);f[e]=t;let{x:d,y:s}=r(n[l],y,g,t,a);if(!i.nodeMap[e])return;i.nodeMap[e].x=d+j[0],i.nodeMap[e].y=s+j[1],i.nodeMap[e]._order=n._order;let u=x(i.nodeMap[e]);o<u&&(o=u);}),o;},w=!0;d.forEach(e=>{var t,r,n,a,d,l,s;if(!(null===(t=null==e?void 0:e.nodes)||void 0===t?void 0:t.length)&&!(null===(r=null==e?void 0:e.left)||void 0===r?void 0:r.length)&&!(null===(n=null==e?void 0:e.right)||void 0===n?void 0:n.length))return;if(w&&1===e.nodes.length){let t=e.nodes[0];if(!i.nodeMap[t])return;i.nodeMap[t].x=j[0],i.nodeMap[t].y=j[1],f[e.nodes[0]]=0,c=x(i.nodeMap[t]),w=!1;return;}c=Math.max(c,e.totalWidth/(2*Math.PI));let u=-1/0;if(0===o||(null===(a=e.nodes)||void 0===a?void 0:a.length))u=m(e.nodes,c,u,[0,1]);else{let t=(null===(d=e.left)||void 0===d?void 0:d.length)/((null===(l=e.left)||void 0===l?void 0:l.length)+(null===(s=e.right)||void 0===s?void 0:s.length));u=m(e.left,c,u,[0,t]),u=m(e.right,c,u,[t+.05,1]);}c+=u,w=!1,e.maxSize;}),p.edges().forEach(e=>{var t,n,a;let o=p.edge(e),d=v.findIndex(t=>{let r=(0,b.getEdgeTerminal)(t,"source"),n=(0,b.getEdgeTerminal)(t,"target");return r===e.v&&n===e.w;});if(!(d<=-1)&&i.edgeLabelSpace&&i.controlPoints&&"loop"!==v[d].type){let i="x"===l?"y":"x",s=null===(t=null==o?void 0:o.points)||void 0===t?void 0:t.slice(1,o.points.length-1),u=[],h=null===(n=p.node(e.v))||void 0===n?void 0:n[i],c=h-(null===(a=p.node(e.w))||void 0===a?void 0:a[i]),m=f[e.v],b=m-f[e.w];null==s||s.forEach(e=>{let t=(e[i]-h)/c*b+m,n=r(e[l],y,g,t);u.push({x:n.x+j[0],y:n.y+j[1]});}),v[d].controlPoints=u;}});}else{let e=new Set;p.nodes().forEach(t=>{let r=p.node(t);if(!r)return;let n=this.nodeMap[t];n||(n=null==u?void 0:u.find(e=>e.id===t)),n&&(n.x=r.x+j[0],n.y=r.y+j[1],n._order=r._order,e.add(O?n.x:n.y));});let t=Array.from(e).sort("BT"===s||"RL"===s?(e,t)=>t-e:(e,t)=>e-t),r=O?(e,t)=>e.x!==t.x:(e,t)=>e.y!==t.y,n=O?(e,t,r)=>{let n=Math.max(t.y,r.y),a=Math.min(t.y,r.y);return e.filter(e=>e.y<=n&&e.y>=a);}:(e,t,r)=>{let n=Math.max(t.x,r.x),a=Math.min(t.x,r.x);return e.filter(e=>e.x<=n&&e.x>=a);};p.edges().forEach(e=>{var a;let o=p.edge(e),d=v.findIndex(t=>{let r=(0,b.getEdgeTerminal)(t,"source"),n=(0,b.getEdgeTerminal)(t,"target");return r===e.v&&n===e.w;});if(!(d<=-1)&&i.edgeLabelSpace&&i.controlPoints&&"loop"!==v[d].type){null===(a=null==o?void 0:o.points)||void 0===a||a.forEach(e=>{e.x+=j[0],e.y+=j[1];});let l=i.nodeMap[e.v],s=i.nodeMap[e.w];v[d].controlPoints=tC(null==o?void 0:o.points,l,s,t,O,r,n);}});}return i.onLayoutEnd&&i.onLayoutEnd(),{nodes:d,edges:v};}getRadialPos(e,t,r,n,a=[0,1]){let o=(e-t[0])/r,i=2*(o=o*(a[1]-a[0])+a[0])*Math.PI;return{x:Math.cos(i)*n,y:Math.sin(i)*n};}getType(){return"dagre";}}let tC=(e,t,r,n,a,o,i)=>{let d=(null==e?void 0:e.slice(1,e.length-1))||[];if(t&&r){let{x:e,y:l}=t,{x:s,y:u}=r;if(a&&(e=t.y,l=t.x,s=r.y,u=r.x),u!==l&&e!==s){let h=n.indexOf(l),c=n[h+1];if(c){let e=d[0],t=a?{x:(l+c)/2,y:(null==e?void 0:e.y)||s}:{x:(null==e?void 0:e.x)||s,y:(l+c)/2};(!e||o(e,t))&&d.unshift(t);}let f=n.indexOf(u),g=Math.abs(f-h);if(1===g)(d=i(d,t,r)).length||d.push(a?{x:(l+u)/2,y:e}:{x:e,y:(l+u)/2});else if(g>1){let t=n[f-1];if(t){let r=d[d.length-1],n=a?{x:(u+t)/2,y:(null==r?void 0:r.y)||s}:{x:(null==r?void 0:r.x)||e,y:(u+t)/2};(!r||o(r,n))&&d.push(n);}}}}return d;};},"69426f43":function(e,t,r){r.d(t,"__esModule",{value:!0}),r("06479f71"),r("79b2f761");},"6d22c2ea":function(e,t,r){r.d(t,"__esModule",{value:!0}),r("79b2f761"),r("06479f71"),r("7f8b2fc6"),r("d1b69437"),r("389e02f3"),this&&this.__awaiter;},"6f3891fc":function(e,t,r){r.d(t,"__esModule",{value:!0}),r("06479f71"),r("79b2f761");},"72cd960c":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"isArray",{enumerable:!0,get:function(){return n;}});let n=Array.isArray;},"79b2f761":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"Base",{enumerable:!0,get:function(){return n;}});class n{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{};}layout(e){return this.init(e),this.execute(!0);}init(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[],this.vedges=e.vedges||[];}execute(e){}executeWithWorker(){}getDefaultCfg(){return{};}updateCfg(e){e&&Object.assign(this,e);}getType(){return"base";}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0;}}},"87b4c75f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"DagreLayout",{enumerable:!0,get:function(){return n.DagreLayout;}}),r("aad71524"),r("5c1db550"),r("c8c67358"),r("6f3891fc"),r("504aa159");var n=r("6635f349");r("c2ace4a3"),r("69426f43"),r("40aed5ca"),r("5be890b8"),r("df078443"),r("1b7815bc"),r("6d22c2ea"),r("51f8abd2"),r("fed9bbe4"),r("62d5c791"),r("a9529ecc"),r("cfdfec55");},"8cd803db":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{clone:function(){return a;},isObject:function(){return n;}});let n=e=>null!==e&&"object"==typeof e,a=e=>{if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){let t=[];return e.forEach(e=>{t.push(e);}),t.map(e=>a(e));}if("object"==typeof e&&Object.keys(e).length){let t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=a(t[e]);}),t;}return e;};},99782438:function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{ForceLayout:function(){return p;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("c536c45f"),i=r("4c900b62"),d=n._(i),l=r("db502ba9"),s=r("11d58d81"),u=n._(s),h=r("416d3f8b"),c=n._(h);function f(e){let t=0,r=0,n=0,a=0,o=0,i=e.length;if(i){for(let d=0;d<i;d++){let i=e[d];i&&i.weight&&(t+=i.weight,r+=i.x*i.weight,n+=i.y*i.weight,a+=i.z*i.weight,o+=i.size*i.weight);}e.x=r/t,e.y=n/t,e.z=a/t,e.size=o/t,e.weight=t;}else e.x=e.data.x,e.y=e.data.y,e.z=e.data.z,e.size=e.data.size,e.weight=e.data.weight;}let g=(e,t,r,n,a,o,i)=>{var d;if((null===(d=e.data)||void 0===d?void 0:d.id)===o.id)return;let l=[r,n,a][i-1],s=o.x-e.x||.1,u=o.y-e.y||.1,h=o.z-e.z||.1,c=[s,u,h],f=l-t,g=0;for(let e=0;e<i;e++)g+=c[e]*c[e];let v=Math.sqrt(g)*g;if(f*f*.81<g){let t=e.weight/v;return o.vx+=s*t,o.vy+=u*t,o.vz+=h*t,!0;}if(e.length)return!1;if(e.data!==o){let t=e.data.weight/v;o.vx+=s*t,o.vy+=u*t,o.vz+=h*t;}},v={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class p{constructor(e={}){this.options=e,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},v),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericForceLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,e,t);});}stop(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval),this.running=!1;}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let t=0;(this.judgingDistance>this.lastOptions.minMovement||t<1)&&t<e;t++)this.runOneStep(this.lastCalcGraph,this.lastGraph,t,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);let t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(e=>this.lastGraph.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===this.options.dimensions?e.data.z:void 0})),t;}genericForceLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.options),r),a=t.getAllNodes(),i=t.getAllEdges(),l=this.formatOptions(n,t),{dimensions:s,width:u,height:h,nodeSize:c,getMass:f,nodeStrength:g,edgeStrength:v,linkDistance:p}=l,y=a.map((e,t)=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{x:(0,d.default)(e.data.x)?e.data.x:Math.random()*u,y:(0,d.default)(e.data.y)?e.data.y:Math.random()*h,z:(0,d.default)(e.data.z)?e.data.z:Math.random()*Math.sqrt(u*h),size:c(e)||30,mass:f(e),nodeStrength:g(e)})})),m=i.map(e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{edgeStrength:v(e),linkDistance:p(e,t.getNode(e.source),t.getNode(e.target))})}));if(!(null==a?void 0:a.length))return this.lastResult={nodes:[],edges:i},{nodes:[],edges:i};let b={};a.forEach((e,t)=>{b[e.id]={x:0,y:0,z:0};});let w=new o.Graph({nodes:y,edges:m});this.formatCentripetal(l,w);let{maxIteration:x,minMovement:N,onTick:_}=l;if(this.lastLayoutNodes=y,this.lastLayoutEdges=m,this.lastAssign=e,this.lastGraph=t,this.lastCalcGraph=w,this.lastOptions=l,this.lastVelMap=b,"undefined"==typeof window)return;let M=0;return new Promise(r=>{this.timeInterval=window.setInterval(()=>{a&&this.running||r({nodes:E(t,y),edges:i}),this.runOneStep(w,t,M,b,l),this.updatePosition(t,w,b,l),e&&y.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y,z:3===s?e.data.z:void 0})),null==_||_({nodes:E(t,y),edges:i}),(++M>=x||this.judgingDistance<N)&&(window.clearInterval(this.timeInterval),r({nodes:E(t,y),edges:i}));},0),this.running=!0;});});}formatOptions(e,t){let r=Object.assign({},e),{width:n,height:a,getMass:o}=e;r.width=n||"undefined"==typeof window?n:window.innerWidth,r.height=a||"undefined"==typeof window?a:window.innerHeight,e.center||(r.center=[r.width/2,r.height/2]),o||(r.getMass=e=>{let r=1;(0,d.default)(null==e?void 0:e.data.mass)&&(r=null==e?void 0:e.data.mass);let n=t.getDegree(e.id,"both");return!n||n<5?r:5*n*r;}),r.nodeSize=(0,l.formatNodeSizeToNumber)(e.nodeSize,e.nodeSpacing);let i=e.linkDistance?(0,l.formatNumberFn)(1,e.linkDistance):e=>1+r.nodeSize(t.getNode(e.source))+r.nodeSize(t.getNode(e.target));return r.linkDistance=i,r.nodeStrength=(0,l.formatNumberFn)(1,e.nodeStrength),r.edgeStrength=(0,l.formatNumberFn)(1,e.edgeStrength),r;}formatCentripetal(e,t){let r,n;let{dimensions:a,centripetalOptions:o,center:i,clusterNodeStrength:d,leafCluster:l,clustering:s,nodeClusterBy:u}=e,h=t.getAllNodes(),c=o||{leaf:2,single:2,others:1,center:e=>({x:i[0],y:i[1],z:3===a?i[2]:void 0})};if("function"!=typeof d&&(e.clusterNodeStrength=e=>d),l&&u&&(r=y(t,u),n=Array.from(new Set(null==h?void 0:h.map(e=>e.data[u])))||[],e.centripetalOptions=Object.assign(c,{single:100,leaf:t=>{let{siblingLeaves:a,sameTypeLeaves:o}=r[t.id]||{};return(null==o?void 0:o.length)===(null==a?void 0:a.length)||(null==n?void 0:n.length)===1?1:e.clusterNodeStrength(t);},others:1,center:e=>{let n;let a=t.getDegree(e.id,"both");if(!a)return{x:100,y:100,z:0};if(1===a){let{sameTypeLeaves:t=[]}=r[e.id]||{};1===t.length?n=void 0:t.length>1&&(n=w(t));}else n=void 0;return{x:null==n?void 0:n.x,y:null==n?void 0:n.y,z:null==n?void 0:n.z};}})),s&&u){r||(r=y(t,u)),n||(n=Array.from(new Set(h.map(e=>e.data[u]))));let a={};(n=n.filter(e=>void 0!==e)).forEach(e=>{let r=h.filter(t=>t.data[u]===e).map(e=>t.getNode(e.id));a[e]=w(r);}),e.centripetalOptions=Object.assign(c,{single:t=>e.clusterNodeStrength(t),leaf:t=>e.clusterNodeStrength(t),others:t=>e.clusterNodeStrength(t),center:e=>{let t=a[e.data[u]];return{x:null==t?void 0:t.x,y:null==t?void 0:t.y,z:null==t?void 0:t.z};}});}let{leaf:f,single:g,others:v}=e.centripetalOptions||{};f&&"function"!=typeof f&&(e.centripetalOptions.leaf=()=>f),g&&"function"!=typeof g&&(e.centripetalOptions.single=()=>g),v&&"function"!=typeof v&&(e.centripetalOptions.others=()=>v);}runOneStep(e,t,r,n,a){let o={},i=e.getAllNodes(),d=e.getAllEdges();if(!(null==i?void 0:i.length))return;let{monitor:l}=a;this.calRepulsive(e,o,a),d&&this.calAttractive(e,o,a),this.calGravity(e,t,o,a),this.updateVelocity(e,o,n,a),l&&l({energy:this.calTotalEnergy(o,i),nodes:t.getAllNodes(),edges:t.getAllEdges(),iterations:r});}calTotalEnergy(e,t){if(!(null==t?void 0:t.length))return 0;let r=0;return t.forEach((t,n)=>{let a=e[t.id].x,o=e[t.id].y,i=3===this.options.dimensions?e[t.id].z:0,{mass:d=1}=t.data;r+=d*(a*a+o*o+i*i)*.5;}),r;}calRepulsive(e,t,r){let{dimensions:n,factor:a,coulombDisScale:o}=r;!function(e,t,r,n,a=2){let o=t/r,i=e.getAllNodes(),d=i.map((e,t)=>{let{nodeStrength:r,x:n,y:a,z:i,size:d}=e.data;return{x:n,y:a,z:i,size:d,index:t,id:e.id,vx:0,vy:0,vz:0,weight:o*r};}),l=(2===a?(0,u.default)(d,e=>e.x,e=>e.y):(0,c.default)(d,e=>e.x,e=>e.y,e=>e.z)).visitAfter(f),s=new Map;d.forEach(e=>{s.set(e.id,e),function(e,t,r){t.visit((t,n,a,o,i)=>g(t,n,a,o,i,e,r));}(e,l,a);}),d.map((e,t)=>{let{id:r,data:a}=i[t],{mass:o=1}=a;n[r]={x:e.vx/o,y:e.vy/o,z:e.vz/o};});}(e,a,o*o,t,n);}calAttractive(e,t,r){let{dimensions:n,nodeSize:a}=r;e.getAllEdges().forEach((r,o)=>{let{source:i,target:d}=r,l=e.getNode(i),s=e.getNode(d);if(!l||!s)return;let u=s.data.x-l.data.x,h=s.data.y-l.data.y,c=3===n?s.data.z-l.data.z:0;u||h||(u=.01*Math.random(),h=.01*Math.random(),3!==n||c||(c=.01*Math.random()));let f=Math.sqrt(u*u+h*h+c*c);if(f<a(l)+a(s))return;let g=u/f,v=h/f,p=c/f,{linkDistance:y=200,edgeStrength:m=200}=r.data||{},b=(y-f)*m,w=l.data.mass||1,E=s.data.mass||1,x=1/w,N=1/E,_=g*b,M=v*b,k=p*b;t[i].x-=_*x,t[i].y-=M*x,t[i].z-=k*x,t[d].x+=_*N,t[d].y+=M*N,t[d].z+=k*N;});}calGravity(e,t,r,n){let{getCenter:a}=n,o=e.getAllNodes(),i=t.getAllNodes(),l=t.getAllEdges(),{width:s,height:u,center:h,gravity:c,centripetalOptions:f}=n;o&&o.forEach(n=>{let{id:o,data:g}=n,{mass:v,x:p,y,z:m}=g,b=t.getNode(o),w=0,E=0,x=0,N=c,_=e.getDegree(o,"in"),M=e.getDegree(o,"out"),k=e.getDegree(o,"both"),j=null==a?void 0:a(b,k);if(j){let[e,t,r]=j;w=p-e,E=y-t,N=r;}else w=p-h[0],E=y-h[1],x=m-h[2];if(N&&(r[o].x-=N*w/v,r[o].y-=N*E/v,r[o].z-=N*x/v),f){let{leaf:e,single:t,others:n,center:a}=f,{x:h,y:c,z:g,centerStrength:w}=(null==a?void 0:a(b,i,l,s,u))||{x:0,y:0,z:0,centerStrength:0};if(!(0,d.default)(h)||!(0,d.default)(c))return;let E=(p-h)/v,x=(y-c)/v,N=(m-g)/v;if(w&&(r[o].x-=w*E,r[o].y-=w*x,r[o].z-=w*N),0===k){let e=t(b);if(!e)return;r[o].x-=e*E,r[o].y-=e*x,r[o].z-=e*N;return;}if(0===_||0===M){let t=e(b,i,l);if(!t)return;r[o].x-=t*E,r[o].y-=t*x,r[o].z-=t*N;return;}let j=n(b);if(!j)return;r[o].x-=j*E,r[o].y-=j*x,r[o].z-=j*N;}});}updateVelocity(e,t,r,n){let{damping:a,maxSpeed:o,interval:i,dimensions:d}=n,l=e.getAllNodes();(null==l?void 0:l.length)&&l.forEach(e=>{let{id:n}=e,l=(r[n].x+t[n].x*i)*a||.01,s=(r[n].y+t[n].y*i)*a||.01,u=3===d?(r[n].z+t[n].z*i)*a||.01:0,h=Math.sqrt(l*l+s*s+u*u);if(h>o){let e=o/h;l*=e,s*=e,u*=e;}r[n]={x:l,y:s,z:u};});}updatePosition(e,t,r,n){let{distanceThresholdMode:a,interval:o,dimensions:i}=n,l=t.getAllNodes();if(!(null==l?void 0:l.length)){this.judgingDistance=0;return;}let s=0;"max"===a?this.judgingDistance=-1/0:"min"===a&&(this.judgingDistance=1/0),l.forEach(n=>{let{id:l}=n,u=e.getNode(l);if((0,d.default)(u.data.fx)&&(0,d.default)(u.data.fy)){t.mergeNodeData(l,{x:u.data.fx,y:u.data.fy,z:3===i?u.data.fz:void 0});return;}let h=r[l].x*o,c=r[l].y*o,f=3===i?r[l].z*o:0;t.mergeNodeData(l,{x:n.data.x+h,y:n.data.y+c,z:n.data.z+f});let g=Math.sqrt(h*h+c*c+f*f);switch(a){case"max":this.judgingDistance<g&&(this.judgingDistance=g);break;case"min":this.judgingDistance>g&&(this.judgingDistance=g);break;default:s+=g;}}),a&&"mean"!==a||(this.judgingDistance=s/l.length);}}let y=(e,t)=>{let r=e.getAllNodes();if(!(null==r?void 0:r.length))return{};let n={};return r.forEach((r,a)=>{1===e.getDegree(r.id,"both")&&(n[r.id]=m(e,"leaf",r,t));}),n;},m=(e,t,r,n)=>{let a=e.getDegree(r.id,"in"),o=e.getDegree(r.id,"out"),i=r,d=[];0===a?(i=e.getSuccessors(r.id)[0],d=e.getNeighbors(i.id)):0===o&&(i=e.getPredecessors(r.id)[0],d=e.getNeighbors(i.id)),d=d.filter(t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out"));let l=b(e,t,n,r,d);return{coreNode:i,siblingLeaves:d,sameTypeLeaves:l};},b=(e,t,r,n,a)=>{let o=n.data[r]||"",i=(null==a?void 0:a.filter(e=>e.data[r]===o))||[];return"leaf"===t&&(i=i.filter(t=>0===e.getDegree(t.id,"in")||0===e.getDegree(t.id,"out"))),i;},w=e=>{let t={x:0,y:0};e.forEach(e=>{let{x:r,y:n}=e.data;t.x+=r||0,t.y+=n||0;});let r=e.length||1;return{x:t.x/r,y:t.y/r};},E=(e,t)=>t.map(t=>{let{id:r,data:n}=t,a=e.getNode(r);return Object.assign(Object.assign({},a),{data:Object.assign(Object.assign({},a.data),{x:n.x,y:n.y,z:n.z})});});},"9a26274f":function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"Supervisor",{enumerable:!0,get:function(){return s;}});var n=r("777fffbe"),a=r("852bbaa9"),o=r("51e076c8"),i=n._(r("d9911ccf")),d=n._(r("7e708962")),l=a._(r("105f2d6a"));class s extends i.default{constructor(e,t,r){super(),this.graph=e,this.layout=t,this.options=r,this.spawnWorker();}spawnWorker(){this.proxy=l.wrap(new Worker(new URL("bb789387-worker.js",self.document?self.document.baseURI:self.location.href),{type:"module"})),this.running&&(this.running=!1,this.execute());}execute(){var e;return(0,o.__awaiter)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;let t=this.layout.options,{onTick:r}=t,n=(0,o.__rest)(t,["onTick"]),a={};Object.keys(n).forEach(e=>{(0,d.default)(n[e])||(a[e]=n[e]);});let i={layout:{id:this.layout.id,options:a,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},l=new Float32Array([0]),[s]=yield this.proxy.calculateLayout(i,[l]);return s;});}stop(){return this.running=!1,this.proxy.stopLayout(),this;}kill(){this.proxy[l.releaseProxy]();}isRunning(){return this.running;}}},a30e9cfb:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{clone:function(){return a;},cloneFormatData:function(){return o;}});var n=r("777fffbe")._(r("4c900b62"));let a=e=>{if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){let t=[];return e.forEach(e=>{t.push(e);}),t.map(e=>a(e));}if("object"==typeof e){let t={};return Object.keys(e).forEach(r=>{t[r]=a(e[r]);}),t;}return e;},o=(e,t)=>{let r=a(e);return r.data=r.data||{},t&&((0,n.default)(r.data.x)||(r.data.x=Math.random()*t[0]),(0,n.default)(r.data.y)||(r.data.y=Math.random()*t[1])),r;};},a490bd11:function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{ForceAtlas2Layout:function(){return v;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("c536c45f"),i=r("4c900b62"),d=n._(i),l=r("a30e9cfb"),s=r("db502ba9"),u=r("51c4521a");class h{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0;}distanceTo(e){return Math.hypot(this.rx-e.rx,this.ry-e.ry);}setPos(e,t){this.rx=e,this.ry=t;}resetForce(){this.fx=0,this.fy=0;}addForce(e){let t=e.rx-this.rx,r=e.ry-this.ry,n=Math.hypot(t,r);n=n<1e-4?1e-4:n;let a=this.g*(this.degree+1)*(e.degree+1)/n;this.fx+=a*t/n,this.fy+=a*r/n;}in(e){return e.contains(this.rx,this.ry);}add(e){let t=this.mass+e.mass,r=(this.rx*this.mass+e.rx*e.mass)/t;return new h({rx:r,ry:(this.ry*this.mass+e.ry*e.mass)/t,mass:t,degree:this.degree+e.degree});}}class c{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1;}getLength(){return this.length;}contains(e,t){let r=this.length/2;return e<=this.xmid+r&&e>=this.xmid-r&&t<=this.ymid+r&&t>=this.ymid-r;}NW(){let e=this.xmid-this.length/4;return new c({xmid:e,ymid:this.ymid+this.length/4,length:this.length/2});}NE(){let e=this.xmid+this.length/4;return new c({xmid:e,ymid:this.ymid+this.length/4,length:this.length/2});}SW(){let e=this.xmid-this.length/4;return new c({xmid:e,ymid:this.ymid-this.length/4,length:this.length/2});}SE(){let e=this.xmid+this.length/4;return new c({xmid:e,ymid:this.ymid-this.length/4,length:this.length/2});}}class f{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e);}insert(e){if(null==this.body){this.body=e;return;}this._isExternal()?(this.quad&&(this.NW=new f(this.quad.NW()),this.NE=new f(this.quad.NE()),this.SW=new f(this.quad.SW()),this.SE=new f(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e));}_putBody(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e));}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE;}updateForce(e){null!=this.body&&e!==this.body&&(this._isExternal()?e.addForce(this.body):(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)));}}let g={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1};class v{constructor(e={}){this.options=e,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},g),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,e,t);});}genericForceAtlas2Layout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n=t.getAllEdges(),a=t.getAllNodes(),i=this.formatOptions(r,a.length),{width:d,height:s,prune:h,maxIteration:c,nodeSize:f,center:g}=i;if(!(null==a?void 0:a.length)||1===a.length)return(0,u.handleSingleNodeGraph)(t,e,g);let v=a.map(e=>(0,l.cloneFormatData)(e,[d,s])),p=n.filter(e=>{let{source:t,target:r}=e;return t!==r;}),y=new o.Graph({nodes:v,edges:p}),m=this.getSizes(y,f);if(this.run(y,t,c,m,e,i),h){for(let e=0;e<p.length;e+=1){let{source:t,target:r}=p[e],n=y.getDegree(t),a=y.getDegree(t);if(n<=1){let e=y.getNode(r);y.mergeNodeData(t,{x:e.data.x,y:e.data.y});}else if(a<=1){let e=y.getNode(t);y.mergeNodeData(r,{x:e.data.x,y:e.data.y});}}let r=Object.assign(Object.assign({},i),{prune:!1,barnesHut:!1});this.run(y,t,100,m,e,r);}return{nodes:v,edges:n};});}getSizes(e,t){let r=e.getAllNodes(),n={};for(let e=0;e<r.length;e+=1){let a=r[e];n[a.id]=(0,s.formatNodeSizeToNumber)(t,void 0)(a);}return n;}formatOptions(e={},t){let r=Object.assign(Object.assign({},this.options),e),{center:n,width:a,height:o,barnesHut:i,prune:d,maxIteration:l,kr:s,kg:u}=r;return r.width=a||"undefined"==typeof window?a:window.innerWidth,r.height=o||"undefined"==typeof window?o:window.innerHeight,r.center=n||[r.width/2,r.height/2],void 0===i&&t>250&&(r.barnesHut=!0),void 0===d&&t>100&&(r.prune=!0),0!==l||d?0===l&&d&&(r.maxIteration=100,t<=200&&t>100?r.maxIteration=500:t>200&&(r.maxIteration=950)):(r.maxIteration=250,t<=200&&t>100?r.maxIteration=1e3:t>200&&(r.maxIteration=1200)),!s&&(r.kr=50,t>100&&t<=500?r.kr=20:t>500&&(r.kr=1)),!u&&(r.kg=20,t>100&&t<=500?r.kg=10:t>500&&(r.kg=1)),r;}run(e,t,r,n,a,o){let{kr:i,barnesHut:d,onTick:l}=o,s=e.getAllNodes(),u=0,c=r,f={},g={},v={};for(let t=0;t<s.length;t+=1){let{data:r,id:n}=s[t];if(f[n]=[0,0],d){let a={id:t,rx:r.x,ry:r.y,mass:1,g:i,degree:e.getDegree(n)};v[n]=new h(a);}}for(;c>0;)u=this.oneStep(e,{iter:c,preventOverlapIters:50,krPrime:100,sg:u,forces:f,preForces:g,bodies:v,sizes:n},o),c--,null==l||l({nodes:s,edges:t.getAllEdges()});return e;}oneStep(e,t,r){let{iter:n,preventOverlapIters:a,krPrime:o,sg:i,preForces:d,bodies:l,sizes:s}=t,{forces:u}=t,{preventOverlap:h,barnesHut:c}=r,f=e.getAllNodes();for(let e=0;e<f.length;e+=1){let{id:t}=f[e];d[t]=[...u[t]],u[t]=[0,0];}return u=this.getAttrForces(e,n,a,s,u,r),u=c&&(h&&n>a||!h)?this.getOptRepGraForces(e,u,l,r):this.getRepGraForces(e,n,a,u,o,s,r),this.updatePos(e,u,d,i,r);}getAttrForces(e,t,r,n,a,o){let{preventOverlap:i,dissuadeHubs:d,mode:l,prune:s}=o,u=e.getAllEdges();for(let o=0;o<u.length;o+=1){let{source:h,target:c}=u[o],f=e.getNode(h),g=e.getNode(c),v=e.getDegree(h),p=e.getDegree(c);if(s&&(v<=1||p<=1))continue;let y=[g.data.x-f.data.x,g.data.y-f.data.y],m=Math.hypot(y[0],y[1]);m=m<1e-4?1e-4:m,y[0]=y[0]/m,y[1]=y[1]/m,i&&t<r&&(m=m-n[h]-n[c]);let b=m,w=b;"linlog"===l&&(w=b=Math.log(1+m)),d&&(b=m/v,w=m/p),i&&t<r&&m<=0?(b=0,w=0):i&&t<r&&m>0&&(b=m,w=m),a[h][0]+=b*y[0],a[c][0]-=w*y[0],a[h][1]+=b*y[1],a[c][1]-=w*y[1];}return a;}getOptRepGraForces(e,t,r,n){let{kg:a,center:o,prune:i}=n,d=e.getAllNodes(),l=d.length,s=9e10,u=-9e10,h=9e10,g=-9e10;for(let t=0;t<l;t+=1){let{id:n,data:a}=d[t];!(i&&1>=e.getDegree(n))&&(r[n].setPos(a.x,a.y),a.x>=u&&(u=a.x),a.x<=s&&(s=a.x),a.y>=g&&(g=a.y),a.y<=h&&(h=a.y));}let v=Math.max(u-s,g-h),p=new c({xmid:(u+s)/2,ymid:(g+h)/2,length:v,massCenter:o,mass:l}),y=new f(p);for(let t=0;t<l;t+=1){let{id:n}=d[t];!(i&&1>=e.getDegree(n))&&r[n].in(p)&&y.insert(r[n]);}for(let n=0;n<l;n+=1){let{id:l,data:s}=d[n],u=e.getDegree(l);if(i&&u<=1)continue;r[l].resetForce(),y.updateForce(r[l]),t[l][0]-=r[l].fx,t[l][1]-=r[l].fy;let h=[s.x-o[0],s.y-o[1]],c=Math.hypot(h[0],h[1]);c=c<1e-4?1e-4:c,h[0]=h[0]/c,h[1]=h[1]/c;let f=a*(u+1);t[l][0]-=f*h[0],t[l][1]-=f*h[1];}return t;}getRepGraForces(e,t,r,n,a,o,i){let{preventOverlap:d,kr:l,kg:s,center:u,prune:h}=i,c=e.getAllNodes(),f=c.length;for(let i=0;i<f;i+=1){let g=c[i],v=e.getDegree(g.id);for(let s=i+1;s<f;s+=1){let i=c[s],u=e.getDegree(i.id);if(h&&(v<=1||u<=1))continue;let f=[i.data.x-g.data.x,i.data.y-g.data.y],p=Math.hypot(f[0],f[1]);p=p<1e-4?1e-4:p,f[0]=f[0]/p,f[1]=f[1]/p,d&&t<r&&(p=p-o[g.id]-o[i.id]);let y=l*(v+1)*(u+1)/p;d&&t<r&&p<0?y=a*(v+1)*(u+1):d&&t<r&&0===p?y=0:d&&t<r&&p>0&&(y=l*(v+1)*(u+1)/p),n[g.id][0]-=y*f[0],n[i.id][0]+=y*f[0],n[g.id][1]-=y*f[1],n[i.id][1]+=y*f[1];}let p=[g.data.x-u[0],g.data.y-u[1]],y=Math.hypot(p[0],p[1]);p[0]=p[0]/y,p[1]=p[1]/y;let m=s*(v+1);n[g.id][0]-=m*p[0],n[g.id][1]-=m*p[1];}return n;}updatePos(e,t,r,n,a){let{ks:o,tao:i,prune:l,ksmax:s}=a,u=e.getAllNodes(),h=u.length,c=[],f=[],g=0,v=0,p=n;for(let n=0;n<h;n+=1){let{id:a}=u[n],o=e.getDegree(a);if(l&&o<=1)continue;let i=[t[a][0]-r[a][0],t[a][1]-r[a][1]],d=Math.hypot(i[0],i[1]),s=[t[a][0]+r[a][0],t[a][1]+r[a][1]],h=Math.hypot(s[0],s[1]);c[n]=d,f[n]=h/2,g+=(o+1)*c[n],v+=(o+1)*f[n];}let y=p;p=i*v/g,0!==y&&(p=p>1.5*y?1.5*y:p);for(let r=0;r<h;r+=1){let{id:n,data:a}=u[r],i=e.getDegree(n);if(l&&i<=1||(0,d.default)(a.fx)&&(0,d.default)(a.fy))continue;let h=o*p/(1+p*Math.sqrt(c[r])),f=Math.hypot(t[n][0],t[n][1]),g=s/(f=f<1e-4?1e-4:f),v=(h=h>g?g:h)*t[n][0],y=h*t[n][1];e.mergeNodeData(n,{x:a.x+v,y:a.y+y});}return p;}}},a9529ecc:function(e,t,r){r.d(t,"__esModule",{value:!0}),r("79b2f761");class n{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[];}init(e,t,r){this.cells=[],this.CELL_W=r.CELL_W||n.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||n.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(t/this.CELL_H),n.MIN_DIST=Math.pow(e,2)+Math.pow(t,2);for(let e=0;e<this.columnNum;e++){let t=[];for(let r=0;r<this.rowNum;r++){let n={dx:e,dy:r,x:e*this.CELL_W,y:r*this.CELL_H,occupied:!1};t.push(n);}this.cells.push(t);}}findGridByNodeId(e){var t,r;for(let n=0;n<this.columnNum;n++)for(let a=0;a<this.rowNum;a++)if(this.cells[n][a].node&&(null===(r=null===(t=this.cells[n][a])||void 0===t?void 0:t.node)||void 0===r?void 0:r.id)===e)return{column:n,row:a};return null;}sqdist(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);}occupyNearest(e){let t,r=n.MIN_DIST,a=null;for(let n=0;n<this.columnNum;n++)for(let o=0;o<this.rowNum;o++)!this.cells[n][o].occupied&&(t=this.sqdist(e,this.cells[n][o]))<r&&(r=t,a=this.cells[n][o]);return a&&(a.occupied=!0),a;}insertColumn(e,t){if(!(t<=0)){for(let e=0;e<t;e++){this.cells[e+this.columnNum]=[];for(let t=0;t<this.rowNum;t++)this.cells[e+this.columnNum][t]={dx:e,dy:t,x:e*this.CELL_W,y:t*this.CELL_H,occupied:!1,node:null};}for(let r=this.columnNum-1;r>e;r--)for(let e=0;e<this.rowNum;e++)this.cells[r+t][e]=Object.assign(Object.assign({},this.cells[r][e]),{x:(r+t)*this.CELL_W,y:e*this.CELL_H}),this.cells[r][e]={x:r*this.CELL_W,y:e*this.CELL_H,occupied:!0,node:null};for(let r=0;r<this.additionColumn.length;r++)this.additionColumn[r]>=e&&(this.additionColumn[r]+=t);for(let r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t;}}insertRow(e,t){if(!(t<=0)){for(let e=0;e<t;e++)for(let t=0;t<this.columnNum;t++)this.cells[t][e+this.rowNum]={dx:t,dy:e,x:t*this.CELL_W,y:e*this.CELL_H,occupied:!1,node:null};for(let r=0;r<this.columnNum;r++)for(let n=this.rowNum-1;n>e;n--)this.cells[r][n+t]=Object.assign(Object.assign({},this.cells[r][n]),{dx:r,dy:n+t,x:r*this.CELL_W,y:(n+t)*this.CELL_H}),this.cells[r][n]={dx:r,dy:n,x:r*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(let r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(let r=0;r<t;r++)this.additionRow.push(e+r+1);this.rowNum+=t;}}getNodes(){let e=[];for(let t=0;t<this.columnNum;t++)for(let r=0;r<this.rowNum;r++)this.cells[t][r].node&&e.push(this.cells[t][r]);return e;}}n.MIN_DIST=50,n.DEFAULT_CELL_W=80,n.DEFAULT_CELL_H=80,r("6635f349");},aad71524:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},b10b6bef:function(e,t,r){"use strict";function n(e){return!!e.tick&&!!e.stop;}r.d(t,"__esModule",{value:!0}),r.d(t,"isLayoutWithIterations",{enumerable:!0,get:function(){return n;}});},b1fce494:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"isNumber",{enumerable:!0,get:function(){return n;}});let n=e=>"number"==typeof e;},b5b42fff:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"ConcentricLayout",{enumerable:!0,get:function(){return g;}});var n=r("777fffbe"),a=r("51e076c8"),o=n._(r("7e708962")),i=n._(r("4c900b62")),d=n._(r("dfd51207")),l=n._(r("1304978e")),s=r("a30e9cfb"),u=r("cb8807d4"),h=r("51c4521a"),c=r("d29a8637");let f={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class g{constructor(e={}){this.options=e,this.id="concentric",this.options=Object.assign(Object.assign({},f),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,e,t);});}genericConcentricLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n;let{center:a,width:f,height:g,sortBy:v,maxLevelDiff:p,sweep:y,clockwise:m,equidistant:b,preventOverlap:w,startAngle:E=1.5*Math.PI,nodeSize:x,nodeSpacing:N}=Object.assign(Object.assign({},this.options),r),_=t.getAllNodes(),M=t.getAllEdges(),k=f||"undefined"==typeof window?f:window.innerWidth,j=g||"undefined"==typeof window?g:window.innerHeight,O=a||[k/2,j/2];if(!(null==_?void 0:_.length)||1===_.length)return(0,h.handleSingleNodeGraph)(t,e,O);let A=[],L=0;(0,u.isArray)(x)?n=Math.max(x[0],x[1]):(0,o.default)(x)?(n=-1/0,_.forEach(e=>{let t=Math.max(...(0,c.parseSize)(x(e)));t>n&&(n=t);})):n=x,(0,u.isArray)(N)?L=Math.max(N[0],N[1]):(0,i.default)(N)&&(L=N),_.forEach(e=>{let t=(0,s.cloneFormatData)(e);A.push(t);let r=n,{data:a}=t;(0,u.isArray)(a.size)?r=Math.max(a.size[0],a.size[1]):(0,i.default)(a.size)?r=a.size:(0,d.default)(a.size)&&(r=Math.max(a.size.width,a.size.height)),n=Math.max(n,r),(0,o.default)(N)&&(L=Math.max(N(e),L));});let S={};A.forEach((e,t)=>{S[e.id]=t;});let I=v;(0,l.default)(I)&&void 0!==A[0].data[I]||(I="degree"),"degree"===I?A.sort((e,r)=>t.getDegree(r.id,"both")-t.getDegree(e.id,"both")):A.sort((e,t)=>t.data[I]-e.data[I]);let z=A[0],D=(p||("degree"===I?t.getDegree(z.id,"both"):z.data[I]))/4,R=[{nodes:[]}],C=R[0];A.forEach(e=>{if(C.nodes.length>0){let r="degree"===I?Math.abs(t.getDegree(C.nodes[0].id,"both")-t.getDegree(e.id,"both")):Math.abs(C.nodes[0].data[I]-e.data[I]);D&&r>=D&&(C={nodes:[]},R.push(C));}C.nodes.push(e);});let P=n+L;if(!w){let e=R.length>0&&R[0].nodes.length>1,t=(Math.min(k,j)/2-P)/(R.length+(e?1:0));P=Math.min(P,t);}let T=0;if(R.forEach(e=>{let t=void 0===y?2*Math.PI-2*Math.PI/e.nodes.length:y;if(e.dTheta=t/Math.max(1,e.nodes.length-1),e.nodes.length>1&&w){let t=Math.cos(e.dTheta)-1,r=Math.sin(e.dTheta)-0;T=Math.max(Math.sqrt(P*P/(t*t+r*r)),T);}e.r=T,T+=P;}),b){let e=0,t=0;for(let r=0;r<R.length;r++){let n=(R[r].r||0)-t;e=Math.max(e,n);}t=0,R.forEach((r,n)=>{0===n&&(t=r.r||0),r.r=t,t+=e;});}return R.forEach(e=>{let t=e.dTheta||0,r=e.r||0;e.nodes.forEach((e,n)=>{let a=E+(m?1:-1)*t*n;e.data.x=O[0]+r*Math.cos(a),e.data.y=O[1]+r*Math.sin(a);});}),e&&A.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})),{nodes:A,edges:M};});}}},bbf70139:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"DagreLayout",{enumerable:!0,get:function(){return u;}});var n=r("777fffbe"),a=r("852bbaa9"),o=r("51e076c8"),i=n._(r("7e708962")),d=n._(r("4c900b62")),l=a._(r("5bd69f78")),s=r("d29a8637");class u{constructor(e){this.id="dagre",this.options={},Object.assign(this.options,u.defaultOptions,e);}execute(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,Object.assign(Object.assign({},this.options),t));});}assign(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,Object.assign(Object.assign({},this.options),t));});}genericDagreLayout(e,t,r){return(0,o.__awaiter)(this,void 0,void 0,function*(){let{nodeSize:n}=r,a=new l.graphlib.Graph;a.setGraph(r),a.setDefaultEdgeLabel(()=>({})),[...t.getAllNodes(),...t.getAllEdges()].some(({id:e})=>(0,d.default)(e))&&console.error("Dagre layout only support string id, it will convert number to string."),t.getAllNodes().forEach(e=>{let{id:t}=e,r=Object.assign({},e.data);if(void 0!==n){let[t,a]=(0,s.parseSize)((0,i.default)(n)?n(e):n);Object.assign(r,{width:t,height:a});}a.setNode(t.toString(),r);}),t.getAllEdges().forEach(({id:e,source:t,target:r})=>{a.setEdge(t.toString(),r.toString(),{id:e});}),l.default.layout(a);let u={nodes:[],edges:[]};return a.nodes().forEach(r=>{let n=a.node(r);u.nodes.push({id:r,data:n}),e&&t.mergeNodeData(r,n);}),a.edges().forEach(r=>{let n=a.edge(r),{id:i}=n,d=(0,o.__rest)(n,["id"]),{v:l,w:s}=r;u.edges.push({id:i,source:l,target:s,data:d}),e&&t.mergeEdgeData(i,d);}),u;});}}u.defaultOptions={};},c1bb76b0:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"getFunc",{enumerable:!0,get:function(){return a;}}),r("06479f71");var n=r("b1fce494");let a=(e,t,r)=>r||((0,n.isNumber)(e)?()=>e:()=>t);},c2ace4a3:function(e,t,r){r.d(t,"__esModule",{value:!0}),r("79b2f761");var n,a,o,i,d,l,s,u,h,c,f,g,v,p,y,m,b,w,E,x,N,_=r("b7213fa3");function M(e){return`\u{25EC}${e}\u{25EC}`;}M("ROOT"),M("BRIDGE_GRAPH"),(n=p||(p={}))[n.META=0]="META",n[n.NODE=1]="NODE",n[n.BRIDGE=2]="BRIDGE",(a=y||(y={}))[a.INCLUDE=0]="INCLUDE",a[a.EXCLUDE=1]="EXCLUDE",a[a.UNSPECIFIED=2]="UNSPECIFIED",(o=m||(m={}))[o.META=0]="META",o[o.CORE=1]="CORE",o[o.BRIDGE=2]="BRIDGE",(i=b||(b={}))[i.META=0]="META",i[i.OP=1]="OP",i[i.SERIES=2]="SERIES";var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==_?_:"undefined"!=typeof self?self:{};function j(e,t){return e(t={exports:{}},t.exports),t.exports;}var O=function(e,t){return e===t||e!=e&&t!=t;},A=function(e,t){for(var r=e.length;r--;)if(O(e[r][0],t))return r;return -1;},L=Array.prototype.splice;function S(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1]);}}S.prototype.clear=function(){this.__data__=[],this.size=0;},S.prototype.delete=function(e){var t=this.__data__,r=A(t,e);return!(r<0)&&(r==t.length-1?t.pop():L.call(t,r,1),--this.size,!0);},S.prototype.get=function(e){var t=this.__data__,r=A(t,e);return r<0?void 0:t[r][1];},S.prototype.has=function(e){return A(this.__data__,e)>-1;},S.prototype.set=function(e,t){var r=this.__data__,n=A(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this;};var I="object"==typeof k&&k&&k.Object===Object&&k,z="object"==typeof self&&self&&self.Object===Object&&self,D=I||z||Function("return this")(),R=D.Symbol,C=Object.prototype,P=C.hasOwnProperty,T=C.toString,F=R?R.toStringTag:void 0,G=function(e){var t=P.call(e,F),r=e[F];try{e[F]=void 0;var n=!0;}catch(e){}var a=T.call(e);return n&&(t?e[F]=r:delete e[F]),a;},B=Object.prototype.toString,q=R?R.toStringTag:void 0,W=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":q&&q in Object(e)?G(e):B.call(e);},V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t);},U=function(e){if(!V(e))return!1;var t=W(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t;},$=D["__core-js_shared__"],H=(w=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",Y=Function.prototype.toString,J=function(e){if(null!=e){try{return Y.call(e);}catch(e){}try{return e+"";}catch(e){}}return"";},K=/^\[object .+?Constructor\]$/,X=Object.prototype,Q=Function.prototype.toString,Z=X.hasOwnProperty,ee=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=function(e,t){var r,n=null==e?void 0:e[t];return!(!V(r=n)||H&&H in r)&&(U(r)?ee:K).test(J(r))?n:void 0;},er=et(D,"Map"),en=et(Object,"create"),ea=Object.prototype.hasOwnProperty,eo=Object.prototype.hasOwnProperty;function ei(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1]);}}ei.prototype.clear=function(){this.__data__=en?en(null):{},this.size=0;},ei.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t;},ei.prototype.get=function(e){var t=this.__data__;if(en){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r;}return ea.call(t,e)?t[e]:void 0;},ei.prototype.has=function(e){var t=this.__data__;return en?void 0!==t[e]:eo.call(t,e);},ei.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=en&&void 0===t?"__lodash_hash_undefined__":t,this;};var ed=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e;},el=function(e,t){var r=e.__data__;return ed(t)?r["string"==typeof t?"string":"hash"]:r.map;};function es(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1]);}}function eu(e){var t=this.__data__=new S(e);this.size=t.size;}es.prototype.clear=function(){this.size=0,this.__data__={hash:new ei,map:new(er||S),string:new ei};},es.prototype.delete=function(e){var t=el(this,e).delete(e);return this.size-=t?1:0,t;},es.prototype.get=function(e){return el(this,e).get(e);},es.prototype.has=function(e){return el(this,e).has(e);},es.prototype.set=function(e,t){var r=el(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this;},eu.prototype.clear=function(){this.__data__=new S,this.size=0;},eu.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r;},eu.prototype.get=function(e){return this.__data__.get(e);},eu.prototype.has=function(e){return this.__data__.has(e);},eu.prototype.set=function(e,t){var r=this.__data__;if(r instanceof S){var n=r.__data__;if(!er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new es(n);}return r.set(e,t),this.size=r.size,this;};var eh=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e;},ec=function(){try{var e=et(Object,"defineProperty");return e({},"",{}),e;}catch(e){}}(),ef=function(e,t,r){"__proto__"==t&&ec?ec(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r;},eg=Object.prototype.hasOwnProperty,ev=function(e,t,r){var n=e[t];eg.call(e,t)&&O(n,r)&&(void 0!==r||t in e)||ef(e,t,r);},ep=function(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var d=t[o],l=n?n(r[d],e[d],d,r,e):void 0;void 0===l&&(l=e[d]),a?ef(r,d,l):ev(r,d,l);}return r;},ey=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n;},em=function(e){return null!=e&&"object"==typeof e;},eb=function(e){return em(e)&&"[object Arguments]"==W(e);},ew=Object.prototype,eE=ew.hasOwnProperty,ex=ew.propertyIsEnumerable,eN=eb(function(){return arguments;}())?eb:function(e){return em(e)&&eE.call(e,"callee")&&!ex.call(e,"callee");},e_=Array.isArray,eM=function(){return!1;},ek=j(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?D.Buffer:void 0,o=(a?a.isBuffer:void 0)||eM;e.exports=o;}),ej=/^(?:0|[1-9]\d*)$/,eO=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ej.test(e))&&e>-1&&e%1==0&&e<t;},eA=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991;},eL={};eL["[object Float32Array]"]=eL["[object Float64Array]"]=eL["[object Int8Array]"]=eL["[object Int16Array]"]=eL["[object Int32Array]"]=eL["[object Uint8Array]"]=eL["[object Uint8ClampedArray]"]=eL["[object Uint16Array]"]=eL["[object Uint32Array]"]=!0,eL["[object Arguments]"]=eL["[object Array]"]=eL["[object ArrayBuffer]"]=eL["[object Boolean]"]=eL["[object DataView]"]=eL["[object Date]"]=eL["[object Error]"]=eL["[object Function]"]=eL["[object Map]"]=eL["[object Number]"]=eL["[object Object]"]=eL["[object RegExp]"]=eL["[object Set]"]=eL["[object String]"]=eL["[object WeakMap]"]=!1;var eS=function(e){return function(t){return e(t);};},eI=j(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r&&I.process,o=function(){try{return n&&n.require&&n.require("util").types||a&&a.binding&&a.binding("util");}catch(e){}}();e.exports=o;}),ez=eI&&eI.isTypedArray,eD=ez?eS(ez):function(e){return em(e)&&eA(e.length)&&!!eL[W(e)];},eR=Object.prototype.hasOwnProperty,eC=function(e,t){var r=e_(e),n=!r&&eN(e),a=!r&&!n&&ek(e),o=!r&&!n&&!a&&eD(e),i=r||n||a||o,d=i?ey(e.length,String):[],l=d.length;for(var s in e)!t&&!eR.call(e,s)||i&&("length"==s||a&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||eO(s,l))||d.push(s);return d;},eP=Object.prototype,eT=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eP);},eF=function(e,t){return function(r){return e(t(r));};},eG=eF(Object.keys,Object),eB=Object.prototype.hasOwnProperty,eq=function(e){if(!eT(e))return eG(e);var t=[];for(var r in Object(e))eB.call(e,r)&&"constructor"!=r&&t.push(r);return t;},eW=function(e){return null!=e&&eA(e.length)&&!U(e);},eV=function(e){return eW(e)?eC(e):eq(e);},eU=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t;},e$=Object.prototype.hasOwnProperty,eH=function(e){if(!V(e))return eU(e);var t=eT(e),r=[];for(var n in e)("constructor"!=n||!t&&e$.call(e,n))&&r.push(n);return r;},eY=function(e){return eW(e)?eC(e,!0):eH(e);},eJ=j(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?D.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n;};}),eK=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t;},eX=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i);}return o;},eQ=function(){return[];},eZ=Object.prototype.propertyIsEnumerable,e0=Object.getOwnPropertySymbols,e1=e0?function(e){return null==e?[]:eX(e0(e=Object(e)),function(t){return eZ.call(e,t);});}:eQ,e2=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e;},e7=eF(Object.getPrototypeOf,Object),e5=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)e2(t,e1(e)),e=e7(e);return t;}:eQ,e9=function(e,t,r){var n=t(e);return e_(e)?n:e2(n,r(e));},e4=function(e){return e9(e,eV,e1);},e3=et(D,"DataView"),e6=et(D,"Promise"),e8=et(D,"Set"),te=et(D,"WeakMap"),tt=J(e3),tr=J(er),tn=J(e6),ta=J(e8),to=J(te),ti=W;(e3&&"[object DataView]"!=ti(new e3(new ArrayBuffer(1)))||er&&"[object Map]"!=ti(new er)||e6&&"[object Promise]"!=ti(e6.resolve())||e8&&"[object Set]"!=ti(new e8)||te&&"[object WeakMap]"!=ti(new te))&&(ti=function(e){var t=W(e),r="[object Object]"==t?e.constructor:void 0,n=r?J(r):"";if(n)switch(n){case tt:return"[object DataView]";case tr:return"[object Map]";case tn:return"[object Promise]";case ta:return"[object Set]";case to:return"[object WeakMap]";}return t;});var td=ti,tl=Object.prototype.hasOwnProperty,ts=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&tl.call(e,"index")&&(r.index=e.index,r.input=e.input),r;},tu=D.Uint8Array,th=function(e){var t=new e.constructor(e.byteLength);return new tu(t).set(new tu(e)),t;},tc=function(e,t){var r=t?th(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength);},tf=/\w*$/,tg=function(e){var t=new e.constructor(e.source,tf.exec(e));return t.lastIndex=e.lastIndex,t;},tv=R?R.prototype:void 0,tp=tv?tv.valueOf:void 0,ty=function(e,t){var r=t?th(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length);},tm=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return th(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return tc(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ty(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return tg(e);case"[object Symbol]":return tp?Object(tp.call(e)):{};}},tb=Object.create,tw=function(){function e(){}return function(t){if(!V(t))return{};if(tb)return tb(t);e.prototype=t;var r=new e;return e.prototype=void 0,r;};}(),tE=function(e){return"function"!=typeof e.constructor||eT(e)?{}:tw(e7(e));},tx=eI&&eI.isMap,tN=tx?eS(tx):function(e){return em(e)&&"[object Map]"==td(e);},t_=eI&&eI.isSet,tM=t_?eS(t_):function(e){return em(e)&&"[object Set]"==td(e);},tk={};tk["[object Arguments]"]=tk["[object Array]"]=tk["[object ArrayBuffer]"]=tk["[object DataView]"]=tk["[object Boolean]"]=tk["[object Date]"]=tk["[object Float32Array]"]=tk["[object Float64Array]"]=tk["[object Int8Array]"]=tk["[object Int16Array]"]=tk["[object Int32Array]"]=tk["[object Map]"]=tk["[object Number]"]=tk["[object Object]"]=tk["[object RegExp]"]=tk["[object Set]"]=tk["[object String]"]=tk["[object Symbol]"]=tk["[object Uint8Array]"]=tk["[object Uint8ClampedArray]"]=tk["[object Uint16Array]"]=tk["[object Uint32Array]"]=!0,tk["[object Error]"]=tk["[object Function]"]=tk["[object WeakMap]"]=!1;var tj=function e(t,r,n,a,o,i){var d,l=1&r,s=2&r,u=4&r;if(n&&(d=o?n(t,a,o,i):n(t)),void 0!==d)return d;if(!V(t))return t;var h=e_(t);if(h){if(d=ts(t),!l)return eK(t,d);}else{var c,f,g,v,p=td(t),y="[object Function]"==p||"[object GeneratorFunction]"==p;if(ek(t))return eJ(t,l);if("[object Object]"==p||"[object Arguments]"==p||y&&!o){if(d=s||y?{}:tE(t),!l)return s?(f=(c=d)&&ep(t,eY(t),c),ep(t,e5(t),f)):(v=(g=d)&&ep(t,eV(t),g),ep(t,e1(t),v));}else{if(!tk[p])return o?t:{};d=tm(t,p,l);}}i||(i=new eu);var m=i.get(t);if(m)return m;i.set(t,d),tM(t)?t.forEach(function(a){d.add(e(a,r,n,a,t,i));}):tN(t)&&t.forEach(function(a,o){d.set(o,e(a,r,n,o,t,i));});var b=h?void 0:(u?s?function(e){return e9(e,eY,e5);}:e4:s?eY:eV)(t);return eh(b||t,function(a,o){b&&(a=t[o=a]),ev(d,o,e(a,r,n,o,t,i));}),d;},tO=function(e){return function(){return e;};},tA=function(e,t,r){for(var n=-1,a=Object(e),o=r(e),i=o.length;i--;){var d=o[++n];if(!1===t(a[d],d,a))break;}return e;},tL=function(e,t){return e&&tA(e,t,eV);},tS=function(e,t){if(null==e)return e;if(!eW(e))return tL(e,t);for(var r=e.length,n=-1,a=Object(e);(d?n--:++n<r)&&!1!==t(a[n],n,a););return e;},tI=function(e){return e;},tz=function(e){return"function"==typeof e?e:tI;},tD=function(e,t){return(e_(e)?eh:tS)(e,tz(t));},tR=function(e,t){var r=[];return tS(e,function(e,n,a){t(e,n,a)&&r.push(e);}),r;};function tC(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new es;++t<r;)this.add(e[t]);}tC.prototype.add=tC.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this;},tC.prototype.has=function(e){return this.__data__.has(e);};var tP=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1;},tT=function(e,t){return e.has(t);},tF=function(e,t,r,n,a,o){var i=1&r,d=e.length,l=t.length;if(d!=l&&!(i&&l>d))return!1;var s=o.get(e),u=o.get(t);if(s&&u)return s==t&&u==e;var h=-1,c=!0,f=2&r?new tC:void 0;for(o.set(e,t),o.set(t,e);++h<d;){var g=e[h],v=t[h];if(n)var p=i?n(v,g,h,t,e,o):n(g,v,h,e,t,o);if(void 0!==p){if(p)continue;c=!1;break;}if(f){if(!tP(t,function(e,t){if(!tT(f,t)&&(g===e||a(g,e,r,n,o)))return f.push(t);})){c=!1;break;}}else if(g!==v&&!a(g,v,r,n,o)){c=!1;break;}}return o.delete(e),o.delete(t),c;},tG=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e];}),r;},tB=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e;}),r;},tq=R?R.prototype:void 0,tW=tq?tq.valueOf:void 0,tV=function(e,t,r,n,a,o,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new tu(e),new tu(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=tG;case"[object Set]":var l=1&n;if(d||(d=tB),e.size!=t.size&&!l)break;var s=i.get(e);if(s)return s==t;n|=2,i.set(e,t);var u=tF(d(e),d(t),n,a,o,i);return i.delete(e),u;case"[object Symbol]":if(tW)return tW.call(e)==tW.call(t);}return!1;},tU=Object.prototype.hasOwnProperty,t$=function(e,t,r,n,a,o){var i=1&r,d=e4(e),l=d.length;if(l!=e4(t).length&&!i)return!1;for(var s=l;s--;){var u=d[s];if(!(i?u in t:tU.call(t,u)))return!1;}var h=o.get(e),c=o.get(t);if(h&&c)return h==t&&c==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=i;++s<l;){var v=e[u=d[s]],p=t[u];if(n)var y=i?n(p,v,u,t,e,o):n(v,p,u,e,t,o);if(!(void 0===y?v===p||a(v,p,r,n,o):y)){f=!1;break;}g||(g="constructor"==u);}if(f&&!g){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(f=!1);}return o.delete(e),o.delete(t),f;},tH=Object.prototype.hasOwnProperty,tY=function(e,t,r,n,a,o){var i=e_(e),d=e_(t),l=i?"[object Array]":td(e),s=d?"[object Array]":td(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),c=l==s;if(c&&ek(e)){if(!ek(t))return!1;i=!0,u=!1;}if(c&&!u)return o||(o=new eu),i||eD(e)?tF(e,t,r,n,a,o):tV(e,t,l,r,n,a,o);if(!(1&r)){var f=u&&tH.call(e,"__wrapped__"),g=h&&tH.call(t,"__wrapped__");if(f||g){var v=f?e.value():e,p=g?t.value():t;return o||(o=new eu),a(v,p,r,n,o);}}return!!c&&(o||(o=new eu),t$(e,t,r,n,a,o));},tJ=function e(t,r,n,a,o){return t===r||(null!=t&&null!=r&&(em(t)||em(r))?tY(t,r,n,a,e,o):t!=t&&r!=r);},tK=function(e,t,r,n){var a=r.length,o=a,i=!n;if(null==e)return!o;for(e=Object(e);a--;){var d=r[a];if(i&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1;}for(;++a<o;){var l=(d=r[a])[0],s=e[l],u=d[1];if(i&&d[2]){if(void 0===s&&!(l in e))return!1;}else{var h=new eu;if(n)var c=n(s,u,l,e,t,h);if(!(void 0===c?tJ(u,s,3,n,h):c))return!1;}}return!0;},tX=function(e){return e==e&&!V(e);},tQ=function(e){for(var t=eV(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,tX(a)];}return t;},tZ=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r));};},t0=function(e){var t=tQ(e);return 1==t.length&&t[0][2]?tZ(t[0][0],t[0][1]):function(r){return r===e||tK(r,e,t);};},t1=function(e){return"symbol"==typeof e||em(e)&&"[object Symbol]"==W(e);},t2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t7=/^\w*$/,t5=function(e,t){if(e_(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!t1(e))||t7.test(e)||!t2.test(e)||null!=t&&e in Object(t);};function t9(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i;};return r.cache=new(t9.Cache||es),r;}t9.Cache=es;var t4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t3=/\\(\\)?/g,t6=(s=(l=t9(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(t4,function(e,r,n,a){t.push(n?a.replace(t3,"$1"):r||e);}),t;},function(e){return 500===s.size&&s.clear(),e;})).cache,l),t8=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a;},re=R?R.prototype:void 0,rt=re?re.toString:void 0,rr=function e(t){if("string"==typeof t)return t;if(e_(t))return t8(t,e)+"";if(t1(t))return rt?rt.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r;},rn=function(e){return null==e?"":rr(e);},ra=function(e,t){return e_(e)?e:t5(e,t)?[e]:t6(rn(e));},ro=function(e){if("string"==typeof e||t1(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t;},ri=function(e,t){for(var r=0,n=(t=ra(t,e)).length;null!=e&&r<n;)e=e[ro(t[r++])];return r&&r==n?e:void 0;},rd=function(e,t,r){var n=null==e?void 0:ri(e,t);return void 0===n?r:n;},rl=function(e,t){return null!=e&&t in Object(e);},rs=function(e,t,r){for(var n=-1,a=(t=ra(t,e)).length,o=!1;++n<a;){var i=ro(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i];}return o||++n!=a?o:!!(a=null==e?0:e.length)&&eA(a)&&eO(i,a)&&(e_(e)||eN(e));},ru=function(e,t){return null!=e&&rs(e,t,rl);},rh=function(e){return function(t){return null==t?void 0:t[e];};},rc=function(e){var t,r,n;return"function"==typeof e?e:null==e?tI:"object"==typeof e?e_(e)?(t=e[0],r=e[1],t5(t)&&tX(r)?tZ(ro(t),r):function(e){var n=rd(e,t);return void 0===n&&n===r?ru(e,t):tJ(r,n,3);}):t0(e):t5(n=e)?rh(ro(n)):function(e){return ri(e,n);};},rf=function(e,t){return(e_(e)?eX:tR)(e,rc(t));},rg=Object.prototype.hasOwnProperty,rv=function(e,t){return null!=e&&rg.call(e,t);},rp=function(e,t){return null!=e&&rs(e,t,rv);},ry=Object.prototype.hasOwnProperty,rm=function(e){return void 0===e;},rb=function(e,t){var r=-1,n=eW(e)?Array(e.length):[];return tS(e,function(e,a,o){n[++r]=t(e,a,o);}),n;},rw=function(e,t){return(e_(e)?t8:rb)(e,rc(t));},rE=function(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r;},rx=function(e,t,r,n,a){return a(e,function(e,a,o){r=n?(n=!1,e):t(r,e,a,o);}),r;},rN=function(e,t,r){var n=e_(e)?rE:rx,a=arguments.length<3;return n(e,rc(t),r,a,tS);},r_=rh("length"),rM=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),rk="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rj="\ud83c[\udffb-\udfff]",rO="[^\ud800-\udfff]",rA="(?:\ud83c[\udde6-\uddff]){2}",rL="[\ud800-\udbff][\udc00-\udfff]",rS="(?:"+rk+"|"+rj+")?",rI="[\\ufe0e\\ufe0f]?"+rS+("(?:\\u200d(?:"+[rO,rA,rL].join("|"))+")[\\ufe0e\\ufe0f]?"+rS+")*",rz=RegExp(rj+"(?="+rj+")|(?:"+[rO+rk+"?",rk,rA,rL,"[\ud800-\udfff]"].join("|")+")"+rI,"g"),rD=function(e){for(var t=rz.lastIndex=0;rz.test(e);)++t;return t;},rR=R?R.isConcatSpreadable:void 0,rC=function(e){return e_(e)||eN(e)||!!(rR&&e&&e[rR]);},rP=function e(t,r,n,a,o){var i=-1,d=t.length;for(n||(n=rC),o||(o=[]);++i<d;){var l=t[i];r>0&&n(l)?r>1?e(l,r-1,n,a,o):e2(o,l):a||(o[o.length]=l);}return o;},rT=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2]);}return e.apply(t,r);},rF=Math.max,rG=function(e,t,r){return t=rF(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=rF(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=n[a];return d[t]=r(i),rT(e,this,d);};},rB=Date.now,rq=(u=ec?function(e,t){return ec(e,"toString",{configurable:!0,enumerable:!1,value:tO(t),writable:!0});}:tI,h=0,c=0,function(){var e=rB(),t=16-(e-c);if(c=e,t>0){if(++h>=800)return arguments[0];}else h=0;return u.apply(void 0,arguments);}),rW=function(e,t){return rq(rG(e,t,tI),e+"");},rV=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return -1;},rU=function(e){return e!=e;},r$=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return -1;},rH=function(e,t){return!!(null==e?0:e.length)&&(t==t?r$(e,t,0):rV(e,rU,0))>-1;},rY=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1;},rJ=e8&&1/tB(new e8([,-0]))[1]==1/0?function(e){return new e8(e);}:function(){},rK=function(e,t,r){var n=-1,a=rH,o=e.length,i=!0,d=[],l=d;if(r)i=!1,a=rY;else if(o>=200){var s=t?null:rJ(e);if(s)return tB(s);i=!1,a=tT,l=new tC;}else l=t?[]:d;e:for(;++n<o;){var u=e[n],h=t?t(u):u;if(u=r||0!==u?u:0,i&&h==h){for(var c=l.length;c--;)if(l[c]===h)continue e;t&&l.push(h),d.push(u);}else a(l,h,r)||(l!==d&&l.push(h),d.push(u));}return d;},rX=function(e){return em(e)&&eW(e);},rQ=rW(function(e){return rK(rP(e,1,rX,!0));}),rZ=function(e){return null==e?[]:t8(eV(e),function(t){return e[t];});};try{E={clone:function(e){return tj(e,4);},constant:tO,each:tD,filter:rf,has:rp,isArray:e_,isEmpty:function(e){if(null==e)return!0;if(eW(e)&&(e_(e)||"string"==typeof e||"function"==typeof e.splice||ek(e)||eD(e)||eN(e)))return!e.length;var t=td(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(eT(e))return!eq(e).length;for(var r in e)if(ry.call(e,r))return!1;return!0;},isFunction:U,isUndefined:rm,keys:eV,map:rw,reduce:rN,size:function(e){if(null==e)return 0;if(eW(e)){var t;return"string"==typeof e||!e_(e)&&em(e)&&"[object String]"==W(e)?(t=e,rM.test(t)?rD(t):r_(t)):e.length;}var r=td(e);return"[object Map]"==r||"[object Set]"==r?e.size:eq(e).length;},transform:function(e,t,r){var n=e_(e),a=n||ek(e)||eD(e);if(t=rc(t),null==r){var o=e&&e.constructor;r=a?n?new o:[]:V(e)&&U(o)?tw(e7(e)):{};}return(a?eh:tL)(e,function(e,n,a){return t(r,e,n,a);}),r;},union:rQ,values:rZ};}catch(e){}E||(E=window._);var r0=E;function r1(e){this._isDirected=!r0.has(e,"directed")||e.directed,this._isMultigraph=!!r0.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r0.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r0.constant(void 0),this._defaultEdgeLabelFn=r0.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={};}function r2(e,t){e[t]?e[t]++:e[t]=1;}function r7(e,t){--e[t]||delete e[t];}function r5(e,t,r,n){var a=""+t,o=""+r;if(!e&&a>o){var i=a;a=o,o=i;}return a+"\x01"+o+"\x01"+(r0.isUndefined(n)?"\0":n);}function r9(e,t){return r5(e,t.v,t.w,t.name);}function r4(){this._arr=[],this._keyIndices={};}r1.prototype._nodeCount=0,r1.prototype._edgeCount=0,r1.prototype.isDirected=function(){return this._isDirected;},r1.prototype.isMultigraph=function(){return this._isMultigraph;},r1.prototype.isCompound=function(){return this._isCompound;},r1.prototype.setGraph=function(e){return this._label=e,this;},r1.prototype.graph=function(){return this._label;},r1.prototype.setDefaultNodeLabel=function(e){return r0.isFunction(e)||(e=r0.constant(e)),this._defaultNodeLabelFn=e,this;},r1.prototype.nodeCount=function(){return this._nodeCount;},r1.prototype.nodes=function(){return r0.keys(this._nodes);},r1.prototype.sources=function(){var e=this;return r0.filter(this.nodes(),function(t){return r0.isEmpty(e._in[t]);});},r1.prototype.sinks=function(){var e=this;return r0.filter(this.nodes(),function(t){return r0.isEmpty(e._out[t]);});},r1.prototype.setNodes=function(e,t){var r=arguments,n=this;return r0.each(e,function(e){r.length>1?n.setNode(e,t):n.setNode(e);}),this;},r1.prototype.setNode=function(e,t){return r0.has(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this;},r1.prototype.node=function(e){return this._nodes[e];},r1.prototype.hasNode=function(e){return r0.has(this._nodes,e);},r1.prototype.removeNode=function(e){var t=this;if(r0.has(this._nodes,e)){var r=function(e){t.removeEdge(t._edgeObjs[e]);};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r0.each(this.children(e),function(e){t.setParent(e);}),delete this._children[e]),r0.each(r0.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],r0.each(r0.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount;}return this;},r1.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(r0.isUndefined(t))t="\0";else{for(var r=t+="";!r0.isUndefined(r);r=this.parent(r))if(r===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t);}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this;},r1.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e];},r1.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t;}},r1.prototype.children=function(e){if(r0.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return r0.keys(t);}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[];}},r1.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r0.keys(t);},r1.prototype.successors=function(e){var t=this._sucs[e];if(t)return r0.keys(t);},r1.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r0.union(t,this.successors(e));},r1.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length;},r1.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;r0.each(this._nodes,function(r,n){e(n)&&t.setNode(n,r);}),r0.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e));});var n={};return this._isCompound&&r0.each(t.nodes(),function(e){t.setParent(e,function e(a){var o=r.parent(a);return void 0===o||t.hasNode(o)?(n[a]=o,o):o in n?n[o]:e(o);}(e));}),t;},r1.prototype.setDefaultEdgeLabel=function(e){return r0.isFunction(e)||(e=r0.constant(e)),this._defaultEdgeLabelFn=e,this;},r1.prototype.edgeCount=function(){return this._edgeCount;},r1.prototype.edges=function(){return r0.values(this._edgeObjs);},r1.prototype.setPath=function(e,t){var r=this,n=arguments;return r0.reduce(e,function(e,a){return n.length>1?r.setEdge(e,a,t):r.setEdge(e,a),a;}),this;},r1.prototype.setEdge=function(){var e,t,r,n,a=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,r=o.name,2==arguments.length&&(n=arguments[1],a=!0)):(e=o,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],a=!0)),e=""+e,t=""+t,r0.isUndefined(r)||(r=""+r);var i=r5(this._isDirected,e,t,r);if(r0.has(this._edgeLabels,i))return a&&(this._edgeLabels[i]=n),this;if(!r0.isUndefined(r)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[i]=a?n:this._defaultEdgeLabelFn(e,t,r);var d=function(e,t,r,n){var a=""+t,o=""+r;if(!e&&a>o){var i=a;a=o,o=i;}var d={v:a,w:o};return n&&(d.name=n),d;}(this._isDirected,e,t,r);return e=d.v,t=d.w,Object.freeze(d),this._edgeObjs[i]=d,r2(this._preds[t],e),r2(this._sucs[e],t),this._in[t][i]=d,this._out[e][i]=d,this._edgeCount++,this;},r1.prototype.edge=function(e,t,r){var n=1==arguments.length?r9(this._isDirected,arguments[0]):r5(this._isDirected,e,t,r);return this._edgeLabels[n];},r1.prototype.hasEdge=function(e,t,r){var n=1==arguments.length?r9(this._isDirected,arguments[0]):r5(this._isDirected,e,t,r);return r0.has(this._edgeLabels,n);},r1.prototype.removeEdge=function(e,t,r){var n=1==arguments.length?r9(this._isDirected,arguments[0]):r5(this._isDirected,e,t,r),a=this._edgeObjs[n];return a&&(e=a.v,t=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],r7(this._preds[t],e),r7(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this;},r1.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=r0.values(r);return t?r0.filter(n,function(e){return e.v===t;}):n;}},r1.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=r0.values(r);return t?r0.filter(n,function(e){return e.w===t;}):n;}},r1.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t));},r4.prototype.size=function(){return this._arr.length;},r4.prototype.keys=function(){return this._arr.map(function(e){return e.key;});},r4.prototype.has=function(e){return r0.has(this._keyIndices,e);},r4.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority;},r4.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key;},r4.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!r0.has(r,e)){var n=this._arr,a=n.length;return r[e]=a,n.push({key:e,priority:t}),this._decrease(a),!0;}return!1;},r4.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key;},r4.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r);},r4.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,a=e;r<t.length&&(a=t[r].priority<t[a].priority?r:a,n<t.length&&(a=t[n].priority<t[a].priority?n:a),a!==e&&(this._swap(e,a),this._heapify(a)));},r4.prototype._decrease=function(e){for(var t,r=this._arr,n=r[e].priority;0!==e&&!(r[t=e>>1].priority<n);)this._swap(e,t),e=t;},r4.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,a=r[e],o=r[t];r[e]=o,r[t]=a,n[o.key]=e,n[a.key]=t;};var r3=function(e,t,r,n){return function(e,t,r,n){var a,o,i={},d=new r4,l=function(e){var t=e.v!==a?e.v:e.w,n=i[t],l=r(e),s=o.distance+l;if(l<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+l);s<n.distance&&(n.distance=s,n.predecessor=a,d.decrease(t,s));};for(e.nodes().forEach(function(e){var r=e===t?0:Number.POSITIVE_INFINITY;i[e]={distance:r},d.add(e,r);});d.size()>0&&(o=i[a=d.removeMin()]).distance!==Number.POSITIVE_INFINITY;)n(a).forEach(l);return i;}(e,String(t),r||r6,n||function(t){return e.outEdges(t);});},r6=r0.constant(1),r8=function(e){var t=0,r=[],n={},a=[];return e.nodes().forEach(function(o){r0.has(n,o)||function o(i){var d=n[i]={onStack:!0,lowlink:t,index:t++};if(r.push(i),e.successors(i).forEach(function(e){r0.has(n,e)?n[e].onStack&&(d.lowlink=Math.min(d.lowlink,n[e].index)):(o(e),d.lowlink=Math.min(d.lowlink,n[e].lowlink));}),d.lowlink===d.index){var l,s=[];do n[l=r.pop()].onStack=!1,s.push(l);while(i!==l)a.push(s);}}(o);}),a;},ne=r0.constant(1),nt=nr;function nr(e){var t={},r={},n=[];if(r0.each(e.sinks(),function a(o){if(r0.has(r,o))throw new nn;r0.has(t,o)||(r[o]=!0,t[o]=!0,r0.each(e.predecessors(o),a),delete r[o],n.push(o));}),r0.size(t)!==e.nodeCount())throw new nn;return n;}function nn(){}nr.CycleException=nn,nn.prototype=Error();var na=function(e,t,r){r0.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],o={};return r0.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);(function e(t,r,n,a,o,i){r0.has(a,r)||(a[r]=!0,n||i.push(r),r0.each(o(r),function(r){e(t,r,n,a,o,i);}),n&&i.push(r));})(e,t,"post"===r,o,n,a);}),a;};try{x={Graph:r1,json:{write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:r0.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),a={v:t};return r0.isUndefined(r)||(a.value=r),r0.isUndefined(n)||(a.parent=n),a;}),edges:r0.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return r0.isUndefined(t.name)||(n.name=t.name),r0.isUndefined(r)||(n.value=r),n;})};return r0.isUndefined(e.graph())||(t.value=r0.clone(e.graph())),t;},read:function(e){var t=new r1(e.options).setGraph(e.value);return r0.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent);}),r0.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value);}),t;}},alg:{components:function(e){var t,r={},n=[];return r0.each(e.nodes(),function(a){t=[],function n(a){r0.has(r,a)||(r[a]=!0,t.push(a),r0.each(e.successors(a),n),r0.each(e.predecessors(a),n));}(a),t.length&&n.push(t);}),n;},dijkstra:r3,dijkstraAll:function(e,t,r){return r0.transform(e.nodes(),function(n,a){n[a]=r3(e,a,t,r);},{});},findCycles:function(e){return r0.filter(r8(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0]);});},floydWarshall:function(e,t,r){var n,a,o,i;return n=t||ne,a=r||function(t){return e.outEdges(t);},o={},(i=e.nodes()).forEach(function(e){o[e]={},o[e][e]={distance:0},i.forEach(function(t){e!==t&&(o[e][t]={distance:Number.POSITIVE_INFINITY});}),a(e).forEach(function(t){var r=t.v===e?t.w:t.v,a=n(t);o[e][r]={distance:a,predecessor:e};});}),i.forEach(function(e){var t=o[e];i.forEach(function(r){var n=o[r];i.forEach(function(r){var a=n[e],o=t[r],i=n[r],d=a.distance+o.distance;d<i.distance&&(i.distance=d,i.predecessor=o.predecessor);});});}),o;},isAcyclic:function(e){try{nt(e);}catch(e){if(e instanceof nt.CycleException)return!1;throw e;}return!0;},postorder:function(e,t){return na(e,t,"post");},preorder:function(e,t){return na(e,t,"pre");},prim:function(e,t){var r,n=new r1,a={},o=new r4;function i(e){var n=e.v===r?e.w:e.v,i=o.priority(n);if(void 0!==i){var d=t(e);d<i&&(a[n]=r,o.decrease(n,d));}}if(0===e.nodeCount())return n;r0.each(e.nodes(),function(e){o.add(e,Number.POSITIVE_INFINITY),n.setNode(e);}),o.decrease(e.nodes()[0],0);for(var d=!1;o.size()>0;){if(r=o.removeMin(),r0.has(a,r))n.setEdge(r,a[r]);else{if(d)throw Error("Input graph is not connected: "+e);d=!0;}e.nodeEdges(r).forEach(i);}return n;},tarjan:r8,topsort:nt},version:"2.1.8"};}catch(e){}x||(x=window.graphlib);var no=x,ni=function(e,t,r){if(!V(r))return!1;var n=typeof t;return!!("number"==n?eW(r)&&eO(t,r.length):"string"==n&&t in r)&&O(r[t],e);},nd=Object.prototype,nl=nd.hasOwnProperty,ns=rW(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&ni(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],i=eY(o),d=-1,l=i.length;++d<l;){var s=i[d],u=e[s];(void 0===u||O(u,nd[s])&&!nl.call(e,s))&&(e[s]=o[s]);}return e;}),nu=/^\s+|\s+$/g,nh=/^[-+]0x[0-9a-f]+$/i,nc=/^0b[01]+$/i,nf=/^0o[0-7]+$/i,ng=parseInt,nv=function(e){if("number"==typeof e)return e;if(t1(e))return NaN;if(V(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=V(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(nu,"");var r=nc.test(e);return r||nf.test(e)?ng(e.slice(2),r?2:8):nh.test(e)?NaN:+e;},np=function(e){return e?1/0===(e=nv(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0;},ny=function(e){var t=np(e),r=t%1;return t==t?r?t-r:t:0;},nm=Math.max,nb=(f=function(e,t,r){var n=null==e?0:e.length;if(!n)return -1;var a=null==r?0:ny(r);return a<0&&(a=nm(n+a,0)),rV(e,rc(t),a);},function(e,t,r){var n=Object(e);if(!eW(e)){var a=rc(t);e=eV(e),t=function(e){return a(n[e],e,n);};}var o=f(e,t,r);return o>-1?n[a?e[o]:o]:void 0;}),nw=function(e){return(null==e?0:e.length)?rP(e,1):[];},nE=function(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],i=t(o);if(null!=i&&(void 0===d?i==i&&!t1(i):r(i,d)))var d=i,l=o;}return l;},nx=function(e,t){return e>t;},nN=function(e,t,r){(void 0===r||O(e[t],r))&&(void 0!==r||t in e)||ef(e,t,r);},n_=Object.prototype,nM=Function.prototype.toString,nk=n_.hasOwnProperty,nj=nM.call(Object),nO=function(e){if(!em(e)||"[object Object]"!=W(e))return!1;var t=e7(e);if(null===t)return!0;var r=nk.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&nM.call(r)==nj;},nA=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t];},nL=function(e,t,r,n,a,o,i){var d=nA(e,r),l=nA(t,r),s=i.get(l);if(s)nN(e,r,s);else{var u=o?o(d,l,r+"",e,t,i):void 0,h=void 0===u;if(h){var c=e_(l),f=!c&&ek(l),g=!c&&!f&&eD(l);u=l,c||f||g?e_(d)?u=d:rX(d)?u=eK(d):f?(h=!1,u=eJ(l,!0)):g?(h=!1,u=ty(l,!0)):u=[]:nO(l)||eN(l)?(u=d,eN(d)?u=ep(d,eY(d)):V(d)&&!U(d)||(u=tE(l))):h=!1;}h&&(i.set(l,u),a(u,l,n,o,i),i.delete(l)),nN(e,r,u);}},nS=function e(t,r,n,a,o){t!==r&&tA(r,function(i,d){if(o||(o=new eu),V(i))nL(t,r,d,n,e,a,o);else{var l=a?a(nA(t,d),i,d+"",t,r,o):void 0;void 0===l&&(l=i),nN(t,d,l);}},eY);},nI=(g=function(e,t,r){nS(e,t,r);},rW(function(e,t){var r=-1,n=t.length,a=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(a=g.length>3&&"function"==typeof a?(n--,a):void 0,o&&ni(t[0],t[1],o)&&(a=n<3?void 0:a,n=1),e=Object(e);++r<n;){var i=t[r];i&&g(e,i,r,a);}return e;})),nz=function(e,t){return e<t;},nD=function(e,t,r,n){if(!V(e))return e;for(var a=-1,o=(t=ra(t,e)).length,i=o-1,d=e;null!=d&&++a<o;){var l=ro(t[a]),s=r;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(a!=i){var u=d[l];void 0===(s=n?n(u,l,d):void 0)&&(s=V(u)?u:eO(t[a+1])?[]:{});}ev(d,l,s),d=d[l];}return e;},nR=function(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],d=ri(e,i);r(d,i)&&nD(o,ra(i,e),d);}return o;},nC=rq(rG(v=function(e,t){return null==e?{}:nR(e,t,function(t,r){return ru(e,r);});},void 0,nw),v+""),nP=Math.ceil,nT=Math.max,nF=function(e,t,r,n){for(var a=-1,o=nT(nP((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++a]=e,e+=r;return i;},nG=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e;},nB=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,a=e==e,o=t1(e),i=void 0!==t,d=null===t,l=t==t,s=t1(t);if(!d&&!s&&!o&&e>t||o&&i&&l&&!d&&!s||n&&i&&l||!r&&l||!a)return 1;if(!n&&!o&&!s&&e<t||s&&r&&a&&!n&&!o||d&&r&&a||!i&&a||!l)return -1;}return 0;},nq=function(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,i=a.length,d=r.length;++n<i;){var l=nB(a[n],o[n]);if(l)return n>=d?l:l*("desc"==r[n]?-1:1);}return e.index-t.index;},nW=function(e,t,r){t=t.length?t8(t,function(e){return e_(e)?function(t){return ri(t,1===e.length?e[0]:e);}:e;}):[tI];var n=-1;return t=t8(t,eS(rc)),nG(rb(e,function(e,r,a){return{criteria:t8(t,function(t){return t(e);}),index:++n,value:e};}),function(e,t){return nq(e,t,r);});},nV=rW(function(e,t){if(null==e)return[];var r=t.length;return r>1&&ni(e,t[0],t[1])?t=[]:r>2&&ni(t[0],t[1],t[2])&&(t=[t[0]]),nW(e,rP(t,1),[]);}),nU=0,n$=function(e,t,r){for(var n=-1,a=e.length,o=t.length,i={};++n<a;){var d=n<o?t[n]:void 0;r(i,e[n],d);}return i;};try{N={cloneDeep:function(e){return tj(e,5);},constant:tO,defaults:ns,each:tD,filter:rf,find:nb,flatten:nw,forEach:tD,forIn:function(e,t){return null==e?e:tA(e,tz(t),eY);},has:rp,isUndefined:rm,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0;},map:rw,mapValues:function(e,t){var r={};return t=rc(t),tL(e,function(e,n,a){ef(r,n,t(e,n,a));}),r;},max:function(e){return e&&e.length?nE(e,tI,nx):void 0;},merge:nI,min:function(e){return e&&e.length?nE(e,tI,nz):void 0;},minBy:function(e,t){return e&&e.length?nE(e,rc(t),nz):void 0;},now:function(){return D.Date.now();},pick:nC,range:function(e,t,r){return r&&"number"!=typeof r&&ni(e,t,r)&&(t=r=void 0),e=np(e),void 0===t?(t=e,e=0):t=np(t),r=void 0===r?e<t?1:-1:np(r),nF(e,t,r,void 0);},reduce:rN,sortBy:nV,uniqueId:function(e){var t=++nU;return rn(e)+t;},values:rZ,zipObject:function(e,t){return n$(e||[],t||[],ev);}};}catch(e){}N||(N=window._);var nH=N;function nY(){var e={};e._next=e._prev=e,this._sentinel=e;}function nJ(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev;}function nK(e,t){if("_next"!==e&&"_prev"!==e)return t;}nY.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return nJ(t),t;},nY.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&nJ(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t;},nY.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,nK)),r=r._prev;return"["+e.join(", ")+"]";};var nX=no.Graph,nQ=function(e,t){if(1>=e.nodeCount())return[];var r,n,a,o,i,d,l=(r=t||nZ,n=new nX,a=0,o=0,nH.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0});}),nH.forEach(e.edges(),function(e){var t=n.edge(e.v,e.w)||0,i=r(e);n.setEdge(e.v,e.w,t+i),o=Math.max(o,n.node(e.v).out+=i),a=Math.max(a,n.node(e.w).in+=i);}),i=nH.range(o+a+3).map(function(){return new nY;}),d=a+1,nH.forEach(n.nodes(),function(e){n1(i,d,n.node(e));}),{graph:n,buckets:i,zeroIdx:d}),s=function(e,t,r){for(var n,a=[],o=t[t.length-1],i=t[0];e.nodeCount();){for(;n=i.dequeue();)n0(e,t,r,n);for(;n=o.dequeue();)n0(e,t,r,n);if(e.nodeCount()){for(var d=t.length-2;d>0;--d)if(n=t[d].dequeue()){a=a.concat(n0(e,t,r,n,!0));break;}}}return a;}(l.graph,l.buckets,l.zeroIdx);return nH.flatten(nH.map(s,function(t){return e.outEdges(t.v,t.w);}),!0);},nZ=nH.constant(1);function n0(e,t,r,n,a){var o=a?[]:void 0;return nH.forEach(e.inEdges(n.v),function(n){var i=e.edge(n),d=e.node(n.v);a&&o.push({v:n.v,w:n.w}),d.out-=i,n1(t,r,d);}),nH.forEach(e.outEdges(n.v),function(n){var a=e.edge(n),o=n.w,i=e.node(o);i.in-=a,n1(t,r,i);}),e.removeNode(n.v),o;}function n1(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r);}var n2=function(e){var t,r,n,a="greedy"===e.graph().acyclicer?nQ(e,function(t){return e.edge(t).weight;}):(t=[],r={},n={},nH.forEach(e.nodes(),function a(o){nH.has(n,o)||(n[o]=!0,r[o]=!0,nH.forEach(e.outEdges(o),function(e){nH.has(r,e.w)?t.push(e):a(e.w);}),delete r[o]);}),t);nH.forEach(a,function(t){var r=e.edge(t);e.removeEdge(t),r.forwardName=t.name,r.reversed=!0,e.setEdge(t.w,t.v,r,nH.uniqueId("rev"));});},n7=function(e){nH.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n);}});},n5=no.Graph,n9={addDummyNode:n4,simplify:function(e){var t=(new n5).setGraph(e.graph());return nH.forEach(e.nodes(),function(r){t.setNode(r,e.node(r));}),nH.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},a=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)});}),t;},asNonCompoundGraph:function(e){var t=new n5({multigraph:e.isMultigraph()}).setGraph(e.graph());return nH.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r));}),nH.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r));}),t;},intersectRect:function(e,t){var r,n,a=e.x,o=e.y,i=t.x-a,d=t.y-o,l=e.width/2,s=e.height/2;if(!i&&!d)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(d)*l>Math.abs(i)*s?(d<0&&(s=-s),r=s*i/d,n=s):(i<0&&(l=-l),r=l,n=l*d/i),{x:a+r,y:o+n};},buildLayerMatrix:function(e){var t=nH.map(nH.range(n3(e)+1),function(){return[];});return nH.forEach(e.nodes(),function(r){var n=e.node(r),a=n.rank;nH.isUndefined(a)||(t[a][n.order]=r);}),t;},normalizeRanks:function(e){var t=nH.min(nH.map(e.nodes(),function(t){return e.node(t).rank;}));nH.forEach(e.nodes(),function(r){var n=e.node(r);nH.has(n,"rank")&&(n.rank-=t);});},removeEmptyRanks:function(e){var t=nH.min(nH.map(e.nodes(),function(t){return e.node(t).rank;})),r=[];nH.forEach(e.nodes(),function(n){var a=e.node(n).rank-t;r[a]||(r[a]=[]),r[a].push(n);});var n=0,a=e.graph().nodeRankFactor;nH.forEach(r,function(t,r){nH.isUndefined(t)&&r%a!=0?--n:n&&nH.forEach(t,function(t){e.node(t).rank+=n;});});},addBorderNode:function(e,t,r,n){var a={width:0,height:0};return arguments.length>=4&&(a.rank=r,a.order=n),n4(e,"border",a,t);},maxRank:n3,partition:function(e,t){var r={lhs:[],rhs:[]};return nH.forEach(e,function(e){t(e)?r.lhs.push(e):r.rhs.push(e);}),r;},time:function(e,t){var r=nH.now();try{return t();}finally{console.log(e+" time: "+(nH.now()-r)+"ms");}},notime:function(e,t){return t();}};function n4(e,t,r,n){var a;do a=nH.uniqueId(n);while(e.hasNode(a))return r.dummy=t,e.setNode(a,r),a;}function n3(e){return nH.max(nH.map(e.nodes(),function(t){var r=e.node(t).rank;if(!nH.isUndefined(r))return r;}));}var n6=function(e){e.graph().dummyChains=[],nH.forEach(e.edges(),function(t){!function(e,t){var r,n,a,o=t.v,i=e.node(o).rank,d=t.w,l=e.node(d).rank,s=t.name,u=e.edge(t),h=u.labelRank;if(l!==i+1){for(e.removeEdge(t),a=0,++i;i<l;++a,++i)u.points=[],n={width:0,height:0,edgeLabel:u,edgeObj:t,rank:i},r=n9.addDummyNode(e,"edge",n,"_d"),i===h&&(n.width=u.width,n.height=u.height,n.dummy="edge-label",n.labelpos=u.labelpos),e.setEdge(o,r,{weight:u.weight},s),0===a&&e.graph().dummyChains.push(r),o=r;e.setEdge(o,d,{weight:u.weight},s);}}(e,t);});},n8=function(e){nH.forEach(e.graph().dummyChains,function(t){var r,n=e.node(t),a=n.edgeLabel;for(e.setEdge(n.edgeObj,a);n.dummy;)r=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=r,n=e.node(t);});},ae=function(e){var t={};nH.forEach(e.sources(),function r(n){var a=e.node(n);if(nH.has(t,n))return a.rank;t[n]=!0;var o=nH.min(nH.map(e.outEdges(n),function(t){return r(t.w)-e.edge(t).minlen;}));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),a.rank=o;});},at=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen;},ar=no.Graph,an=function(e){var t,r,n=new ar({directed:!1}),a=e.nodes()[0],o=e.nodeCount();for(n.setNode(a,{});nH.forEach(n.nodes(),function t(r){nH.forEach(e.nodeEdges(r),function(a){var o=a.v,i=r===o?a.w:o;n.hasNode(i)||at(e,a)||(n.setNode(i,{}),n.setEdge(r,i,{}),t(i));});}),n.nodeCount()<o;)t=function(e,t){return nH.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return at(t,r);});}(n,e),r=n.hasNode(t.v)?at(e,t):-at(e,t),function(e,t,r){nH.forEach(e.nodes(),function(e){t.node(e).rank+=r;});}(n,e,r);return n;},aa=no.alg.preorder,ao=no.alg.postorder,ai=n9.simplify;function ad(e){ae(e=ai(e));var t,r=an(e);for(au(r),al(r,e);t=ah(r);)af(r,e,t,ac(r,e,t));}function al(e,t){var r=ao(e,e.nodes());r=r.slice(0,r.length-1),nH.forEach(r,function(r){var n;n=e.node(r).parent,e.edge(r,n).cutvalue=as(e,t,r);});}function as(e,t,r){var n=e.node(r).parent,a=!0,o=t.edge(r,n),i=0;return o||(a=!1,o=t.edge(n,r)),i=o.weight,nH.forEach(t.nodeEdges(r),function(o){var d=o.v===r,l=d?o.w:o.v;if(l!==n){var s=d===a,u=t.edge(o).weight;if(i+=s?u:-u,e.hasEdge(r,l)){var h=e.edge(r,l).cutvalue;i+=s?-h:h;}}}),i;}function au(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,r,n,a,o){var i=n,d=t.node(a);return r[a]=!0,nH.forEach(t.neighbors(a),function(o){nH.has(r,o)||(n=e(t,r,n,o,a));}),d.low=i,d.lim=n++,o?d.parent=o:delete d.parent,n;}(e,{},1,t);}function ah(e){return nH.find(e.edges(),function(t){return e.edge(t).cutvalue<0;});}function ac(e,t,r){var n=r.v,a=r.w;t.hasEdge(n,a)||(n=r.w,a=r.v);var o=e.node(n),i=e.node(a),d=o,l=!1;o.lim>i.lim&&(d=i,l=!0);var s=nH.filter(t.edges(),function(t){return l===ag(e,e.node(t.v),d)&&l!==ag(e,e.node(t.w),d);});return nH.minBy(s,function(e){return at(t,e);});}function af(e,t,r,n){var a,o,i=r.v,d=r.w;e.removeEdge(i,d),e.setEdge(n.v,n.w,{}),au(e),al(e,t),a=nH.find(e.nodes(),function(e){return!t.node(e).parent;}),o=(o=aa(e,a)).slice(1),nH.forEach(o,function(r){var n=e.node(r).parent,a=t.edge(r,n),o=!1;a||(a=t.edge(n,r),o=!0),t.node(r).rank=t.node(n).rank+(o?a.minlen:-a.minlen);});}function ag(e,t,r){return r.low<=t.lim&&t.lim<=r.lim;}ad.initLowLimValues=au,ad.initCutValues=al,ad.calcCutValue=as,ad.leaveEdge=ah,ad.enterEdge=ac,ad.exchangeEdges=af;var av=function(e){switch(e.graph().ranker){case"network-simplex":default:ad(e);break;case"tight-tree":ae(e),an(e);break;case"longest-path":ap(e);}},ap=ae,ay=function(e){var t,r,n=(t={},r=0,nH.forEach(e.children(),function n(a){var o=r;nH.forEach(e.children(a),n),t[a]={low:o,lim:r++};}),t);nH.forEach(e.graph().dummyChains,function(t){for(var r=e.node(t),a=r.edgeObj,o=function(e,t,r,n){var a,o,i=[],d=[],l=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim);a=r;do i.push(a=e.parent(a));while(a&&(t[a].low>l||s>t[a].lim))for(o=a,a=n;(a=e.parent(a))!==o;)d.push(a);return{path:i.concat(d.reverse()),lca:o};}(e,n,a.v,a.w),i=o.path,d=o.lca,l=0,s=i[l],u=!0;t!==a.w;){if(r=e.node(t),u){for(;(s=i[l])!==d&&e.node(s).maxRank<r.rank;)l++;s===d&&(u=!1);}if(!u){for(;l<i.length-1&&e.node(s=i[l+1]).minRank<=r.rank;)l++;s=i[l];}e.setParent(t,s),t=e.successors(t)[0];}});},am=function(e){var t,r=n9.addDummyNode(e,"root",{},"_root"),n=(t={},nH.forEach(e.children(),function(r){(function r(n,a){var o=e.children(n);o&&o.length&&nH.forEach(o,function(e){r(e,a+1);}),t[n]=a;})(r,1);}),t),a=nH.max(nH.values(n))-1,o=2*a+1;e.graph().nestingRoot=r,nH.forEach(e.edges(),function(t){e.edge(t).minlen*=o;});var i=nH.reduce(e.edges(),function(t,r){return t+e.edge(r).weight;},0)+1;nH.forEach(e.children(),function(t){(function e(t,r,n,a,o,i,d){var l=t.children(d);if(l.length){var s=n9.addBorderNode(t,"_bt"),u=n9.addBorderNode(t,"_bb"),h=t.node(d);t.setParent(s,d),h.borderTop=s,t.setParent(u,d),h.borderBottom=u,nH.forEach(l,function(l){e(t,r,n,a,o,i,l);var h=t.node(l),c=h.borderTop?h.borderTop:l,f=h.borderBottom?h.borderBottom:l,g=h.borderTop?a:2*a,v=c!==f?1:o-i[d]+1;t.setEdge(s,c,{weight:g,minlen:v,nestingEdge:!0}),t.setEdge(f,u,{weight:g,minlen:v,nestingEdge:!0});}),t.parent(d)||t.setEdge(r,s,{weight:0,minlen:o+i[d]});}else d!==r&&t.setEdge(r,d,{weight:0,minlen:n});})(e,r,o,i,a,n,t);}),e.graph().nodeRankFactor=o;},ab=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,nH.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t);});},aw=function(e){nH.forEach(e.children(),function t(r){var n=e.children(r),a=e.node(r);if(n.length&&nH.forEach(n,t),nH.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var o=a.minRank,i=a.maxRank+1;o<i;++o)aE(e,"borderLeft","_bl",r,a,o),aE(e,"borderRight","_br",r,a,o);}});};function aE(e,t,r,n,a,o){var i=a[t][o-1],d=n9.addDummyNode(e,"border",{width:0,height:0,rank:o,borderType:t},r);a[t][o]=d,e.setParent(d,n),i&&e.setEdge(i,d,{weight:1});}var ax=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||a_(e);},aN=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||(nH.forEach(e.nodes(),function(t){ak(e.node(t));}),nH.forEach(e.edges(),function(t){var r=e.edge(t);nH.forEach(r.points,ak),nH.has(r,"y")&&ak(r);})),"lr"!==t&&"rl"!==t||(nH.forEach(e.nodes(),function(t){aj(e.node(t));}),nH.forEach(e.edges(),function(t){var r=e.edge(t);nH.forEach(r.points,aj),nH.has(r,"x")&&aj(r);}),a_(e));};function a_(e){nH.forEach(e.nodes(),function(t){aM(e.node(t));}),nH.forEach(e.edges(),function(t){aM(e.edge(t));});}function aM(e){var t=e.width;e.width=e.height,e.height=t;}function ak(e){e.y=-e.y;}function aj(e){var t=e.x;e.x=e.y,e.y=t;}var aO=function(e){var t={},r=nH.filter(e.nodes(),function(t){return!e.children(t).length;}),n=nH.max(nH.map(r,function(t){return e.node(t).rank;})),a=nH.map(nH.range(n+1),function(){return[];}),o=nH.sortBy(r,function(t){return e.node(t).rank;});return nH.forEach(o,function r(n){nH.has(t,n)||(t[n]=!0,a[e.node(n).rank].push(n),nH.forEach(e.successors(n),r));}),a;},aA=function(e,t){for(var r=0,n=1;n<t.length;++n)r+=function(e,t,r){for(var n=nH.zipObject(r,nH.map(r,function(e,t){return t;})),a=nH.flatten(nH.map(t,function(t){return nH.sortBy(nH.map(e.outEdges(t),function(t){return{pos:n[t.w],weight:e.edge(t).weight};}),"pos");}),!0),o=1;o<r.length;)o<<=1;var i=2*o-1;o-=1;var d=nH.map(Array(i),function(){return 0;}),l=0;return nH.forEach(a.forEach(function(e){var t=e.pos+o;d[t]+=e.weight;for(var r=0;t>0;)t%2&&(r+=d[t+1]),d[t=t-1>>1]+=e.weight;l+=e.weight*r;})),l;}(e,t[n-1],t[n]);return r;},aL=function(e,t){var r={};return nH.forEach(e,function(e,t){var n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};nH.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight);}),nH.forEach(t.edges(),function(e){var t=r[e.v],n=r[e.w];nH.isUndefined(t)||nH.isUndefined(n)||(n.indegree++,t.out.push(r[e.w]));}),function(e){for(var t=[];e.length;){var r=e.pop();t.push(r),nH.forEach(r.in.reverse(),function(e){return function(t){var r,n;t.merged||(nH.isUndefined(t.barycenter)||nH.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&(r=0,n=0,e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0);};}(r)),nH.forEach(r.out,function(t){return function(r){r.in.push(t),0==--r.indegree&&e.push(r);};}(r));}return nH.map(nH.filter(t,function(e){return!e.merged;}),function(e){return nH.pick(e,["vs","i","barycenter","weight"]);});}(nH.filter(r,function(e){return!e.indegree;}));},aS=function(e,t){var r,n=n9.partition(e,function(e){return nH.has(e,"barycenter");}),a=n.lhs,o=nH.sortBy(n.rhs,function(e){return-e.i;}),i=[],d=0,l=0,s=0;a.sort((r=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:r?t.i-e.i:e.i-t.i;})),s=aI(i,o,s),nH.forEach(a,function(e){s+=e.vs.length,i.push(e.vs),d+=e.barycenter*e.weight,l+=e.weight,s=aI(i,o,s);});var u={vs:nH.flatten(i,!0)};return l&&(u.barycenter=d/l,u.weight=l),u;};function aI(e,t,r){for(var n;t.length&&(n=nH.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r;}var az=function e(t,r,n,a){var o,i=t.children(r),d=t.node(r),l=d?d.borderLeft:void 0,s=d?d.borderRight:void 0,u={};l&&(i=nH.filter(i,function(e){return e!==l&&e!==s;}));var h=(o=i,nH.map(o,function(e){var r=t.inEdges(e);if(r.length){var n=nH.reduce(r,function(e,r){var n=t.edge(r),a=t.node(r.v);return{sum:e.sum+n.weight*a.order,weight:e.weight+n.weight};},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight};}return{v:e};}));nH.forEach(h,function(r){if(t.children(r.v).length){var o=e(t,r.v,n,a);u[r.v]=o,nH.has(o,"barycenter")&&(nH.isUndefined(r.barycenter)?(r.barycenter=o.barycenter,r.weight=o.weight):(r.barycenter=(r.barycenter*r.weight+o.barycenter*o.weight)/(r.weight+o.weight),r.weight+=o.weight));}});var c=aL(h,n);nH.forEach(c,function(e){e.vs=nH.flatten(e.vs.map(function(e){return u[e]?u[e].vs:e;}),!0);});var f=aS(c,a);if(l&&(f.vs=nH.flatten([l,f.vs,s],!0),t.predecessors(l).length)){var g=t.node(t.predecessors(l)[0]),v=t.node(t.predecessors(s)[0]);nH.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+g.order+v.order)/(f.weight+2),f.weight+=2;}return f;},aD=no.Graph,aR=function(e,t,r){var n=function(e){for(var t;e.hasNode(t=nH.uniqueId("_root")););return t;}(e),a=new aD({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(t){return e.node(t);});return nH.forEach(e.nodes(),function(o){var i=e.node(o),d=e.parent(o);(i.rank===t||i.minRank<=t&&t<=i.maxRank)&&(a.setNode(o),a.setParent(o,d||n),nH.forEach(e[r](o),function(t){var r=t.v===o?t.w:t.v,n=a.edge(r,o),i=nH.isUndefined(n)?0:n.weight;a.setEdge(r,o,{weight:e.edge(t).weight+i});}),nH.has(i,"minRank")&&a.setNode(o,{borderLeft:i.borderLeft[t],borderRight:i.borderRight[t]}));}),a;},aC=function(e,t,r){var n,a={};nH.forEach(r,function(r){for(var o,i,d=e.parent(r);d;){if((o=e.parent(d))?(i=a[o],a[o]=d):(i=n,n=d),i&&i!==d)return void t.setEdge(i,d);d=o;}});},aP=no.Graph,aT=function(e){var t=n9.maxRank(e),r=aF(e,nH.range(1,t+1),"inEdges"),n=aF(e,nH.range(t-1,-1,-1),"outEdges"),a=aO(e);aG(e,a);for(var o,i=Number.POSITIVE_INFINITY,d=0,l=0;l<4;++d,++l){(function(e,t){var r=new aP;nH.forEach(e,function(e){var n=e.graph().root,a=az(e,n,r,t);nH.forEach(a.vs,function(t,r){e.node(t).order=r;}),aC(e,r,a.vs);});})(d%2?r:n,d%4>=2),a=n9.buildLayerMatrix(e);var s=aA(e,a);s<i&&(l=0,o=nH.cloneDeep(a),i=s);}aG(e,o);};function aF(e,t,r){return nH.map(t,function(t){return aR(e,t,r);});}function aG(e,t){nH.forEach(t,function(t){nH.forEach(t,function(t,r){e.node(t).order=r;});});}var aB=no.Graph;function aq(e,t,r){if(t>r){var n=t;t=r,r=n;}var a=e[t];a||(e[t]=a={}),a[r]=!0;}var aW=function(e){var t,r,n,a,o,i,d=n9.buildLayerMatrix(e),l=nH.merge((o={},nH.reduce(d,function(t,r){var n=0,a=0,i=t.length,d=nH.last(r);return nH.forEach(r,function(t,l){var s=function(e,t){if(e.node(t).dummy)return nH.find(e.predecessors(t),function(t){return e.node(t).dummy;});}(e,t),u=s?e.node(s).order:i;(s||t===d)&&(nH.forEach(r.slice(a,l+1),function(t){nH.forEach(e.predecessors(t),function(r){var a=e.node(r),i=a.order;!(i<n||u<i)||a.dummy&&e.node(t).dummy||aq(o,r,t);});}),a=l+1,n=u);}),r;}),o),function(e,t){var r={};function n(t,n,a,o,i){var d;nH.forEach(nH.range(n,a),function(n){d=t[n],e.node(d).dummy&&nH.forEach(e.predecessors(d),function(t){var n=e.node(t);n.dummy&&(n.order<o||n.order>i)&&aq(r,t,d);});});}return nH.reduce(t,function(t,r){var a,o=-1,i=0;return nH.forEach(r,function(d,l){if("border"===e.node(d).dummy){var s=e.predecessors(d);s.length&&(a=e.node(s[0]).order,n(r,i,l,o,a),i=l,o=a);}n(r,i,r.length,a,t.length);}),r;}),r;}(e,d)),s={};nH.forEach(["u","d"],function(t){i="u"===t?d:nH.values(d).reverse(),nH.forEach(["l","r"],function(r){"r"===r&&(i=nH.map(i,function(e){return nH.values(e).reverse();}));var n,a,o,d,u=("u"===t?e.predecessors:e.successors).bind(e),h=(n=i,a={},o={},d={},nH.forEach(n,function(e){nH.forEach(e,function(e,t){a[e]=e,o[e]=e,d[e]=t;});}),nH.forEach(n,function(e){var t=-1;nH.forEach(e,function(e){var r=u(e);if(r.length)for(var n=((r=nH.sortBy(r,function(e){return d[e];})).length-1)/2,i=Math.floor(n),s=Math.ceil(n);i<=s;++i){var h=r[i];o[e]===e&&t<d[h]&&!function(e,t,r){if(t>r){var n=t;t=r,r=n;}return nH.has(e[t],r);}(l,e,h)&&(o[h]=e,o[e]=a[e]=a[h],t=d[h]);}});}),{root:a,align:o}),c=function(e,t,r,n,a){var o,i,d,l,s,u={},h=(d=new aB,o=(l=e.graph()).nodesep,i=l.edgesep,s=function(e,t,r){var n,d,l=e.node(t),s=e.node(r);if(d=0+l.width/2,nH.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":n=-l.width/2;break;case"r":n=l.width/2;}if(n&&(d+=a?n:-n),n=0,d+=(l.dummy?i:o)/2+(s.dummy?i:o)/2+s.width/2,nH.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":n=s.width/2;break;case"r":n=-s.width/2;}return n&&(d+=a?n:-n),n=0,d;},nH.forEach(t,function(t){var n;nH.forEach(t,function(t){var a=r[t];if(d.setNode(a),n){var o=r[n],i=d.edge(o,a);d.setEdge(o,a,Math.max(s(e,t,n),i||0));}n=t;});}),d),c=a?"borderLeft":"borderRight";function f(e,t){for(var r=h.nodes(),n=r.pop(),a={};n;)a[n]?e(n):(a[n]=!0,r.push(n),r=r.concat(t(n))),n=r.pop();}return f(function(e){u[e]=h.inEdges(e).reduce(function(e,t){return Math.max(e,u[t.v]+h.edge(t));},0);},h.predecessors.bind(h)),f(function(t){var r=h.outEdges(t).reduce(function(e,t){return Math.min(e,u[t.w]-h.edge(t));},Number.POSITIVE_INFINITY),n=e.node(t);r!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(u[t]=Math.max(u[t],r));},h.successors.bind(h)),nH.forEach(n,function(e){u[e]=u[r[e]];}),u;}(e,i,h.root,h.align,"r"===r);"r"===r&&(c=nH.mapValues(c,function(e){return-e;})),s[t+r]=c;});});var u=nH.minBy(nH.values(s),function(t){var r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return nH.forIn(t,function(t,a){var o=e.node(a).width/2;r=Math.max(t+o,r),n=Math.min(t-o,n);}),r-n;});return t=nH.values(u),r=nH.min(t),n=nH.max(t),nH.forEach(["u","d"],function(e){nH.forEach(["l","r"],function(t){var a,o=e+t,i=s[o];if(i!==u){var d=nH.values(i);(a="l"===t?r-nH.min(d):n-nH.max(d))&&(s[o]=nH.mapValues(i,function(e){return e+a;}));}});}),a=e.graph().align,nH.mapValues(s.ul,function(e,t){if(a)return s[a.toLowerCase()][t];var r=nH.sortBy(nH.map(s,t));return(r[1]+r[2])/2;});},aV=function(e){var t,r,n,a;t=e=n9.asNonCompoundGraph(e),r=n9.buildLayerMatrix(t),n=t.graph().ranksep,a=0,nH.forEach(r,function(e){var r=nH.max(nH.map(e,function(e){return t.node(e).height;}));nH.forEach(e,function(e){t.node(e).y=a+r/2;}),a+=r+n;}),nH.forEach(aW(e),function(t,r){e.node(r).x=t;});},aU=n9.normalizeRanks,a$=n9.removeEmptyRanks,aH=no.Graph,aY=["nodesep","edgesep","ranksep","marginx","marginy"],aJ={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},aK=["acyclicer","ranker","rankdir","align"],aX=["width","height"],aQ={width:0,height:0},aZ=["minlen","weight","width","height","labeloffset"],a0={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},a1=["labelpos"];function a2(e,t){return nH.mapValues(nH.pick(e,t),Number);}function a7(e){var t={};return nH.forEach(e,function(e,r){t[r.toLowerCase()]=e;}),t;}var a5=no.Graph,a9={graphlib:no,layout:function(e,t){var r=t&&t.debugTiming?n9.time:n9.notime;r("layout",function(){var t=r("  buildLayoutGraph",function(){var t,r;return t=new aH({multigraph:!0,compound:!0}),r=a7(e.graph()),t.setGraph(nH.merge({},aJ,a2(r,aY),nH.pick(r,aK))),nH.forEach(e.nodes(),function(r){var n=a7(e.node(r));t.setNode(r,nH.defaults(a2(n,aX),aQ)),t.setParent(r,e.parent(r));}),nH.forEach(e.edges(),function(r){var n=a7(e.edge(r));t.setEdge(r,nH.merge({},a0,a2(n,aZ),nH.pick(n,a1)));}),t;});r("  runLayout",function(){r("    makeSpaceForEdgeLabels",function(){var e;e=t.graph(),e.ranksep/=2,nH.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset);});}),r("    removeSelfEdges",function(){nH.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e);}});}),r("    acyclic",function(){n2(t);}),r("    nestingGraph.run",function(){am(t);}),r("    rank",function(){av(n9.asNonCompoundGraph(t));}),r("    injectEdgeLabelProxies",function(){nH.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),a={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};n9.addDummyNode(t,"edge-proxy",a,"_ep");}});}),r("    removeEmptyRanks",function(){a$(t);}),r("    nestingGraph.cleanup",function(){ab(t);}),r("    normalizeRanks",function(){aU(t);}),r("    assignRankMinMax",function(){var e;e=0,nH.forEach(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=nH.max(e,n.maxRank));}),t.graph().maxRank=e;}),r("    removeEdgeLabelProxies",function(){nH.forEach(t.nodes(),function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e));});}),r("    normalize.run",function(){n6(t);}),r("    parentDummyChains",function(){ay(t);}),r("    addBorderSegments",function(){aw(t);}),r("    order",function(){aT(t);}),r("    insertSelfEdges",function(){var e;e=n9.buildLayerMatrix(t),nH.forEach(e,function(e){var r=0;nH.forEach(e,function(e,n){var a=t.node(e);a.order=n+r,nH.forEach(a.selfEdges,function(e){n9.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:a.rank,order:n+ ++r,e:e.e,label:e.label},"_se");}),delete a.selfEdges;});});}),r("    adjustCoordinateSystem",function(){ax(t);}),r("    position",function(){aV(t);}),r("    positionSelfEdges",function(){nH.forEach(t.nodes(),function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),a=n.x+n.width/2,o=n.y,i=r.x-a,d=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:a+2*i/3,y:o-d},{x:a+5*i/6,y:o-d},{x:a+i,y:o},{x:a+5*i/6,y:o+d},{x:a+2*i/3,y:o+d}],r.label.x=r.x,r.label.y=r.y;}});}),r("    removeBorderNodes",function(){nH.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),a=t.node(r.borderBottom),o=t.node(nH.last(r.borderLeft)),i=t.node(nH.last(r.borderRight));r.width=Math.abs(i.x-o.x),r.height=Math.abs(a.y-n.y),r.x=o.x+r.width/2,r.y=n.y+r.height/2;}}),nH.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e);});}),r("    normalize.undo",function(){n8(t);}),r("    fixupEdgeLabelCoords",function(){nH.forEach(t.edges(),function(e){var r=t.edge(e);if(nH.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;}});}),r("    undoCoordinateSystem",function(){aN(t);}),r("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,a=0,o=e.graph(),i=o.marginx||0,d=o.marginy||0;function l(e){var o=e.x,i=e.y,d=e.width,l=e.height;t=Math.min(t,o-d/2),r=Math.max(r,o+d/2),n=Math.min(n,i-l/2),a=Math.max(a,i+l/2);}nH.forEach(e.nodes(),function(t){l(e.node(t));}),nH.forEach(e.edges(),function(t){var r=e.edge(t);nH.has(r,"x")&&l(r);}),t-=i,n-=d,nH.forEach(e.nodes(),function(r){var a=e.node(r);a.x-=t,a.y-=n;}),nH.forEach(e.edges(),function(r){var a=e.edge(r);nH.forEach(a.points,function(e){e.x-=t,e.y-=n;}),nH.has(a,"x")&&(a.x-=t),nH.has(a,"y")&&(a.y-=n);}),o.width=r-t+i,o.height=a-n+d;}(t);}),r("    assignNodeIntersects",function(){nH.forEach(t.edges(),function(e){var r,n,a=t.edge(e),o=t.node(e.v),i=t.node(e.w);a.points?(r=a.points[0],n=a.points[a.points.length-1]):(a.points=[],r=i,n=o),a.points.unshift(n9.intersectRect(o,r)),a.points.push(n9.intersectRect(i,n));});}),r("    reversePoints",function(){nH.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse();});}),r("    acyclic.undo",function(){n7(t);});}),r("  updateInputGraph",function(){nH.forEach(e.nodes(),function(r){var n=e.node(r),a=t.node(r);n&&(n.x=a.x,n.y=a.y,t.children(r).length&&(n.width=a.width,n.height=a.height));}),nH.forEach(e.edges(),function(r){var n=e.edge(r),a=t.edge(r);n.points=a.points,nH.has(a,"x")&&(n.x=a.x,n.y=a.y);}),e.graph().width=t.graph().width,e.graph().height=t.graph().height;});});},debug:{debugOrdering:function(e){var t=n9.buildLayerMatrix(e),r=new a5({compound:!0,multigraph:!0}).setGraph({});return nH.forEach(e.nodes(),function(t){r.setNode(t,{label:t}),r.setParent(t,"layer"+e.node(t).rank);}),nH.forEach(e.edges(),function(e){r.setEdge(e.v,e.w,{},e.name);}),nH.forEach(t,function(e,t){r.setNode("layer"+t,{rank:"same"}),nH.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t;});}),r;}},util:{time:n9.time,notime:n9.notime},version:"0.8.5"};a9.graphlib,a9.layout,r("06479f71");},c8c67358:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},c950836d:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},ca4d2b2e:function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{RadialLayout:function(){return m;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("1304978e"),i=n._(o),d=r("a30e9cfb"),l=r("2802bac1"),s=r("db502ba9"),u=r("51c4521a"),h=r("4cd16c8c");let c=(e,t,r)=>{try{let r=h.Matrix.mul(h.Matrix.pow(t,2),-.5),n=r.mean("row"),a=r.mean("column"),o=r.mean();r.add(o).subRowVector(n).subColumnVector(a);let i=new h.SingularValueDecomposition(r),d=h.Matrix.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map(t=>h.Matrix.mul([t],[d]).toJSON()[0].splice(0,e));}catch(n){let e=[];for(let n=0;n<t.length;n++){let t=Math.random()*r,n=Math.random()*r;e.push([t,n]);}return e;}},f={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},g=(e,t)=>{let{positions:r,iterations:n,width:a,k:o,speed:i=100,strictRadial:d,focusIdx:l,radii:s=[],nodeSizeFunc:u}=Object.assign(Object.assign({},f),t),h=e.getAllNodes(),c=[],g=a/10;for(let e=0;e<n;e++)r.forEach((e,t)=>{c[t]={x:0,y:0};}),v(h,r,c,o,s,u),p(r,c,i,d,l,g,a,s);return r;},v=(e,t,r,n,a,o)=>{t.forEach((i,d)=>{r[d]={x:0,y:0},t.forEach((t,l)=>{if(d===l||a[d]!==a[l])return;let s=i.x-t.x,u=i.y-t.y,h=Math.sqrt(s*s+u*u);if(0===h){h=1;let e=d>l?1:-1;s=.01*e,u=.01*e;}if(h<o(e[d])/2+o(e[l])/2){let e=n*n/h;r[d].x+=s/h*e,r[d].y+=u/h*e;}});});},p=(e,t,r,n,a,o,i,d)=>{let l=o||i/10;return n&&t.forEach((t,r)=>{let n=e[r].x-e[a].x,o=e[r].y-e[a].y,i=Math.sqrt(n*n+o*o),d=o/i,l=-n/i,s=Math.sqrt(t.x*t.x+t.y*t.y),u=Math.acos((d*t.x+l*t.y)/s);u>Math.PI/2&&(u-=Math.PI/2,d*=-1,l*=-1);let h=Math.cos(u)*s;t.x=d*h,t.y=l*h;}),e.forEach((o,i)=>{if(i===a)return;let s=Math.sqrt(t[i].x*t[i].x+t[i].y*t[i].y);if(s>0&&i!==a){let u=Math.min(r/800*l,s);if(o.x+=t[i].x/s*u,o.y+=t[i].y/s*u,n){let t=o.x-e[a].x,r=o.y-e[a].y,n=Math.sqrt(t*t+r*r);t=t/n*d[i],r=r/n*d[i],o.x=e[a].x+t,o.y=e[a].y+r;}}}),e;},y={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10};class m{constructor(e={}){this.options=e,this.id="radial",this.options=Object.assign(Object.assign({},y),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,e,t);});}genericRadialLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let{width:n,height:a,center:o,focusNode:h,unitRadius:f,nodeSize:v,nodeSpacing:p,strictRadial:y,preventOverlap:m,maxPreventOverlapIteration:_,sortBy:M,linkDistance:k=50,sortStrength:j=10,maxIteration:O=1e3}=Object.assign(Object.assign({},this.options),r),A=t.getAllNodes(),L=t.getAllEdges(),S=n||"undefined"==typeof window?n:window.innerWidth,I=a||"undefined"==typeof window?a:window.innerHeight,z=o||[S/2,I/2];if(!(null==A?void 0:A.length)||1===A.length)return(0,u.handleSingleNodeGraph)(t,e,z);let D=A[0];if((0,i.default)(h)){for(let e=0;e<A.length;e++)if(A[e].id===h){D=A[e];break;}}else D=h||A[0];let R=E(A,D.id),C=(0,l.getAdjMatrix)({nodes:A,edges:L},!1),P=(0,l.floydWarshall)(C),T=N(P,R);x(P,R,T+1);let F=P[R],G=S-z[0]>z[0]?z[0]:S-z[0],B=I-z[1]>z[1]?z[1]:I-z[1];0===G&&(G=S/2),0===B&&(B=I/2);let q=Math.min(G,B),W=Math.max(...F),V=[],U=f||q/W;F.forEach((e,t)=>{V[t]=e*U;});let $=b(A,P,k,V,U,M,j),H=w($),Y=c(k,$,k),J=Y.map(([e,t])=>({x:(isNaN(e)?Math.random()*k:e)-Y[R][0],y:(isNaN(t)?Math.random()*k:t)-Y[R][1]}));this.run(O,J,H,$,V,R),m&&(J=g(t,{nodes:A,nodeSizeFunc:(0,s.formatNodeSizeToNumber)(v,p),positions:J,radii:V,height:I,width:S,strictRadial:!!y,focusIdx:R,iterations:_||200,k:J.length/4.5}));let K=[];return J.forEach((e,t)=>{let r=(0,d.cloneFormatData)(A[t]);r.data.x=e.x+z[0],r.data.y=e.y+z[1],K.push(r);}),e&&K.forEach(e=>t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y})),{nodes:K,edges:L};});}run(e,t,r,n,a,o){for(let i=0;i<=e;i++){let d=i/e;this.oneIteration(d,t,a,n,r,o);}}oneIteration(e,t,r,n,a,o){let i=1-e;t.forEach((d,s)=>{let u=(0,l.getEuclideanDistance)(d,{x:0,y:0}),h=0===u?0:1/u;if(s===o)return;let c=0,f=0,g=0;t.forEach((e,t)=>{if(s===t)return;let r=(0,l.getEuclideanDistance)(d,e),o=0===r?0:1/r,i=n[t][s];g+=a[s][t],c+=a[s][t]*(e.x+i*(d.x-e.x)*o),f+=a[s][t]*(e.y+i*(d.y-e.y)*o);});let v=0===r[s]?0:1/r[s];g*=i,g+=e*v*v,c*=i,c+=e*v*d.x*h,d.x=c/g,f*=i,f+=e*v*d.y*h,d.y=f/g;});}}let b=(e,t,r,n,a,o,d)=>{if(!e)return[];let l=[];if(t){let s={};t.forEach((t,u)=>{let h=[];t.forEach((t,l)=>{var c,f;if(u===l)h.push(0);else if(n[u]===n[l]){if("data"===o)h.push(Math.abs(u-l)*d*t/(n[u]/a));else if(o){let r,g;if(s[e[u].id])r=s[e[u].id];else{let t=("id"===o?e[u].id:null===(c=e[u].data)||void 0===c?void 0:c[o])||0;r=(0,i.default)(t)?t.charCodeAt(0):t,s[e[u].id]=r;}if(s[e[l].id])g=s[e[l].id];else{let t=("id"===o?e[l].id:null===(f=e[l].data)||void 0===f?void 0:f[o])||0;g=(0,i.default)(t)?t.charCodeAt(0):t,s[e[l].id]=g;}h.push(Math.abs(r-g)*d*t/(n[u]/a));}else h.push(t*r/(n[u]/a));}else h.push((r+a)/2*t);}),l.push(h);});}return l;},w=e=>{let t=e.length,r=e[0].length,n=[];for(let a=0;a<t;a++){let t=[];for(let n=0;n<r;n++)0!==e[a][n]?t.push(1/(e[a][n]*e[a][n])):t.push(0);n.push(t);}return n;},E=(e,t)=>{let r=-1;return e.forEach((e,n)=>{e.id===t&&(r=n);}),Math.max(r,0);},x=(e,t,r)=>{let n=e.length;for(let a=0;a<n;a++)if(e[t][a]===1/0){e[t][a]=r,e[a][t]=r;for(let o=0;o<n;o++)e[a][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=r+e[a][o],e[o][t]=r+e[a][o]);}for(let r=0;r<n;r++)if(r!==t){for(let a=0;a<n;a++)if(e[r][a]===1/0){let n=Math.abs(e[t][r]-e[t][a]);n=0===n?1:n,e[r][a]=n;}}},N=(e,t)=>{let r=0;for(let n=0;n<e[t].length;n++)e[t][n]!==1/0&&(r=e[t][n]>r?e[t][n]:r);return r;};},cb8807d4:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"isArray",{enumerable:!0,get:function(){return n;}});let n=Array.isArray;},cfdfec55:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("c950836d"),r("aad71524"),r("c8c67358"),r("5c1db550"),r("6f3891fc"),r("504aa159"),r("6635f349"),r("69426f43"),r("40aed5ca"),r("5be890b8"),r("df078443"),r("1b7815bc"),r("6d22c2ea"),r("51f8abd2"),r("fed9bbe4"),r("62d5c791"),r("a9529ecc"),r("c2ace4a3"),r("06479f71");},d1b69437:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71"),r("389e02f3");},d29a8637:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"parseSize",{enumerable:!0,get:function(){return a;}});var n=r("777fffbe")._(r("4c900b62"));function a(e){if(!e)return[0,0,0];if((0,n.default)(e))return[e,e,e];if(0===e.length)return[0,0,0];let[t,r=t,a=t]=e;return[t,r,a];}},d9f14199:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return m;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("c536c45f"),i=n._(r("7e708962")),d=n._(r("4c900b62")),l=n._(r("dfd51207")),s=r("b5b42fff"),u=r("99782438"),h=r("3e4364ad"),c=r("b10b6bef"),f=r("2802bac1"),g=r("cb8807d4"),v=r("51c4521a");let p={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},y={center:[0,0],comboPadding:10,treeKey:"combo"};class m{constructor(e={}){this.options=e,this.id="comboCombined",this.options=Object.assign(Object.assign({},y),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,e,t);});}genericComboCombinedLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n;let a=this.initVals(Object.assign(Object.assign({},this.options),r)),{center:i,treeKey:d,outerLayout:l}=a,c=t.getAllNodes().filter(e=>!e.data._isCombo),g=t.getAllNodes().filter(e=>e.data._isCombo),y=t.getAllEdges(),m=null==c?void 0:c.length;if(!m||1===m)return(0,v.handleSingleNodeGraph)(t,e,i);let w=[],E=new Map;c.forEach(e=>{E.set(e.id,e);});let x=new Map;g.forEach(e=>{x.set(e.id,e);});let N=new Map,_=this.getInnerGraphs(t,d,E,x,y,a,N);yield Promise.all(_);let M=new Map,k=[],j=new Map,O=!0;t.getRoots(d).forEach(e=>{let r=N.get(e.id),n=x.get(e.id)||E.get(e.id),a={id:e.id,data:Object.assign(Object.assign({},e.data),{x:r.data.x||n.data.x,y:r.data.y||n.data.y,fx:r.data.fx||n.data.fx,fy:r.data.fy||n.data.fy,mass:r.data.mass||n.data.mass,size:r.data.size})};k.push(a),M.set(e.id,!0),isNaN(a.data.x)||0===a.data.x||isNaN(a.data.y)||0===a.data.y?(a.data.x=100*Math.random(),a.data.y=100*Math.random()):O=!1,(0,f.graphTreeDfs)(t,[e],t=>{t.id!==e.id&&j.set(t.id,e.id);},"TB",d);});let A=[];if(y.forEach(e=>{let t=j.get(e.source)||e.source,r=j.get(e.target)||e.target;t!==r&&M.has(t)&&M.has(r)&&A.push({id:e.id,source:t,target:r,data:{}});}),null==k?void 0:k.length){if(1===k.length)k[0].data.x=i[0],k[0].data.y=i[1];else{let e=new o.Graph({nodes:k,edges:A}),t=l||new u.ForceLayout;if(O&&p[t.id]){let t=k.length<100?new h.MDSLayout:new s.ConcentricLayout;yield t.assign(e);}let r=Object.assign({center:i,kg:5,preventOverlap:!0,animate:!1},"force"===t.id?{gravity:1,factor:4,linkDistance:(e,t,r)=>(Math.max(...t.data.size)||32)/2+(Math.max(...r.data.size)||32)/2+200}:{});n=yield b(t,e,r);}N.forEach(e=>{var t;let r=n.nodes.find(t=>t.id===e.id);if(r){let{x:t,y:n}=r.data;e.data.visited=!0,e.data.x=t,e.data.y=n,w.push({id:e.id,data:{x:t,y:n}});}let{x:a,y:o}=e.data;null===(t=e.data.nodes)||void 0===t||t.forEach(e=>{w.push({id:e.id,data:{x:e.data.x+a,y:e.data.y+o}});});}),N.forEach(({data:e})=>{let{x:t,y:r,visited:n,nodes:a}=e;null==a||a.forEach(e=>{if(!n){let n=w.find(t=>t.id===e.id);n.data.x+=t||0,n.data.y+=r||0;}});});}return e&&w.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y});}),{nodes:w,edges:y};});}initVals(e){let t,r,n;let a=Object.assign({},e),{nodeSize:o,spacing:s,comboPadding:u}=e;if(r=(0,d.default)(s)?()=>s:(0,i.default)(s)?s:()=>0,a.spacing=r,o){if((0,i.default)(o))t=e=>{let t=o(e),n=r(e);return(0,g.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:((t||32)+n)/2;};else if((0,g.isArray)(o)){let e=(o[0]>o[1]?o[0]:o[1])/2;t=t=>e+r(t)/2;}else{let e=o/2;t=t=>e+r(t)/2;}}else t=e=>{let t=r(e);return e.size?(0,g.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+t)/2:(0,l.default)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+t)/2:(e.size+t)/2:32+t/2;};return a.nodeSize=t,n=(0,d.default)(u)?()=>u:(0,g.isArray)(u)?()=>Math.max.apply(null,u):(0,i.default)(u)?u:()=>0,a.comboPadding=n,a;}getInnerGraphs(e,t,r,n,i,l,u){let{nodeSize:h,comboPadding:c,spacing:v,innerLayout:p}=l,y=p||new s.ConcentricLayout({}),m={center:[0,0],preventOverlap:!0,nodeSpacing:v},w=[],E=e=>{let t=(null==c?void 0:c(e))||10;return(0,g.isArray)(t)&&(t=Math.max(...t)),{size:t?[2*t,2*t]:[30,30],padding:t};};return e.getRoots(t).forEach(l=>{u.set(l.id,{id:l.id,data:{nodes:[],size:E(l).size}});let s=Promise.resolve();(0,f.graphTreeDfs)(e,[l],l=>{var c;if(!l.data._isCombo)return;let{size:g,padding:v}=E(l);if(null===(c=e.getChildren(l.id,t))||void 0===c?void 0:c.length){let c=u.get(l.id);u.set(l.id,{id:l.id,data:Object.assign({nodes:[]},null==c?void 0:c.data)});let g=new Map,p=e.getChildren(l.id,t).map(e=>{if(e.data._isCombo)return u.has(e.id)||u.set(e.id,{id:e.id,data:Object.assign({},e.data)}),g.set(e.id,!0),u.get(e.id);let t=r.get(e.id)||n.get(e.id);return g.set(e.id,!0),{id:e.id,data:Object.assign(Object.assign({},t.data),e.data)};}),w={nodes:p,edges:i.filter(e=>g.has(e.source)&&g.has(e.target))},E=1/0;p.forEach(e=>{var t;let{size:r}=e.data;r||(r=(null===(t=u.get(e.id))||void 0===t?void 0:t.data.size)||(null==h?void 0:h(e))||[30,30]),(0,d.default)(r)&&(r=[r,r]);let[n,a]=r;E>n&&(E=n),E>a&&(E=a),e.data.size=r;}),s=s.then(()=>(0,a.__awaiter)(this,void 0,void 0,function*(){let e=new o.Graph(w);yield b(y,e,m,!0);let{minX:t,minY:r,maxX:n,maxY:a}=(0,f.getLayoutBBox)(p),i={x:(n+t)/2,y:(a+r)/2};w.nodes.forEach(e=>{e.data.x-=i.x,e.data.y-=i.y;});let d=[Math.max(n-t,E)+2*v,Math.max(a-r,E)+2*v];u.get(l.id).data.size=d,u.get(l.id).data.nodes=p;}));}else u.set(l.id,{id:l.id,data:Object.assign(Object.assign({},l.data),{size:g})});return!0;},"BT",t),w.push(s);}),w;}}function b(e,t,r,n){var o;return(0,a.__awaiter)(this,void 0,void 0,function*(){return(0,c.isLayoutWithIterations)(e)?(e.execute(t,r),e.stop(),e.tick(null!==(o=r.iterations)&&void 0!==o?o:300)):n?yield e.assign(t,r):yield e.execute(t,r);});}},db502ba9:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{formatNodeSizeToNumber:function(){return u;},formatNumberFn:function(){return l;},formatSizeFn:function(){return s;}});var n=r("777fffbe"),a=n._(r("7e708962")),o=n._(r("4c900b62")),i=n._(r("dfd51207")),d=r("d29a8637");function l(e,t){return(0,a.default)(t)?t:(0,o.default)(t)?()=>t:()=>e;}function s(e,t,r=!0){return t||0===t?(0,a.default)(t)?t:(0,o.default)(t)?()=>t:Array.isArray(t)?()=>r?Math.max(...t)||e:t:(0,i.default)(t)&&t.width&&t.height?()=>r?Math.max(t.width,t.height)||e:[t.width,t.height]:()=>e:t=>{let{size:n}=t.data||{};return n?Array.isArray(n)?r?Math.max(...n)||e:n:(0,i.default)(n)&&n.width&&n.height?r?Math.max(n.width,n.height)||e:[n.width,n.height]:n:e;};}let u=(e,t,r=10)=>{let n;let o="function"==typeof t?t:()=>t||0;return n=e?Array.isArray(e)?t=>e:(0,a.default)(e)?e:t=>e:e=>{var t,n,a;if(null===(t=e.data)||void 0===t?void 0:t.bboxSize)return null===(n=e.data)||void 0===n?void 0:n.bboxSize;if(null===(a=e.data)||void 0===a?void 0:a.size){let t=e.data.size;return Array.isArray(t)?t:(0,i.default)(t)?[t.width,t.height]:t;}return r;},e=>{let t=n(e),r=o(e);return Math.max(...(0,d.parseSize)(t))+r;};};},de141d4d:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.e(t,{camelize:function(){return o;},isString:function(){return n;}});let n=e=>"string"==typeof e,a=/-(\w)/g,o=(e=>{let t=Object.create(null);return r=>t[r]||(t[r]=e(r));})(e=>e.replace(a,(e,t)=>t?t.toUpperCase():""));},df078443:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71");},f4c1b9f6:function(e,t,r){r.d(t,"__esModule",{value:!0}),r.e(t,{AntVDagreLayout:function(){return tz;}});var n=r("777fffbe"),a=r("51e076c8"),o=r("c536c45f"),i=r("4c900b62"),d=n._(i),l=r("1c656441"),s=n._(l);let u=(e,t)=>{if("next"!==e&&"prev"!==e)return t;},h=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev;};class c{constructor(){let e={};e.prev=e,e.next=e.prev,this.shortcut=e;}dequeue(){let e=this.shortcut,t=e.prev;if(t&&t!==e)return h(t),t;}enqueue(e){let t=this.shortcut;e.prev&&e.next&&h(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t;}toString(){let e=[],t=this.shortcut,r=t.prev;for(;r!==t;)e.push(JSON.stringify(r,u)),r=null==r?void 0:r.prev;return`[${e.join(", ")}]`;}}class f extends c{}let g=()=>1,v=(e,t)=>{var r;if(e.getAllNodes().length<=1)return[];let n=m(e,t||g);return null===(r=p(n.graph,n.buckets,n.zeroIdx).map(t=>e.getRelatedEdges(t.v,"out").filter(({target:e})=>e===t.w)))||void 0===r?void 0:r.flat();},p=(e,t,r)=>{let n,a=[],o=t[t.length-1],i=t[0];for(;e.getAllNodes().length;){for(;n=i.dequeue();)y(e,t,r,n);for(;n=o.dequeue();)y(e,t,r,n);if(e.getAllNodes().length){for(let o=t.length-2;o>0;--o)if(n=t[o].dequeue()){a=a.concat(y(e,t,r,n,!0));break;}}}return a;},y=(e,t,r,n,a)=>{var o,i;let d=[];return e.hasNode(n.v)&&(null===(o=e.getRelatedEdges(n.v,"in"))||void 0===o||o.forEach(n=>{let o=n.data.weight,i=e.getNode(n.source);a&&d.push({v:n.source,w:n.target,in:0,out:0}),void 0===i.data.out&&(i.data.out=0),i.data.out-=o,b(t,r,Object.assign({v:i.id},i.data));}),null===(i=e.getRelatedEdges(n.v,"out"))||void 0===i||i.forEach(n=>{let a=n.data.weight,o=n.target,i=e.getNode(o);void 0===i.data.in&&(i.data.in=0),i.data.in-=a,b(t,r,Object.assign({v:i.id},i.data));}),e.removeNode(n.v)),a?d:void 0;},m=(e,t)=>{let r=new o.Graph,n=0,a=0;e.getAllNodes().forEach(e=>{r.addNode({id:e.id,data:{v:e.id,in:0,out:0}});}),e.getAllEdges().forEach(e=>{let o=r.getRelatedEdges(e.source,"out").find(t=>t.target===e.target),i=(null==t?void 0:t(e))||1;o?r.updateEdgeData(null==o?void 0:o.id,Object.assign(Object.assign({},o.data),{weight:o.data.weight+i})):r.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:i}}),a=Math.max(a,r.getNode(e.source).data.out+=i),n=Math.max(n,r.getNode(e.target).data.in+=i);});let i=[],d=a+n+3;for(let e=0;e<d;e++)i.push(new f);let l=n+1;return r.getAllNodes().forEach(e=>{b(i,l,Object.assign({v:e.id},r.getNode(e.id).data));}),{buckets:i,zeroIdx:l,graph:r};},b=(e,t,r)=>{r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r);},w=(e,t)=>{let r="greedy"===t?v(e,e=>e.data.weight||1):E(e);null==r||r.forEach(t=>{let r=t.data;e.removeEdge(t.id),r.forwardName=t.data.name,r.reversed=!0,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign({},r)});});},E=e=>{let t=[],r={},n={},a=o=>{n[o]||(n[o]=!0,r[o]=!0,e.getRelatedEdges(o,"out").forEach(e=>{r[e.target]?t.push(e):a(e.target);}),delete r[o]);};return e.getAllNodes().forEach(e=>a(e.id)),t;},x=e=>{e.getAllEdges().forEach(t=>{let r=t.data;if(r.reversed){e.removeEdge(t.id);let n=r.forwardName;delete r.reversed,delete r.forwardName,e.addEdge({id:t.id,source:t.target,target:t.source,data:Object.assign(Object.assign({},r),{forwardName:n})});}});},N=(e,t)=>Number(e)-Number(t),_=(e,t,r,n)=>{let a;do a=`${n}${Math.random()}`;while(e.hasNode(a))return r.dummy=t,e.addNode({id:a,data:r}),a;},M=e=>{let t=new o.Graph;return e.getAllNodes().forEach(e=>{t.addNode(Object.assign({},e));}),e.getAllEdges().forEach(e=>{let r=t.getRelatedEdges(e.source,"out").find(t=>t.target===e.target);r?t.updateEdgeData(null==r?void 0:r.id,Object.assign(Object.assign({},r.data),{weight:r.data.weight+e.data.weight||0,minlen:Math.max(r.data.minlen,e.data.minlen||1)})):t.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||0,minlen:e.data.minlen||1}});}),t;},k=e=>{let t=new o.Graph;return e.getAllNodes().forEach(r=>{e.getChildren(r.id).length||t.addNode(Object.assign({},r));}),e.getAllEdges().forEach(e=>{t.addEdge(e);}),t;},j=(e,t)=>null==e?void 0:e.reduce((e,r,n)=>(e[r]=t[n],e),{}),O=(e,t)=>{let r,n;let a=Number(e.x),o=Number(e.y),i=Number(t.x)-a,d=Number(t.y)-o,l=Number(e.width)/2,s=Number(e.height)/2;return i||d?(Math.abs(d)*l>Math.abs(i)*s?(d<0&&(s=-s),r=s*i/d,n=s):(i<0&&(l=-l),r=l,n=l*d/i),{x:a+r,y:o+n}):{x:0,y:0};},A=e=>{let t=[],r=z(e)+1;for(let e=0;e<r;e++)t.push([]);e.getAllNodes().forEach(e=>{let r=e.data.rank;void 0!==r&&t[r]&&t[r].push(e.id);});for(let n=0;n<r;n++)t[n]=t[n].sort((t,r)=>N(e.getNode(t).data.order,e.getNode(r).data.order));return t;},L=e=>{let t=Math.min(...e.getAllNodes().filter(e=>void 0!==e.data.rank).map(e=>e.data.rank));e.getAllNodes().forEach(e=>{e.data.hasOwnProperty("rank")&&t!==1/0&&(e.data.rank-=t);});},S=(e,t=0)=>{let r=e.getAllNodes(),n=Math.min(...r.filter(e=>void 0!==e.data.rank).map(e=>e.data.rank)),a=[];r.forEach(e=>{let t=(e.data.rank||0)-n;a[t]||(a[t]=[]),a[t].push(e.id);});let o=0;for(let r=0;r<a.length;r++){let n=a[r];void 0===n?r%t!=0&&(o-=1):o&&(null==n||n.forEach(t=>{let r=e.getNode(t);r&&(r.data.rank=r.data.rank||0,r.data.rank+=o);}));}},I=(e,t,r,n)=>{let a={width:0,height:0};return(0,d.default)(r)&&(0,d.default)(n)&&(a.rank=r,a.order=n),_(e,"border",a,t);},z=e=>{let t;return e.getAllNodes().forEach(e=>{let r=e.data.rank;void 0!==r&&(void 0===t||r>t)&&(t=r);}),t||(t=0),t;},D=(e,t)=>{let r={lhs:[],rhs:[]};return null==e||e.forEach(e=>{t(e)?r.lhs.push(e):r.rhs.push(e);}),r;},R=(e,t)=>e.reduce((e,r)=>t(e)>t(r)?r:e),C=(e,t,r,n,a,o)=>{!n.includes(t.id)&&(n.push(t.id),r||o.push(t.id),a(t.id).forEach(t=>C(e,t,r,n,a,o)),r&&o.push(t.id));},P=(e,t,r,n)=>{let a=Array.isArray(t)?t:[t],o=t=>n?e.getSuccessors(t):e.getNeighbors(t),i=[],d=[];return a.forEach(t=>{if(e.hasNode(t.id))C(e,t,"post"===r,d,o,i);else throw Error(`Graph does not have node: ${t}`);}),i;},T=e=>{let t=r=>{let n=e.getChildren(r),a=e.getNode(r);if((null==n?void 0:n.length)&&n.forEach(e=>t(e.id)),a.data.hasOwnProperty("minRank")){a.data.borderLeft=[],a.data.borderRight=[];for(let t=a.data.minRank,n=a.data.maxRank+1;t<n;t+=1)F(e,"borderLeft","_bl",r,a,t),F(e,"borderRight","_br",r,a,t);}};e.getRoots().forEach(e=>t(e.id));},F=(e,t,r,n,a,o)=>{let i=a.data[t][o-1],d=_(e,"border",{rank:o,borderType:t,width:0,height:0},r);a.data[t][o]=d,e.setParent(d,n),i&&e.addEdge({id:`e${Math.random()}`,source:i,target:d,data:{weight:1}});},G=(e,t)=>{let r=t.toLowerCase();("lr"===r||"rl"===r)&&q(e);},B=(e,t)=>{let r=t.toLowerCase();("bt"===r||"rl"===r)&&V(e),("lr"===r||"rl"===r)&&($(e),q(e));},q=e=>{e.getAllNodes().forEach(e=>{W(e);}),e.getAllEdges().forEach(e=>{W(e);});},W=e=>{let t=e.data.width;e.data.width=e.data.height,e.data.height=t;},V=e=>{e.getAllNodes().forEach(e=>{U(e.data);}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>U(e)),e.data.hasOwnProperty("y")&&U(e.data);});},U=e=>{(null==e?void 0:e.y)&&(e.y=-e.y);},$=e=>{e.getAllNodes().forEach(e=>{H(e.data);}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>H(e)),e.data.hasOwnProperty("x")&&H(e.data);});},H=e=>{let t=e.x;e.x=e.y,e.y=t;},Y=e=>{let t=_(e,"root",{},"_root"),r=K(e),n=Math.max(...Object.values(r));Math.abs(n)===1/0&&(n=1);let a=n-1,o=2*a+1;e.getAllEdges().forEach(e=>{e.data.minlen*=o;});let i=X(e)+1;return e.getRoots().forEach(n=>{J(e,t,o,i,a,r,n.id);}),{nestingRoot:t,nodeRankFactor:o};},J=(e,t,r,n,a,o,i)=>{let d=e.getChildren(i);if(!(null==d?void 0:d.length)){i!==t&&e.addEdge({id:`e${Math.random()}`,source:t,target:i,data:{weight:0,minlen:r}});return;}let l=I(e,"_bt"),s=I(e,"_bb"),u=e.getNode(i);e.setParent(l,i),u.data.borderTop=l,e.setParent(s,i),u.data.borderBottom=s,null==d||d.forEach(d=>{J(e,t,r,n,a,o,d.id);let u=d.data.borderTop?d.data.borderTop:d.id,h=d.data.borderBottom?d.data.borderBottom:d.id,c=d.data.borderTop?n:2*n,f=u!==h?1:a-o[i]+1;e.addEdge({id:`e${Math.random()}`,source:l,target:u,data:{minlen:f,weight:c,nestingEdge:!0}}),e.addEdge({id:`e${Math.random()}`,source:h,target:s,data:{minlen:f,weight:c,nestingEdge:!0}});}),e.getParent(i)||e.addEdge({id:`e${Math.random()}`,source:t,target:l,data:{weight:0,minlen:a+o[i]}});},K=e=>{let t={},r=(n,a)=>{let o=e.getChildren(n);null==o||o.forEach(e=>r(e.id,a+1)),t[n]=a;};return e.getRoots().forEach(e=>r(e.id,1)),t;},X=e=>{let t=0;return e.getAllEdges().forEach(e=>{t+=e.data.weight;}),t;},Q=(e,t)=>{t&&e.removeNode(t),e.getAllEdges().forEach(t=>{t.data.nestingEdge&&e.removeEdge(t.id);});},Z="edge-label",ee=(e,t)=>{e.getAllEdges().forEach(r=>et(e,r,t));},et=(e,t,r)=>{let n,a,o,i=t.source,d=e.getNode(i).data.rank,l=t.target,s=e.getNode(l).data.rank,u=t.data.labelRank;if(s!==d+1){for(e.removeEdge(t.id),o=0,++d;d<s;++o,++d)t.data.points=[],n=_(e,"edge",a={originalEdge:t,width:0,height:0,rank:d},"_d"),d===u&&(a.width=t.data.width,a.height=t.data.height,a.dummy=Z,a.labelpos=t.data.labelpos),e.addEdge({id:`e${Math.random()}`,source:i,target:n,data:{weight:t.data.weight}}),0===o&&r.push(n),i=n;e.addEdge({id:`e${Math.random()}`,source:i,target:l,data:{weight:t.data.weight}});}},er=(e,t)=>{t.forEach(t=>{let r,n=e.getNode(t),{data:a}=n,o=a.originalEdge;o&&e.addEdge(o);let i=t;for(;n.data.dummy;)r=e.getSuccessors(i)[0],e.removeNode(i),o.data.points.push({x:n.data.x,y:n.data.y}),n.data.dummy===Z&&(o.data.x=n.data.x,o.data.y=n.data.y,o.data.width=n.data.width,o.data.height=n.data.height),i=r.id,n=e.getNode(i);});};var en=r("d8d8eaf5"),ea=n._(en);let eo=(e,t,r)=>{let n;let a={};null==r||r.forEach(r=>{let o,i,d=e.getParent(r);for(;d;){if((o=e.getParent(d.id))?(i=a[o.id],a[o.id]=d.id):(i=n,n=d.id),i&&i!==d.id){t.hasNode(i)||t.addNode({id:i,data:{}}),t.hasNode(d.id)||t.addNode({id:d.id,data:{}}),t.hasEdge(`e${i}-${d.id}`)||t.addEdge({id:`e${i}-${d.id}`,source:i,target:d.id,data:{}});return;}d=o;}});},ei=(e,t,r)=>{let n=ed(e),a=new o.Graph({tree:[{id:n,children:[],data:{}}]});return e.getAllNodes().forEach(o=>{let i=e.getParent(o.id);(o.data.rank===t||o.data.minRank<=t&&t<=o.data.maxRank)&&(a.hasNode(o.id)||a.addNode(Object.assign({},o)),(null==i?void 0:i.id)&&!a.hasNode(null==i?void 0:i.id)&&a.addNode(Object.assign({},i)),a.setParent(o.id,(null==i?void 0:i.id)||n),e.getRelatedEdges(o.id,r).forEach(t=>{let r=t.source===o.id?t.target:t.source;a.hasNode(r)||a.addNode(Object.assign({},e.getNode(r)));let n=a.getRelatedEdges(r,"out").find(({target:e})=>e===o.id),i=void 0!==n?n.data.weight:0;n?a.updateEdgeData(n.id,Object.assign(Object.assign({},n.data),{weight:t.data.weight+i})):a.addEdge({id:t.id,source:r,target:o.id,data:{weight:t.data.weight+i}});}),o.data.hasOwnProperty("minRank")&&a.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[t],borderRight:o.data.borderRight[t]})));}),a;},ed=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t;},el=(e,t,r)=>{let n=j(r,r.map((e,t)=>t)),a=t.map(t=>{let r=e.getRelatedEdges(t,"out").map(e=>({pos:n[e.target]||0,weight:e.data.weight}));return null==r?void 0:r.sort((e,t)=>e.pos-t.pos);}).flat().filter(e=>void 0!==e),o=1;for(;o<r.length;)o<<=1;let i=2*o-1;o-=1;let d=Array(i).fill(0,0,i),l=0;return null==a||a.forEach(e=>{if(e){let t=e.pos+o;d[t]+=e.weight;let r=0;for(;t>0;)t%2&&(r+=d[t+1]),t=t-1>>1,d[t]+=e.weight;l+=e.weight*r;}}),l;},es=(e,t)=>{let r=0;for(let n=1;n<(null==t?void 0:t.length);n+=1)r+=el(e,t[n-1],t[n]);return r;},eu=e=>{let t={},r=e.getAllNodes(),n=Math.max(...r.map(e=>{var t;return null!==(t=e.data.rank)&&void 0!==t?t:-1/0;})),a=[];for(let e=0;e<n+1;e++)a.push([]);let o=r.sort((t,r)=>e.getNode(t.id).data.rank-e.getNode(r.id).data.rank),i=o.filter(t=>void 0!==e.getNode(t.id).data.fixorder).sort((t,r)=>e.getNode(t.id).data.fixorder-e.getNode(r.id).data.fixorder);return null==i||i.forEach(r=>{isNaN(e.getNode(r.id).data.rank)||a[e.getNode(r.id).data.rank].push(r.id),t[r.id]=!0;}),null==o||o.forEach(r=>e.dfsTree(r.id,e=>{if(t.hasOwnProperty(e.id))return!0;t[e.id]=!0,isNaN(e.data.rank)||a[e.data.rank].push(e.id);})),a;},eh=(e,t)=>t.map(t=>{let r=e.getRelatedEdges(t,"in");if(!(null==r?void 0:r.length))return{v:t};let n={sum:0,weight:0};return null==r||r.forEach(t=>{let r=e.getNode(t.source);n.sum+=t.data.weight*r.data.order,n.weight+=t.data.weight;}),{v:t,barycenter:n.sum/n.weight,weight:n.weight};}),ec=(e,t)=>{var r,n,a;let o={};return null==e||e.forEach((e,t)=>{o[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};let r=o[e.v];void 0!==e.barycenter&&(r.barycenter=e.barycenter,r.weight=e.weight);}),null===(r=t.getAllEdges())||void 0===r||r.forEach(e=>{let t=o[e.source],r=o[e.target];void 0!==t&&void 0!==r&&(r.indegree++,t.out.push(o[e.target]));}),ef(null===(a=(n=Object.values(o)).filter)||void 0===a?void 0:a.call(n,e=>!e.indegree));},ef=e=>{var t,r;let n=[],a=e=>t=>{!t.merged&&(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&eg(e,t);},o=t=>r=>{r.in.push(t),0==--r.indegree&&e.push(r);};for(;null==e?void 0:e.length;){let i=e.pop();n.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach(e=>a(i)(e)),null===(r=i.out)||void 0===r||r.forEach(e=>o(i)(e));}let i=n.filter(e=>!e.merged),d=["vs","i","barycenter","weight"];return i.map(e=>{let t={};return null==d||d.forEach(r=>{void 0!==e[r]&&(t[r]=e[r]);}),t;});},eg=(e,t)=>{var r;let n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=null===(r=t.vs)||void 0===r?void 0:r.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0;},ev=(e,t,r,n)=>{let a=D(e,e=>{let t=e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder);return n?!t&&e.hasOwnProperty("barycenter"):t||e.hasOwnProperty("barycenter");}),o=a.lhs,i=a.rhs.sort((e,t)=>-e.i- -t.i),d=[],l=0,s=0,u=0;null==o||o.sort(ey(!!t,!!r)),u=ep(d,i,u),null==o||o.forEach(e=>{var t;u+=null===(t=e.vs)||void 0===t?void 0:t.length,d.push(e.vs),l+=e.barycenter*e.weight,s+=e.weight,u=ep(d,i,u);});let h={vs:d.flat()};return s&&(h.barycenter=l/s,h.weight=s),h;},ep=(e,t,r)=>{let n,a=r;for(;t.length&&(n=t[t.length-1]).i<=a;)t.pop(),null==e||e.push(n.vs),a++;return a;},ey=(e,t)=>(r,n)=>{if(void 0!==r.fixorder&&void 0!==n.fixorder)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return -1;if(r.barycenter>n.barycenter)return 1;if(t&&void 0!==r.order&&void 0!==n.order){if(r.order<n.order)return -1;if(r.order>n.order)return 1;}return e?n.i-r.i:r.i-n.i;},em=(e,t,r,n,a,o)=>{var i,d,l,s;let u=e.getChildren(t).map(e=>e.id),h=e.getNode(t),c=h?h.data.borderLeft:void 0,f=h?h.data.borderRight:void 0,g={};c&&(u=null==u?void 0:u.filter(e=>e!==c&&e!==f));let v=eh(e,u||[]);null==v||v.forEach(t=>{var a;if(null===(a=e.getChildren(t.v))||void 0===a?void 0:a.length){let a=em(e,t.v,r,n,o);g[t.v]=a,a.hasOwnProperty("barycenter")&&ew(t,a);}});let p=ec(v,r);eb(p,g),null===(i=p.filter(e=>e.vs.length>0))||void 0===i||i.forEach(t=>{let r=e.getNode(t.vs[0]);r&&(t.fixorder=r.data.fixorder,t.order=r.data.order);});let y=ev(p,n,a,o);if(c&&(y.vs=[c,y.vs,f].flat(),null===(d=e.getPredecessors(c))||void 0===d?void 0:d.length)){let t=e.getNode((null===(l=e.getPredecessors(c))||void 0===l?void 0:l[0].id)||""),r=e.getNode((null===(s=e.getPredecessors(f))||void 0===s?void 0:s[0].id)||"");y.hasOwnProperty("barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+t.data.order+r.data.order)/(y.weight+2),y.weight+=2;}return y;},eb=(e,t)=>{null==e||e.forEach(e=>{var r;let n=null===(r=e.vs)||void 0===r?void 0:r.map(e=>t[e]?t[e].vs:e);e.vs=n.flat();});},ew=(e,t)=>{void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight);},eE=(e,t)=>{let r;let n=z(e),a=[],o=[];for(let e=1;e<n+1;e++)a.push(e);for(let e=n-1;e>-1;e--)o.push(e);let i=ex(e,a,"in"),d=ex(e,o,"out"),l=eu(e);e_(e,l);let s=Number.POSITIVE_INFINITY;for(let n=0,a=0;a<4;++n,++a){eN(n%2?i:d,n%4>=2,!1,t),l=A(e);let o=es(e,l);o<s&&(a=0,r=(0,ea.default)(l),s=o);}l=eu(e),e_(e,l);for(let n=0,a=0;a<4;++n,++a){eN(n%2?i:d,n%4>=2,!0,t),l=A(e);let o=es(e,l);o<s&&(a=0,r=(0,ea.default)(l),s=o);}e_(e,r);},ex=(e,t,r)=>t.map(t=>ei(e,t,r)),eN=(e,t,r,n)=>{let a=new o.Graph;null==e||e.forEach(e=>{var o;let i=e.getRoots()[0].id,d=em(e,i,a,t,r,n);for(let t=0;t<(null===(o=d.vs)||void 0===o?void 0:o.length);t++){let r=e.getNode(d.vs[t]);r&&(r.data.order=t);}eo(e,a,d.vs);});},e_=(e,t)=>{null==t||t.forEach(t=>{null==t||t.forEach((t,r)=>{e.getNode(t).data.order=r;});});},eM=(e,t)=>{let r=Math.max(...e.getAllNodes().filter(t=>{var r;return!(null===(r=e.getChildren(t.id))||void 0===r?void 0:r.length);}).map(e=>e.data.rank)),n=[];for(let e=0;e<r+1;e++)n[e]=[];null==t||t.forEach(t=>{let r=e.getNode(t);!r||r.data.dummy||isNaN(r.data.rank)||(r.data.fixorder=n[r.data.rank].length,n[r.data.rank].push(t));});},ek=e=>{let t={},r=0,n=a=>{let o=r;e.getChildren(a).forEach(e=>n(e.id)),t[a]={low:o,lim:r++};};return e.getRoots().forEach(e=>n(e.id)),t;},ej=(e,t,r,n)=>{var a,o;let i,d;let l=[],s=[],u=Math.min(t[r].low,t[n].low),h=Math.max(t[r].lim,t[n].lim);i=r;do l.push(i=null===(a=e.getParent(i))||void 0===a?void 0:a.id);while(i&&(t[i].low>u||h>t[i].lim))for(d=i,i=n;i&&i!==d;)s.push(i),i=null===(o=e.getParent(i))||void 0===o?void 0:o.id;return{lca:d,path:l.concat(s.reverse())};},eO=(e,t)=>{let r=ek(e);t.forEach(t=>{var n,a;let o=t,i=e.getNode(o),d=i.data.originalEdge;if(!d)return;let l=ej(e,r,d.source,d.target),s=l.path,u=l.lca,h=0,c=s[0],f=!0;for(;o!==d.target;){if(i=e.getNode(o),f){for(;c!==u&&(null===(n=e.getNode(c))||void 0===n?void 0:n.data.maxRank)<i.data.rank;)c=s[++h];c===u&&(f=!1);}if(!f){for(;h<s.length-1&&(null===(a=e.getNode(s[h+1]))||void 0===a?void 0:a.data.minRank)<=i.data.rank;)h++;c=s[h];}e.hasNode(c)&&e.setParent(o,c),o=e.getSuccessors(o)[0].id;}});},eA=(e,t)=>{let r={};return(null==t?void 0:t.length)&&t.reduce((t,n)=>{let a=0,o=0,i=t.length,d=null==n?void 0:n[(null==n?void 0:n.length)-1];return null==n||n.forEach((t,l)=>{var s;let u=eS(e,t),h=u?e.getNode(u.id).data.order:i;(u||t===d)&&(null===(s=n.slice(o,l+1))||void 0===s||s.forEach(t=>{var n;null===(n=e.getPredecessors(t))||void 0===n||n.forEach(n=>{var o;let i=e.getNode(n.id),d=i.data.order;(d<a||h<d)&&!(i.data.dummy&&(null===(o=e.getNode(t))||void 0===o?void 0:o.data.dummy))&&eI(r,n.id,t);});}),o=l+1,a=h);}),n;}),r;},eL=(e,t)=>{let r={};function n(t,n){let a=JSON.stringify(t.slice(1));n.get(a)||(!function(t,n,a,o,i){var d,l;let s;for(let u=n;u<a;u++)s=t[u],(null===(d=e.getNode(s))||void 0===d?void 0:d.data.dummy)&&(null===(l=e.getPredecessors(s))||void 0===l||l.forEach(t=>{let n=e.getNode(t.id);n.data.dummy&&(n.data.order<o||n.data.order>i)&&eI(r,t.id,s);}));}(...t),n.set(a,!0));}return(null==t?void 0:t.length)&&t.reduce((t,r)=>{let a,o=-1,i=0,d=new Map;return null==r||r.forEach((l,s)=>{var u;if((null===(u=e.getNode(l))||void 0===u?void 0:u.data.dummy)==="border"){let t=e.getPredecessors(l)||[];t.length&&(a=e.getNode(t[0].id).data.order,n([r,i,s,o,a],d),i=s,o=a);}n([r,i,r.length,a,t.length],d);}),r;}),r;},eS=(e,t)=>{var r,n;if(null===(r=e.getNode(t))||void 0===r?void 0:r.data.dummy)return null===(n=e.getPredecessors(t))||void 0===n?void 0:n.find(t=>e.getNode(t.id).data.dummy);},eI=(e,t,r)=>{let n=t,a=r;if(n>a){let e=n;n=a,a=e;}let o=e[n];o||(e[n]=o={}),o[a]=!0;},ez=(e,t,r)=>{let n=t,a=r;return n>a&&(n=a,a=t),!!e[n];},eD=(e,t,r,n)=>{let a={},o={},i={};return null==t||t.forEach(e=>{null==e||e.forEach((e,t)=>{a[e]=e,o[e]=e,i[e]=t;});}),null==t||t.forEach(e=>{let t=-1;null==e||e.forEach(e=>{let d=n(e).map(e=>e.id);if(d.length){let n=((d=d.sort((e,t)=>i[e]-i[t])).length-1)/2;for(let l=Math.floor(n),s=Math.ceil(n);l<=s;++l){let n=d[l];o[e]===e&&t<i[n]&&!ez(r,e,n)&&(o[n]=e,o[e]=a[e]=a[n],t=i[n]);}}});}),{root:a,align:o};},eR=(e,t,r,n,a,o,i)=>{var d;let l={},s=eC(e,t,r,a,o,i),u=i?"borderLeft":"borderRight",h=(e,t)=>{let r=s.getAllNodes(),n=r.pop(),a={};for(;n;)a[n.id]?e(n.id):(a[n.id]=!0,r.push(n),r=r.concat(t(n.id))),n=r.pop();};return h(e=>{l[e]=(s.getRelatedEdges(e,"in")||[]).reduce((e,t)=>Math.max(e,(l[t.source]||0)+t.data.weight),0);},s.getPredecessors.bind(s)),h(t=>{let r=(s.getRelatedEdges(t,"out")||[]).reduce((e,t)=>Math.min(e,(l[t.target]||0)-t.data.weight),Number.POSITIVE_INFINITY),n=e.getNode(t);r!==Number.POSITIVE_INFINITY&&n.data.borderType!==u&&(l[t]=Math.max(l[t],r));},s.getSuccessors.bind(s)),null===(d=Object.values(n))||void 0===d||d.forEach(e=>{l[e]=l[r[e]];}),l;},eC=(e,t,r,n,a,i)=>{let d=new o.Graph,l=eF(n,a,i);return null==t||t.forEach(t=>{let n;null==t||t.forEach(t=>{let a=r[t];if(d.hasNode(a)||d.addNode({id:a,data:{}}),n){let o=r[n],i=d.getRelatedEdges(o,"out").find(e=>e.target===a);i?d.updateEdgeData(i.id,Object.assign(Object.assign({},i.data),{weight:Math.max(l(e,t,n),i.data.weight||0)})):d.addEdge({id:`e${Math.random()}`,source:o,target:a,data:{weight:Math.max(l(e,t,n),0)}});}n=t;});}),d;},eP=(e,t)=>R(Object.values(t),t=>{var r;let n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return null===(r=Object.keys(t))||void 0===r||r.forEach(r=>{let o=t[r],i=eG(e,r)/2;n=Math.max(o+i,n),a=Math.min(o-i,a);}),n-a;}),eT=(e,t)=>{let r={};return Object.keys(e.ul).forEach(n=>{if(t)r[n]=e[t.toLowerCase()][n];else{let t=Object.values(e).map(e=>e[n]);r[n]=(t[0]+t[1])/2;}}),r;},eF=(e,t,r)=>(n,a,o)=>{let i;let d=n.getNode(a),l=n.getNode(o),s=0;if(i=0+d.data.width/2,d.data.hasOwnProperty("labelpos"))switch((d.data.labelpos||"").toLowerCase()){case"l":s=-d.data.width/2;break;case"r":s=d.data.width/2;}if(s&&(i+=r?s:-s),s=0,i+=(d.data.dummy?t:e)/2+(l.data.dummy?t:e)/2+l.data.width/2,l.data.labelpos)switch((l.data.labelpos||"").toLowerCase()){case"l":s=l.data.width/2;break;case"r":s=-l.data.width/2;}return s&&(i+=r?s:-s),s=0,i;},eG=(e,t)=>e.getNode(t).data.width||0,eB=(e,t)=>{let{ranksep:r=0}=t||{},n=A(e),a=0;null==n||n.forEach(t=>{let n=Math.max(...t.map(t=>e.getNode(t).data.height),0);null==t||t.forEach(t=>{e.getNode(t).data.y=a+n/2;}),a+=n+r;});},eq=(e,t)=>{let{align:r,nodesep:n=0,edgesep:a=0}=t||{},o=A(e),i=Object.assign(eA(e,o),eL(e,o)),d={},l=[];["u","d"].forEach(t=>{l="u"===t?o:Object.values(o).reverse(),["l","r"].forEach(r=>{"r"===r&&(l=l.map(e=>Object.values(e).reverse()));let o=("u"===t?e.getPredecessors:e.getSuccessors).bind(e),s=eD(e,l,i,o),u=eR(e,l,s.root,s.align,n,a,"r"===r);"r"===r&&Object.keys(u).forEach(e=>u[e]=-u[e]),d[t+r]=u;});});let s=eP(e,d);return s&&function(e,t){let r=Object.values(t),n=Math.min(...r),a=Math.max(...r);["u","d"].forEach(r=>{["l","r"].forEach(o=>{let i;let d=r+o,l=e[d];if(l===t)return;let s=Object.values(l);(i="l"===o?n-Math.min(...s):a-Math.max(...s))&&(e[d]={},Object.keys(l).forEach(t=>{e[d][t]=l[t]+i;}));});});}(d,s),eT(d,r);},eW=(e,t)=>{var r;let n=k(e);eB(n,t);let a=eq(n,t);null===(r=Object.keys(a))||void 0===r||r.forEach(e=>{n.getNode(e).data.x=a[e];});},eV=e=>{let t={},r=n=>{var a;let o;let i=e.getNode(n);return i?t[n]?i.data.rank:(t[n]=!0,null===(a=e.getRelatedEdges(n,"out"))||void 0===a||a.forEach(e=>{let t=r(e.target)-e.data.minlen;t&&(void 0===o||t<o)&&(o=t);}),o||(o=0),i.data.rank=o,o):0;};e.getAllNodes().filter(t=>0===e.getRelatedEdges(t.id,"in").length).forEach(e=>r(e.id));},eU=e=>{let t;let r={},n=a=>{var o;let i;let d=e.getNode(a);return d?r[a]?d.data.rank:(r[a]=!0,null===(o=e.getRelatedEdges(a,"out"))||void 0===o||o.forEach(e=>{let t=n(e.target)-e.data.minlen;t&&(void 0===i||t<i)&&(i=t);}),i||(i=0),(void 0===t||i<t)&&(t=i),d.data.rank=i,i):0;};e.getAllNodes().filter(t=>0===e.getRelatedEdges(t.id,"in").length).forEach(e=>{e&&n(e.id);}),void 0===t&&(t=0);let a={},o=(t,r)=>{var n;let i=e.getNode(t),d=isNaN(i.data.layer)?r:i.data.layer;(void 0===i.data.rank||i.data.rank<d)&&(i.data.rank=d),a[t]||(a[t]=!0,null===(n=e.getRelatedEdges(t,"out"))||void 0===n||n.forEach(e=>{o(e.target,d+e.data.minlen);}));};e.getAllNodes().forEach(e=>{let r=e.data;r&&(isNaN(r.layer)?r.rank-=t:o(e.id,r.layer));});},e$=(e,t)=>e.getNode(t.target).data.rank-e.getNode(t.source).data.rank-t.data.minlen,eH=e=>{let t,r;let n=new o.Graph({tree:[]}),a=e.getAllNodes()[0],i=e.getAllNodes().length;for(n.addNode(a);eY(n,e)<i;)t=eX(n,e),r=n.hasNode(t.source)?e$(e,t):-e$(e,t),eQ(n,e,r);return n;},eY=(e,t)=>{let r=n=>{t.getRelatedEdges(n,"both").forEach(a=>{let o=a.source,i=n===o?a.target:o;e.hasNode(i)||e$(t,a)||(e.addNode({id:i,data:{}}),e.addEdge({id:a.id,source:n,target:i,data:{}}),r(i));});};return e.getAllNodes().forEach(e=>r(e.id)),e.getAllNodes().length;},eJ=e=>{let t,r;let n=new o.Graph({tree:[]}),a=e.getAllNodes()[0],i=e.getAllNodes().length;for(n.addNode(a);eK(n,e)<i;)t=eX(n,e),r=n.hasNode(t.source)?e$(e,t):-e$(e,t),eQ(n,e,r);return n;},eK=(e,t)=>{let r=n=>{var a;null===(a=t.getRelatedEdges(n,"both"))||void 0===a||a.forEach(a=>{let o=a.source,i=n===o?a.target:o;e.hasNode(i)||void 0===t.getNode(i).data.layer&&e$(t,a)||(e.addNode({id:i,data:{}}),e.addEdge({id:a.id,source:n,target:i,data:{}}),r(i));});};return e.getAllNodes().forEach(e=>r(e.id)),e.getAllNodes().length;},eX=(e,t)=>R(t.getAllEdges(),r=>e.hasNode(r.source)!==e.hasNode(r.target)?e$(t,r):1/0),eQ=(e,t,r)=>{e.getAllNodes().forEach(e=>{let n=t.getNode(e.id);n.data.rank||(n.data.rank=0),n.data.rank+=r;});},eZ=e=>{let t,r;let n=M(e);eV(n);let a=eH(n);for(e7(a),e0(a,n);t=e9(a);)r=e4(a,n,t),e3(a,n,t,r);},e0=(e,t)=>{let r=P(e,e.getAllNodes(),"post",!1);(r=r.slice(0,(null==r?void 0:r.length)-1)).forEach(r=>{e1(e,t,r);});},e1=(e,t,r)=>{let n=e.getNode(r).data.parent;e.getRelatedEdges(r,"both").find(e=>e.target===n||e.source===n).data.cutvalue=e2(e,t,r);},e2=(e,t,r)=>{let n=e.getNode(r).data.parent,a=!0,o=t.getRelatedEdges(r,"out").find(e=>e.target===n),i=0;return o||(a=!1,o=t.getRelatedEdges(n,"out").find(e=>e.target===r)),i=o.data.weight,t.getRelatedEdges(r,"both").forEach(t=>{let o=t.source===r,d=o?t.target:t.source;if(d!==n){let n=o===a,l=t.data.weight;if(i+=n?l:-l,e8(e,r,d)){let t=e.getRelatedEdges(r,"both").find(e=>e.source===d||e.target===d).data.cutvalue;i+=n?-t:t;}}}),i;},e7=(e,t=e.getAllNodes()[0].id)=>{e5(e,{},1,t);},e5=(e,t,r,n,a)=>{var o;let i=r,d=e.getNode(n);return t[n]=!0,null===(o=e.getNeighbors(n))||void 0===o||o.forEach(r=>{t[r.id]||(i=e5(e,t,i,r.id,n));}),d.data.low=r,d.data.lim=i++,a?d.data.parent=a:delete d.data.parent,i;},e9=e=>e.getAllEdges().find(e=>e.data.cutvalue<0),e4=(e,t,r)=>{let n=r.source,a=r.target;t.getRelatedEdges(n,"out").find(e=>e.target===a)||(n=r.target,a=r.source);let o=e.getNode(n),i=e.getNode(a),d=o,l=!1;return o.data.lim>i.data.lim&&(d=i,l=!0),R(t.getAllEdges().filter(t=>l===te(e.getNode(t.source),d)&&l!==te(e.getNode(t.target),d)),e=>e$(t,e));},e3=(e,t,r,n)=>{let a=e.getRelatedEdges(r.source,"both").find(e=>e.source===r.target||e.target===r.target);a&&e.removeEdge(a.id),e.addEdge({id:`e${Math.random()}`,source:n.source,target:n.target,data:{}}),e7(e),e0(e,t),e6(e,t);},e6=(e,t)=>{let r=e.getAllNodes().find(e=>!e.data.parent),n=P(e,r,"pre",!1);(n=n.slice(1)).forEach(r=>{let n=e.getNode(r).data.parent,a=t.getRelatedEdges(r,"out").find(e=>e.target===n),o=!1;!a&&t.hasNode(n)&&(a=t.getRelatedEdges(n,"out").find(e=>e.target===r),o=!0),t.getNode(r).data.rank=(t.hasNode(n)&&t.getNode(n).data.rank||0)+(o?null==a?void 0:a.data.minlen:-(null==a?void 0:a.data.minlen));});},e8=(e,t,r)=>e.getRelatedEdges(t,"both").find(e=>e.source===r||e.target===r),te=(e,t)=>t.data.low<=e.data.lim&&e.data.lim<=t.data.lim,tt=(e,t)=>{switch(t){case"network-simplex":ta(e);break;case"tight-tree":default:tn(e);break;case"longest-path":tr(e);}},tr=eV,tn=e=>{eU(e),eJ(e);},ta=e=>{eZ(e);},to=(e,t)=>{let r;let{edgeLabelSpace:n,keepNodeOrder:a,prevGraph:o,rankdir:i,ranksep:d}=t;!a&&o&&td(e,o);let l=tg(e);n&&(t.ranksep=tv(l,{rankdir:i,ranksep:d}));try{r=ti(l,t);}catch(e){if("Not possible to find intersection inside of the rectangle"===e.message){console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",e);return;}throw e;}return tl(e,l),r;},ti=(e,t)=>{let{acyclicer:r,ranker:n,rankdir:a="tb",nodeOrder:o,keepNodeOrder:i,align:d,nodesep:l=50,edgesep:s=20,ranksep:u=50}=t;t_(e),w(e,r);let{nestingRoot:h,nodeRankFactor:c}=Y(e);tt(k(e),n),tp(e),S(e,c),Q(e,h),L(e),ty(e),tm(e);let f=[];ee(e,f),eO(e,f),T(e),i&&eM(e,o),eE(e,i),tM(e),G(e,a),eW(e,{align:d,nodesep:l,edgesep:s,ranksep:u}),tk(e),tN(e),er(e,f),tE(e),B(e,a);let{width:g,height:v}=tb(e);return tw(e),tx(e),x(e),{width:g,height:v};},td=(e,t)=>{e.getAllNodes().forEach(r=>{let n=e.getNode(r.id);if(t.hasNode(r.id)){let e=t.getNode(r.id);n.data.fixorder=e.data._order,delete e.data._order;}else delete n.data.fixorder;});},tl=(e,t)=>{e.getAllNodes().forEach(r=>{var n;let a=e.getNode(r.id);if(a){let e=t.getNode(r.id);a.data.x=e.data.x,a.data.y=e.data.y,a.data._order=e.data.order,a.data._rank=e.data.rank,(null===(n=t.getChildren(r.id))||void 0===n?void 0:n.length)&&(a.data.width=e.data.width,a.data.height=e.data.height);}}),e.getAllEdges().forEach(r=>{let n=e.getEdge(r.id),a=t.getEdge(r.id);n.data.points=a?a.data.points:[],a&&a.data.hasOwnProperty("x")&&(n.data.x=a.data.x,n.data.y=a.data.y);});},ts=["width","height","layer","fixorder"],tu={width:0,height:0},th=["minlen","weight","width","height","labeloffset"],tc={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},tf=["labelpos"],tg=e=>{let t=new o.Graph({tree:[]});return e.getAllNodes().forEach(r=>{let n=tO(e.getNode(r.id).data),a=tj(Object.assign(Object.assign({},tu),n),ts);t.hasNode(r.id)||t.addNode({id:r.id,data:Object.assign({},a)});let o=e.hasTreeStructure("combo")?e.getParent(r.id,"combo"):e.getParent(r.id);(0,s.default)(o)||(t.hasNode(o.id)||t.addNode(Object.assign({},o)),t.setParent(r.id,o.id));}),e.getAllEdges().forEach(r=>{let n=tO(e.getEdge(r.id).data),a={};null==tf||tf.forEach(e=>{void 0!==n[e]&&(a[e]=n[e]);}),t.addEdge({id:r.id,source:r.source,target:r.target,data:Object.assign({},tc,tj(n,th),a)});}),t;},tv=(e,t)=>{let{ranksep:r=0,rankdir:n}=t;return e.getAllNodes().forEach(e=>{isNaN(e.data.layer)||e.data.layer||(e.data.layer=0);}),e.getAllEdges().forEach(e=>{var t;e.data.minlen*=2,(null===(t=e.data.labelpos)||void 0===t?void 0:t.toLowerCase())!=="c"&&("TB"===n||"BT"===n?e.data.width+=e.data.labeloffset:e.data.height+=e.data.labeloffset);}),r/2;},tp=e=>{e.getAllEdges().forEach(t=>{if(t.data.width&&t.data.height){let r=e.getNode(t.source),n=e.getNode(t.target);_(e,"edge-proxy",{e:t,rank:(n.data.rank-r.data.rank)/2+r.data.rank},"_ep");}});},ty=e=>{let t=0;return e.getAllNodes().forEach(r=>{var n,a;r.data.borderTop&&(r.data.minRank=null===(n=e.getNode(r.data.borderTop))||void 0===n?void 0:n.data.rank,r.data.maxRank=null===(a=e.getNode(r.data.borderBottom))||void 0===a?void 0:a.data.rank,t=Math.max(t,r.data.maxRank||-1/0));}),t;},tm=e=>{e.getAllNodes().forEach(t=>{"edge-proxy"===t.data.dummy&&(e.getEdge(t.data.e.id).data.labelRank=t.data.rank,e.removeNode(t.id));});},tb=(e,t)=>{let r,n;let a=0,o=0,{marginx:i=0,marginy:d=0}=t||{},l=e=>{if(!e.data)return;let t=e.data.x,i=e.data.y,d=e.data.width,l=e.data.height;isNaN(t)||isNaN(d)||(void 0===r&&(r=t-d/2),r=Math.min(r,t-d/2),a=Math.max(a,t+d/2)),isNaN(i)||isNaN(l)||(void 0===n&&(n=i-l/2),n=Math.min(n,i-l/2),o=Math.max(o,i+l/2));};return e.getAllNodes().forEach(e=>{l(e);}),e.getAllEdges().forEach(e=>{(null==e?void 0:e.data.hasOwnProperty("x"))&&l(e);}),r-=i,n-=d,e.getAllNodes().forEach(e=>{e.data.x-=r,e.data.y-=n;}),e.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(e=>{e.x-=r,e.y-=n;}),e.data.hasOwnProperty("x")&&(e.data.x-=r),e.data.hasOwnProperty("y")&&(e.data.y-=n);}),{width:a-r+i,height:o-n+d};},tw=e=>{e.getAllEdges().forEach(t=>{let r,n;let a=e.getNode(t.source),o=e.getNode(t.target);t.data.points?(r=t.data.points[0],n=t.data.points[t.data.points.length-1]):(t.data.points=[],r={x:o.data.x,y:o.data.y},n={x:a.data.x,y:a.data.y}),t.data.points.unshift(O(a.data,r)),t.data.points.push(O(o.data,n));});},tE=e=>{e.getAllEdges().forEach(e=>{if(e.data.hasOwnProperty("x"))switch(("l"===e.data.labelpos||"r"===e.data.labelpos)&&(e.data.width-=e.data.labeloffset),e.data.labelpos){case"l":e.data.x-=e.data.width/2+e.data.labeloffset;break;case"r":e.data.x+=e.data.width/2+e.data.labeloffset;}});},tx=e=>{e.getAllEdges().forEach(e=>{var t;e.data.reversed&&(null===(t=e.data.points)||void 0===t||t.reverse());});},tN=e=>{e.getAllNodes().forEach(t=>{var r,n,a;if(null===(r=e.getChildren(t.id))||void 0===r?void 0:r.length){let r=e.getNode(t.id),o=e.getNode(r.data.borderTop),i=e.getNode(r.data.borderBottom),d=e.getNode(r.data.borderLeft[(null===(n=r.data.borderLeft)||void 0===n?void 0:n.length)-1]),l=e.getNode(r.data.borderRight[(null===(a=r.data.borderRight)||void 0===a?void 0:a.length)-1]);r.data.width=Math.abs((null==l?void 0:l.data.x)-(null==d?void 0:d.data.x))||10,r.data.height=Math.abs((null==i?void 0:i.data.y)-(null==o?void 0:o.data.y))||10,r.data.x=((null==d?void 0:d.data.x)||0)+r.data.width/2,r.data.y=((null==o?void 0:o.data.y)||0)+r.data.height/2;}}),e.getAllNodes().forEach(t=>{"border"===t.data.dummy&&e.removeNode(t.id);});},t_=e=>{e.getAllEdges().forEach(t=>{if(t.source===t.target){let r=e.getNode(t.source);r.data.selfEdges||(r.data.selfEdges=[]),r.data.selfEdges.push(t),e.removeEdge(t.id);}});},tM=e=>{let t=A(e);null==t||t.forEach(t=>{let r=0;null==t||t.forEach((t,n)=>{var a;let o=e.getNode(t);o.data.order=n+r,null===(a=o.data.selfEdges)||void 0===a||a.forEach(t=>{_(e,"selfedge",{width:t.data.width,height:t.data.height,rank:o.data.rank,order:n+ ++r,e:t},"_se");}),delete o.data.selfEdges;});});},tk=e=>{e.getAllNodes().forEach(t=>{let r=e.getNode(t.id);if("selfedge"===r.data.dummy){let n=e.getNode(r.data.e.source),a=n.data.x+n.data.width/2,o=n.data.y,i=r.data.x-a,d=n.data.height/2;e.hasEdge(r.data.e.id)?e.updateEdgeData(r.data.e.id,r.data.e.data):e.addEdge({id:r.data.e.id,source:r.data.e.source,target:r.data.e.target,data:r.data.e.data}),e.removeNode(t.id),r.data.e.data.points=[{x:a+2*i/3,y:o-d},{x:a+5*i/6,y:o-d},{y:o,x:a+i},{x:a+5*i/6,y:o+d},{x:a+2*i/3,y:o+d}],r.data.e.data.x=r.data.x,r.data.e.data.y=r.data.y;}});},tj=(e,t)=>{let r={};return null==t||t.forEach(t=>{void 0!==e[t]&&(r[t]=+e[t]);}),r;},tO=(e={})=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r];}),t;};var tA=r("a30e9cfb"),tL=r("db502ba9"),tS=r("d29a8637");let tI={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null};class tz{constructor(e={}){this.options=e,this.id="antv-dagre",this.options=Object.assign(Object.assign({},tI),e);}execute(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,t);});}assign(e,t){return(0,a.__awaiter)(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,t);});}genericDagreLayout(e,t,r){return(0,a.__awaiter)(this,void 0,void 0,function*(){let n;let{nodeSize:a,align:i,rankdir:l="TB",ranksep:s,nodesep:u,ranksepFunc:h,nodesepFunc:c,edgeLabelSpace:f,ranker:g,nodeOrder:v,begin:p,controlPoints:y,radial:m,sortByCombo:b,preset:w}=Object.assign(Object.assign({},this.options),r),E=new o.Graph({tree:[]}),x=(0,tL.formatNumberFn)(s||50,h),N=(0,tL.formatNumberFn)(u||50,c),_=N,M=x;("LR"===l||"RL"===l)&&(_=x,M=N);let k=(0,tL.formatSizeFn)(10,a,!1),j=t.getAllNodes(),O=t.getAllEdges();j.forEach(e=>{let t=(0,tS.parseSize)(k(e)),r=M(e),n=_(e),a=t[0]+2*n,o=t[1]+2*r,i=e.data.layer;(0,d.default)(i)?E.addNode({id:e.id,data:{width:a,height:o,layer:i}}):E.addNode({id:e.id,data:{width:a,height:o}});}),b&&(E.attachTreeStructure("combo"),j.forEach(e=>{let{parentId:t}=e.data;void 0!==t&&E.hasNode(t)&&E.setParent(e.id,t,"combo");})),O.forEach(e=>{E.addEdge({id:e.id,source:e.source,target:e.target,data:{weight:e.data.weight||1}});}),(null==w?void 0:w.length)&&(n=new o.Graph({nodes:w})),to(E,{prevGraph:n,edgeLabelSpace:f,keepNodeOrder:!!v,nodeOrder:v||[],acyclicer:"greedy",ranker:g,rankdir:l,nodesep:u,align:i});let A=[0,0];if(p){let e=1/0,t=1/0;E.getAllNodes().forEach(r=>{e>r.data.x&&(e=r.data.x),t>r.data.y&&(t=r.data.y);}),E.getAllEdges().forEach(r=>{var n;null===(n=r.data.points)||void 0===n||n.forEach(r=>{e>r.x&&(e=r.x),t>r.y&&(t=r.y);});}),A[0]=p[0]-e,A[1]=p[1]-t;}let L="LR"===l||"RL"===l;if(m);else{let e=new Set,t="BT"===l||"RL"===l;E.getAllNodes().forEach(t=>{t.data.x=t.data.x+A[0],t.data.y=t.data.y+A[1],e.add(L?t.data.x:t.data.y);});let r=Array.from(e).sort(t?(e,t)=>t-e:(e,t)=>e-t),n=L?(e,t)=>e.x!==t.x:(e,t)=>e.y!==t.y,a=L?(e,t,r)=>{let n=Math.max(t.y,r.y),a=Math.min(t.y,r.y);return e.filter(e=>e.y<=n&&e.y>=a);}:(e,t,r)=>{let n=Math.max(t.x,r.x),a=Math.min(t.x,r.x);return e.filter(e=>e.x<=n&&e.x>=a);};E.getAllEdges().forEach((e,t)=>{var o;f&&y&&"loop"!==e.data.type&&(e.data.controlPoints=tD(null===(o=e.data.points)||void 0===o?void 0:o.map(({x:e,y:t})=>({x:e+A[0],y:t+A[1]})),E.getNode(e.source),E.getNode(e.target),r,L,n,a));});}let S=[];S=E.getAllNodes().map(e=>(0,tA.cloneFormatData)(e));let I=E.getAllEdges();return e&&(S.forEach(e=>{t.mergeNodeData(e.id,{x:e.data.x,y:e.data.y});}),I.forEach(e=>{t.mergeEdgeData(e.id,{controlPoints:e.data.controlPoints});})),{nodes:S,edges:I};});}}let tD=(e,t,r,n,a,o,i)=>{let d=(null==e?void 0:e.slice(1,e.length-1))||[];if(t&&r){let{x:e,y:l}=t.data,{x:s,y:u}=r.data;if(a&&(e=t.data.y,l=t.data.x,s=r.data.y,u=r.data.x),u!==l&&e!==s){let h=n.indexOf(l),c=n[h+1];if(c){let e=d[0],t=a?{x:(l+c)/2,y:(null==e?void 0:e.y)||s}:{x:(null==e?void 0:e.x)||s,y:(l+c)/2};(!e||o(e,t))&&d.unshift(t);}let f=n.indexOf(u),g=Math.abs(f-h);if(1===g)(d=i(d,t.data,r.data)).length||d.push(a?{x:(l+u)/2,y:e}:{x:e,y:(l+u)/2});else if(g>1){let t=n[f-1];if(t){let r=d[d.length-1],n=a?{x:(u+t)/2,y:(null==r?void 0:r.y)||s}:{x:(null==r?void 0:r.x)||e,y:(u+t)/2};(!r||o(r,n))&&d.push(n);}}}}return d;};},fed9bbe4:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r("06479f71"),r("87b4c75f");}}]);
