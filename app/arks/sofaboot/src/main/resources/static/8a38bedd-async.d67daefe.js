(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["8a38bedd"],{"2f669087":function(e,t,n){"use strict";n.d(t,"__esModule",{value:!0}),n.d(t,"findSectionHeaders",{enumerable:!0,get:function(){return r;}});let i=RegExp("\\bMARK:\\s*(.*)$","d"),s=/^-+|-+$/g;function r(e,t){var n;let s=[];if(t.findRegionSectionHeaders&&(null===(n=t.foldingRules)||void 0===n?void 0:n.markers)){let n=function(e,t){let n=[],i=e.getLineCount();for(let s=1;s<=i;s++){let i=e.getLineContent(s),r=i.match(t.foldingRules.markers.start);if(r){let e={startLineNumber:s,startColumn:r[0].length+1,endLineNumber:s,endColumn:i.length+1};if(e.endColumn>e.startColumn){let t={range:e,...o(i.substring(r[0].length)),shouldBeInComments:!1};(t.text||t.hasSeparatorLine)&&n.push(t);}}}return n;}(e,t);s=s.concat(n);}if(t.findMarkSectionHeaders){let t=function(e){let t=[],n=e.getLineCount();for(let s=1;s<=n;s++)!function(e,t,n){i.lastIndex=0;let s=i.exec(e);if(s){let e={startLineNumber:t,startColumn:s.indices[1][0]+1,endLineNumber:t,endColumn:s.indices[1][1]+1};if(e.endColumn>e.startColumn){let t={range:e,...o(s[1]),shouldBeInComments:!0};(t.text||t.hasSeparatorLine)&&n.push(t);}}}(e.getLineContent(s),s,t);return t;}(e);s=s.concat(t);}return s;}function o(e){let t=(e=e.trim()).startsWith("-");return{text:e=e.replace(s,""),hasSeparatorLine:t};}},"8a38bedd":function(e,t,n){"use strict";var i=n("852bbaa9")._;n.d(t,"__esModule",{value:!0}),n.e(t,{BaseEditorSimpleWorker:function(){return C;},EditorSimpleWorker:function(){return p;},create:function(){return M;}});var s=n("bc8d7448"),r=n("e7e5ddb3"),o=n("77b7f41b"),l=n("1571367e"),a=n("9546ac13"),u=n("ad681e85"),d=n("828912ae"),c=n("b3417208"),h=n("be57ca78"),g=n("aca47fe0"),m=n("b1fc2372"),f=n("d408f0fe"),_=n("2f669087"),b=n("dc152a6d");class C{constructor(){this._workerTextModelSyncServer=new b.WorkerTextModelSyncServer;}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e);}_getModels(){return this._workerTextModelSyncServer.getModels();}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e);}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t);}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e);}async $computeUnicodeHighlights(e,t,n){let i=this._getModel(e);return i?c.UnicodeTextModelHighlighter.computeUnicodeHighlights(i,t,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};}async $findSectionHeaders(e,t){let n=this._getModel(e);return n?(0,_.findSectionHeaders)(n,t):[];}async $computeDiff(e,t,n,i){let s=this._getModel(e),r=this._getModel(t);return s&&r?p.computeDiff(s,r,n,i):null;}static computeDiff(e,t,n,i){let s="advanced"===i?h.linesDiffComputers.getDefault():h.linesDiffComputers.getLegacy(),r=e.getLinesContent(),o=t.getLinesContent(),l=s.computeDiff(r,o,n);function a(e){return e.map(e=>{var t;return[e.original.startLineNumber,e.original.endLineNumberExclusive,e.modified.startLineNumber,e.modified.endLineNumberExclusive,null===(t=e.innerChanges)||void 0===t?void 0:t.map(e=>[e.originalRange.startLineNumber,e.originalRange.startColumn,e.originalRange.endLineNumber,e.originalRange.endColumn,e.modifiedRange.startLineNumber,e.modifiedRange.startColumn,e.modifiedRange.endLineNumber,e.modifiedRange.endColumn])];});}return{identical:!(l.changes.length>0)&&this._modelsAreIdentical(e,t),quitEarly:l.hitTimeout,changes:a(l.changes),moves:l.moves.map(e=>[e.lineRangeMapping.original.startLineNumber,e.lineRangeMapping.original.endLineNumberExclusive,e.lineRangeMapping.modified.startLineNumber,e.lineRangeMapping.modified.endLineNumberExclusive,a(e.changes)])};}static _modelsAreIdentical(e,t){let n=e.getLineCount();if(n!==t.getLineCount())return!1;for(let i=1;i<=n;i++)if(e.getLineContent(i)!==t.getLineContent(i))return!1;return!0;}static #e=this._diffLimit=1e5;async $computeMoreMinimalEdits(e,t,n){let i;let o=this._getModel(e);if(!o)return t;let l=[];t=t.slice(0).sort((e,t)=>e.range&&t.range?r.Range.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1));let a=0;for(let e=1;e<t.length;e++)r.Range.getEndPosition(t[a].range).equals(r.Range.getStartPosition(t[e].range))?(t[a].range=r.Range.fromPositions(r.Range.getStartPosition(t[a].range),r.Range.getEndPosition(t[e].range)),t[a].text+=t[e].text):t[++a]=t[e];for(let{range:e,text:u,eol:d}of(t.length=a+1,t)){if("number"==typeof d&&(i=d),r.Range.isEmpty(e)&&!u)continue;let t=o.getValueInRange(e);if(t===(u=u.replace(/\r\n|\n|\r/g,o.eol)))continue;if(Math.max(u.length,t.length)>p._diffLimit){l.push({range:e,text:u});continue;}let a=(0,s.stringDiff)(t,u,n),c=o.offsetAt(r.Range.lift(e).getStartPosition());for(let e of a){let t=o.positionAt(c+e.originalStart),n=o.positionAt(c+e.originalStart+e.originalLength),i={text:u.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}};o.getValueInRange(i.range)!==i.text&&l.push(i);}}return"number"==typeof i&&l.push({eol:i,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),l;}async $computeLinks(e){let t=this._getModel(e);return t?(0,o.computeLinks)(t):null;}async $computeDefaultDocumentColors(e){let t=this._getModel(e);return t?(0,f.computeDefaultDocumentColors)(t):null;}static #t=this._suggestionsLimit=1e4;async $textualSuggest(e,t,n,i){let s=new d.StopWatch,r=new RegExp(n,i),o=new Set;e:for(let n of e){let e=this._getModel(n);if(e){for(let n of e.words(r))if(n!==t&&isNaN(Number(n))&&(o.add(n),o.size>p._suggestionsLimit))break e;}}return{words:Array.from(o),duration:s.elapsed()};}async $computeWordRanges(e,t,n,i){let s=this._getModel(e);if(!s)return Object.create(null);let r=new RegExp(n,i),o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++)for(let t of s.getLineWords(e,r)){if(!isNaN(Number(t.word)))continue;let n=o[t.word];n||(n=[],o[t.word]=n),n.push({startLineNumber:e,startColumn:t.startColumn,endLineNumber:e,endColumn:t.endColumn});}return o;}async $navigateValueSet(e,t,n,i,s){let r=this._getModel(e);if(!r)return null;let o=new RegExp(i,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=r.getValueInRange(t),u=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},o);if(!u)return null;let d=r.getValueInRange(u);return l.BasicInplaceReplace.INSTANCE.navigateValueSet(t,a,u,d,n);}}class p extends C{constructor(e,t){super(),this._host=e,this._foreignModuleFactory=t,this._foreignModule=null;}async $ping(){return"pong";}$loadForeignModule(e,t,s){let r={host:(0,g.createProxyObject)(s,(e,t)=>this._host.$fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(r,t),Promise.resolve((0,g.getAllMethodNames)(this._foreignModule))):new Promise((s,o)=>{{let l=m.FileAccess.asBrowserUri(`${e}.js`).toString(!0);Promise.all([n.ensure("41520e5d")]).then(n.dr(i,n.bind(n,"41520e5d"))).then(e=>e.default(`./${l}`)).then(e=>{this._foreignModule=e.create(r,t),s((0,g.getAllMethodNames)(this._foreignModule));}).catch(o);}});}$fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t));}catch(e){return Promise.reject(e);}}}function M(e){return new p(u.EditorWorkerHost.getChannel(e),null);}"function"==typeof importScripts&&(globalThis.monaco=(0,a.createMonacoBaseAPI)());},"9546ac13":function(e,t,n){"use strict";n.d(t,"__esModule",{value:!0}),n.e(t,{KeyMod:function(){return g;},createMonacoBaseAPI:function(){return m;}});var i=n("852bbaa9"),s=n("d2d60730"),r=n("e793196d"),o=n("7fa5ee2d"),l=n("f2d5d1a7"),a=n("47118010"),u=n("e7e5ddb3"),d=n("6df51a13"),c=n("755c7d16"),h=i._(n("c7cf752f"));class g{static #e=this.CtrlCmd=2048;static #t=this.Shift=1024;static #n=this.Alt=512;static #i=this.WinCtrl=256;static chord(e,t){return(0,o.KeyChord)(e,t);}}function m(){return{editor:void 0,languages:void 0,CancellationTokenSource:s.CancellationTokenSource,Emitter:r.Emitter,KeyCode:h.KeyCode,KeyMod:g,Position:a.Position,Range:u.Range,Selection:d.Selection,SelectionDirection:h.SelectionDirection,MarkerSeverity:h.MarkerSeverity,MarkerTag:h.MarkerTag,Uri:l.URI,Token:c.Token};}},ad681e85:function(e,t,n){"use strict";n.d(t,"__esModule",{value:!0}),n.d(t,"EditorWorkerHost",{enumerable:!0,get:function(){return i;}});class i{static #e=this.CHANNEL_NAME="editorWorkerHost";static getChannel(e){return e.getChannel(i.CHANNEL_NAME);}static setChannel(e,t){e.setChannel(i.CHANNEL_NAME,t);}}},b3417208:function(e,t,n){"use strict";n.d(t,"__esModule",{value:!0}),n.d(t,"UnicodeTextModelHighlighter",{enumerable:!0,get:function(){return u;}});var i=n("852bbaa9"),s=n("e7e5ddb3"),r=n("64b17507"),o=i._(n("246b9c8c")),l=n("cac3a6eb"),a=n("4af8c435");class u{static computeUnicodeHighlights(e,t,n){var i;let u,c;let h=n?n.startLineNumber:1,g=n?n.endLineNumber:e.getLineCount(),m=new d(t),f=m.getCandidateCodePoints();u="allNonBasicAscii"===f?RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):RegExp(`${(i=Array.from(f),`[${o.escapeRegExpCharacters(i.map(e=>String.fromCodePoint(e)).join(""))}]`)}`,"g");let _=new r.Searcher(null,u),b=[],C=!1,p=0,M=0,L=0;t:for(let t=h;t<=g;t++){let n=e.getLineContent(t),i=n.length;_.reset(0);do if(c=_.next(n)){let e=c.index,r=c.index+c[0].length;if(e>0){let t=n.charCodeAt(e-1);o.isHighSurrogate(t)&&e--;}if(r+1<i){let e=n.charCodeAt(r-1);o.isHighSurrogate(e)&&r++;}let u=n.substring(e,r),d=(0,a.getWordAtText)(e+1,a.DEFAULT_WORD_REGEXP,n,0);d&&d.endColumn<=e+1&&(d=null);let h=m.shouldHighlightNonBasicASCII(u,d?d.word:null);if(0!==h){if(3===h?p++:2===h?M++:1===h?L++:(0,l.assertNever)(h),b.length>=1e3){C=!0;break t;}b.push(new s.Range(t,e+1,t,r+1));}}while(c)}return{ranges:b,hasMore:C,ambiguousCharacterCount:p,invisibleCharacterCount:M,nonBasicAsciiCharacterCount:L};}static computeUnicodeHighlightReason(e,t){let n=new d(t);switch(n.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{let i=e.codePointAt(0),s=n.ambiguousCharacters.getPrimaryConfusable(i),r=o.AmbiguousCharacters.getLocales().filter(e=>!o.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(i));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:r};}case 1:return{kind:2};}}}class d{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=o.AmbiguousCharacters.getInstance(new Set(e.allowedLocales));}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of o.InvisibleCharacters.codePoints)c(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(let t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e;}shouldHighlightNonBasicASCII(e,t){let n=e.codePointAt(0);if(this.allowedCodePoints.has(n))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,s=!1;if(t)for(let e of t){let t=e.codePointAt(0),n=o.isBasicASCII(e);i=i||n,n||this.ambiguousCharacters.isAmbiguous(t)||o.InvisibleCharacters.isInvisibleCharacter(t)||(s=!0);}return!i&&s?0:this.options.invisibleCharacters&&!c(e)&&o.InvisibleCharacters.isInvisibleCharacter(n)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(n)?3:0;}}function c(e){return" "===e||"\n"===e||"	"===e;}},dc152a6d:function(e,t,n){n.d(t,"__esModule",{value:!0}),n.e(t,{MirrorModel:function(){return f;},STOP_SYNC_MODEL_DELTA_TIME_MS:function(){return h;},WorkerTextModelSyncClient:function(){return g;},WorkerTextModelSyncServer:function(){return m;}});var i=n("6cfd0562"),s=n("77b755a9"),r=n("f2d5d1a7"),o=n("47118010"),l=n("e7e5ddb3"),a=n("4af8c435"),u=n("246b9c8c"),d=n("3c19877b");class c{constructor(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null;}dispose(){this._lines.length=0;}get version(){return this._versionId;}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue;}onEvents(e){for(let t of(e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null),e.changes))this._acceptDeleteRange(t.range),this._acceptInsertText(new o.Position(t.range.startLineNumber,t.range.startColumn),t.text);this._versionId=e.versionId,this._cachedTextValue=null;}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new d.PrefixSumComputer(n);}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length);}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return;}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);}_acceptInsertText(e,t){if(0===t.length)return;let n=(0,u.splitLines)(t);if(1===n.length){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));return;}n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);let i=new Uint32Array(n.length-1);for(let t=1;t<n.length;t++)this._lines.splice(e.lineNumber+t-1,0,n[t]),i[t-1]=n[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i);}}let h=6e4;class g extends s.Disposable{constructor(e,t,n=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new i.IntervalTimer;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(h/2)),this._register(e);}}dispose(){for(let e in this._syncedModels)(0,s.dispose)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose();}ensureSyncedResources(e,t=!1){for(let n of e){let e=n.toString();this._syncedModels[e]||this._beginModelSync(n,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=new Date().getTime());}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let n in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[n]>h&&t.push(n);for(let e of t)this._stopModelSync(e);}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n||!t&&n.isTooLargeForSyncing())return;let i=e.toString();this._proxy.$acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});let r=new s.DisposableStore;r.add(n.onDidChangeContent(e=>{this._proxy.$acceptModelChanged(i.toString(),e);})),r.add(n.onWillDispose(()=>{this._stopModelSync(i);})),r.add((0,s.toDisposable)(()=>{this._proxy.$acceptRemovedModel(i);})),this._syncedModels[i]=r;}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,s.dispose)(t);}}class m{constructor(){this._models=Object.create(null);}getModel(e){return this._models[e];}getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e;}$acceptNewModel(e){this._models[e.url]=new f(r.URI.parse(e.url),e.lines,e.EOL,e.versionId);}$acceptModelChanged(e,t){this._models[e]&&this._models[e].onEvents(t);}$acceptRemovedModel(e){this._models[e]&&delete this._models[e];}}class f extends c{get uri(){return this._uri;}get eol(){return this._eol;}getValue(){return this.getText();}findMatches(e){let t=[];for(let n=0;n<this._lines.length;n++){let i=this._lines[n],s=this.offsetAt(new o.Position(n+1,1));for(let n of i.matchAll(e))(n.index||0===n.index)&&(n.index=n.index+s),t.push(n);}return t;}getLinesContent(){return this._lines.slice(0);}getLineCount(){return this._lines.length;}getLineContent(e){return this._lines[e-1];}getWordAtPosition(e,t){let n=(0,a.getWordAtText)(e.column,(0,a.ensureValidWordDefinition)(t),this._lines[e.lineNumber-1],0);return n?new l.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null;}words(e){let t=this._lines,n=this._wordenize.bind(this),i=0,s="",r=0,o=[];return{*[Symbol.iterator](){for(;;)if(r<o.length){let e=s.substring(o[r].start,o[r].end);r+=1,yield e;}else if(i<t.length)o=n(s=t[i],e),r=0,i+=1;else break;}};}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),s=[];for(let e of i)s.push({word:n.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return s;}_wordenize(e,t){let n;let i=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i;}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,s=[];s.push(this._lines[n].substring(e.startColumn-1));for(let e=n+1;e<i;e++)s.push(this._lines[e]);return s.push(this._lines[i].substring(0,e.endColumn-1)),s.join(t);}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1);}positionAt(e){e=Math.max(0,e=Math.floor(e)),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)};}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e;}_validatePosition(e){if(!o.Position.isIPosition(e))throw Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0);}return i?{lineNumber:t,column:n}:e;}}}}]);
