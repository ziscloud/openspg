(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_open-semantic-graph"]||[]).push([["78d71d5f"],{"5a32b715":function(e,i,t){"use strict";t.d(i,"__esModule",{value:!0}),t.d(i,"ILanguageFeaturesService",{enumerable:!0,get:function(){return s;}});let s=(0,t("2aa5bed3").createDecorator)("ILanguageFeaturesService");},"78d71d5f":function(e,i,t){t.d(i,"__esModule",{value:!0}),t.e(i,{LanguageFeaturesService:function(){return u;}});var s=t("e793196d"),r=t("77b755a9"),o=t("fb87d58a"),n=t("98fbbb62");class h{constructor(e,i,t,s,r){this.uri=e,this.languageId=i,this.notebookUri=t,this.notebookType=s,this.recursive=r;}equals(e){var i,t;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(i=this.notebookUri)||void 0===i?void 0:i.toString())===(null===(t=e.notebookUri)||void 0===t?void 0:t.toString())&&this.recursive===e.recursive;}}class d{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new s.Emitter,this.onDidChange=this._onDidChange.event;}register(e,i){let t={selector:e,provider:i,_score:-1,_time:this._clock++};return this._entries.push(t),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,r.toDisposable)(()=>{if(t){let e=this._entries.indexOf(t);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),t=void 0);}});}has(e){return this.all(e).length>0;}all(e){if(!e)return[];this._updateScores(e,!1);let i=[];for(let e of this._entries)e._score>0&&i.push(e.provider);return i;}ordered(e,i=!1){let t=[];return this._orderedForEach(e,i,e=>t.push(e.provider)),t;}orderedGroups(e){let i,t;let s=[];return this._orderedForEach(e,!1,e=>{i&&t===e._score?i.push(e.provider):(t=e._score,i=[e.provider],s.push(i));}),s;}_orderedForEach(e,i,t){for(let s of(this._updateScores(e,i),this._entries))s._score>0&&t(s);}_updateScores(e,i){var t,s;let r=null===(t=this._notebookInfoResolver)||void 0===t?void 0:t.call(this,e.uri),c=r?new h(e.uri,e.getLanguageId(),r.uri,r.type,i):new h(e.uri,e.getLanguageId(),void 0,void 0,i);if(null===(s=this._lastCandidate)||void 0===s||!s.equals(c)){for(let t of(this._lastCandidate=c,this._entries))if(t._score=(0,n.score)(t.selector,c.uri,c.languageId,(0,o.shouldSynchronizeModel)(e),c.notebookUri,c.notebookType),function e(i){return"string"!=typeof i&&(Array.isArray(i)?i.every(e):!!i.exclusive);}(t.selector)&&t._score>0){if(i)t._score=0;else{for(let e of this._entries)e._score=0;t._score=1e3;break;}}this._entries.sort(d._compareByScoreAndTime);}}static _compareByScoreAndTime(e,i){return e._score<i._score?1:e._score>i._score?-1:c(e.selector)&&!c(i.selector)?1:!c(e.selector)&&c(i.selector)?-1:e._time<i._time?1:e._time>i._time?-1:0;}}function c(e){return"string"!=typeof e&&(Array.isArray(e)?e.some(c):!!e.isBuiltin);}var a=t("5a32b715"),l=t("ad8563a1");class u{constructor(){this.referenceProvider=new d(this._score.bind(this)),this.renameProvider=new d(this._score.bind(this)),this.newSymbolNamesProvider=new d(this._score.bind(this)),this.codeActionProvider=new d(this._score.bind(this)),this.definitionProvider=new d(this._score.bind(this)),this.typeDefinitionProvider=new d(this._score.bind(this)),this.declarationProvider=new d(this._score.bind(this)),this.implementationProvider=new d(this._score.bind(this)),this.documentSymbolProvider=new d(this._score.bind(this)),this.inlayHintsProvider=new d(this._score.bind(this)),this.colorProvider=new d(this._score.bind(this)),this.codeLensProvider=new d(this._score.bind(this)),this.documentFormattingEditProvider=new d(this._score.bind(this)),this.documentRangeFormattingEditProvider=new d(this._score.bind(this)),this.onTypeFormattingEditProvider=new d(this._score.bind(this)),this.signatureHelpProvider=new d(this._score.bind(this)),this.hoverProvider=new d(this._score.bind(this)),this.documentHighlightProvider=new d(this._score.bind(this)),this.multiDocumentHighlightProvider=new d(this._score.bind(this)),this.selectionRangeProvider=new d(this._score.bind(this)),this.foldingRangeProvider=new d(this._score.bind(this)),this.linkProvider=new d(this._score.bind(this)),this.inlineCompletionsProvider=new d(this._score.bind(this)),this.inlineEditProvider=new d(this._score.bind(this)),this.completionProvider=new d(this._score.bind(this)),this.linkedEditingRangeProvider=new d(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new d(this._score.bind(this)),this.documentSemanticTokensProvider=new d(this._score.bind(this)),this.documentDropEditProvider=new d(this._score.bind(this)),this.documentPasteEditProvider=new d(this._score.bind(this));}_score(e){var i;return null===(i=this._notebookTypeResolver)||void 0===i?void 0:i.call(this,e);}}(0,l.registerSingleton)(a.ILanguageFeaturesService,u,1);}}]);
