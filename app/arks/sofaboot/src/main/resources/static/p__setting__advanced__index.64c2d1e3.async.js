"use strict";(self.webpackChunkcognik_web_app=self.webpackChunkcognik_web_app||[]).push([[9638],{65496:function(y,i,e){var o=e(55443),t=e(75271),n=e(22800),s=e(58720),d=function(c,p){return t.createElement(s.Z,(0,o.Z)((0,o.Z)({},c),{},{ref:p,icon:n.Z}))},m=t.forwardRef(d);i.Z=m},91592:function(y,i,e){var o=e(55443),t=e(38334),n=e(75271),s=e(20451),d=e(52676),m=["fieldProps","min","proFieldProps","max"],f=function(v,u){var P=v.fieldProps,_=v.min,h=v.proFieldProps,l=v.max,a=(0,t.Z)(v,m);return(0,d.jsx)(s.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:_,max:l},P),ref:u,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},a))},c=n.forwardRef(f);i.Z=c},29808:function(y,i,e){var o=e(55443),t=e(38334),n=e(86757),s=e(75271),d=e(5594),m=e(20451),f=e(52676),c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],v=function(a,O){var C=a.fieldProps,M=a.children,I=a.params,b=a.proFieldProps,j=a.mode,F=a.valueEnum,Z=a.request,D=a.showSearch,A=a.options,T=(0,t.Z)(a,c),U=(0,s.useContext)(d.Z);return(0,f.jsx)(m.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,n.h)(F),request:Z,params:I,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:A,mode:j,showSearch:D,getPopupContainer:U.getPopupContainer},C),ref:O,proFieldProps:b},T),{},{children:M}))},u=s.forwardRef(function(l,a){var O=l.fieldProps,C=l.children,M=l.params,I=l.proFieldProps,b=l.mode,j=l.valueEnum,F=l.request,Z=l.options,D=(0,t.Z)(l,p),A=(0,o.Z)({options:Z,mode:b||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},O),T=(0,s.useContext)(d.Z);return(0,f.jsx)(m.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,n.h)(j),request:F,params:M,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({getPopupContainer:T.getPopupContainer},A),ref:a,proFieldProps:I},D),{},{children:C}))}),P=s.forwardRef(v),_=u,h=P;h.SearchSelect=_,h.displayName="ProFormComponent",i.Z=h},75529:function(y,i,e){var o=e(55443),t=e(38334),n=e(75271),s=e(20451),d=e(52676),m=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],f=n.forwardRef(function(c,p){var v=c.fieldProps,u=c.unCheckedChildren,P=c.checkedChildren,_=c.proFieldProps,h=(0,t.Z)(c,m);return(0,d.jsx)(s.Z,(0,o.Z)({valueType:"switch",fieldProps:(0,o.Z)({unCheckedChildren:u,checkedChildren:P},v),ref:p,valuePropName:"checked",proFieldProps:_,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},h))});i.Z=f},5813:function(y,i,e){e.d(i,{$:function(){return c},q:function(){return v}});var o=e(90228),t=e.n(o),n=e(26068),s=e.n(n),d=e(87999),m=e.n(d),f=e(86487);function c(P,_){return p.apply(this,arguments)}function p(){return p=m()(t()().mark(function P(_,h){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,f.request)("/api/v1/projects",s()({method:"POST",data:_},h||{})));case 1:case"end":return a.stop()}},P)})),p.apply(this,arguments)}function v(P,_){return u.apply(this,arguments)}function u(){return u=m()(t()().mark(function P(_,h){var l,a;return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return l=_.configId,a=_.version,C.abrupt("return",(0,f.request)("/api/v1/configs/".concat(l,"/version/").concat(a),s()({method:"GET"},h||{})).then(function(M){return{data:s()({},M.result)}}));case 3:case"end":return C.stop()}},P)})),u.apply(this,arguments)}},46163:function(y,i,e){e.r(i),e.d(i,{default:function(){return Q}});var o=e(90228),t=e.n(o),n=e(87999),s=e.n(n),d=e(48305),m=e.n(d),f=e(5813),c=e(65496),p=e(27318),v=e(29808),u=e(14378),P=e(27054),_=e(91592),h=e(75529),l=e(78057),a=e(5507),O=e(5653),C=e(67709),M=e(41045),I=e(32258),b=e(91121),j=e(68658),F=e(69230),Z=e(32917),D=e(75271),A=e(82092),T=e.n(A),U=e(26551),z=(0,U.kc)(function(N){var W=N.token;return{main:{".ant-descriptions-row > td":{paddingBottom:"8px"},".ant-page-header-heading-extra":{flexDirection:"column"}},headerList:{marginBottom:"4px",".ant-descriptions-row > td":{paddingBottom:"8px"}},stepDescription:T()({position:"relative",left:"38px",paddingTop:"8px",fontSize:"14px",textAlign:"left","> div":{marginTop:"8px",marginBottom:"4px"}},"@media screen and (max-width: ".concat(W.screenSM,"px)"),{left:"8px"}),pageHeader:T()({".ant-page-header-heading-extra > * + *":{marginLeft:"8px"}},"@media screen and (max-width: ".concat(W.screenSM,"px)"),{".ant-pro-page-header-wrap-row":{flexDirection:"column"}}),moreInfo:{display:"flex",justifyContent:"space-between",width:"200px"}}}),J=z,r=e(52676),H=function(){var W=J(),oe=W.styles,X=(0,D.useState)(!0),w=m()(X,2),k=w[0],q=w[1],ee=(0,D.useState)(),V=m()(ee,2),S=V[0],re=V[1],ne=(0,D.useState)(null),Y=m()(ne,2),te=Y[0],K=Y[1];(0,D.useEffect)(function(){(0,f.q)({configId:"KAG_CONFIG",version:"1"}).then(function(x){var g;if(x!=null&&(g=x.data)!==null&&g!==void 0&&g.config){var E;re((0,Z.V)(x==null||(E=x.data)===null||E===void 0?void 0:E.config))}q(!1)})},[]);var $=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A.Group,{children:(0,r.jsx)(v.Z,{width:"md",name:"type",label:"\u6A21\u578B\u7C7B\u578B",valueEnum:{vllm:"vllm",maas:"maas",ollama:"ollama"},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B\u7C7B\u578B"}]})}),(0,r.jsxs)(p.A.Group,{children:[(0,r.jsx)(u.Z,{width:"md",name:"model",label:"\u6A21\u578B\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u578B\u540D\u79F0"}]}),(0,r.jsx)(u.Z,{width:"md",name:"base_url",label:"Base URL",rules:[{required:!0,message:"\u8BF7\u8F93\u5165Base URL"}]})]}),(0,r.jsx)(P.Z,{name:["type"],children:function(g){var E=g.type;return E==="maas"&&(0,r.jsxs)(p.A.Group,{children:[(0,r.jsx)(u.Z.Password,{width:"md",name:"api_key",label:"API KEY",rules:[{required:!0,message:"\u8BF7\u8F93\u5165API KEY"}]}),(0,r.jsx)(_.Z,{width:"md",name:"temperature",label:"Temperature",min:.1,max:1,fieldProps:{precision:2},rules:[{required:!0,message:"\u8BF7\u8F93\u5165Temperature"}]}),(0,r.jsx)(h.Z,{width:"md",name:"stream",label:"Stream"})]})}}),(0,r.jsx)(p.A.Group,{children:(0,r.jsx)(u.Z,{width:"md",name:"desc",label:"\u5907\u6CE8",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5907\u6CE8"}]})}),(0,r.jsx)(b.Z,{orientation:"left",orientationMargin:"0",children:"Custom Fields"}),(0,r.jsx)(l.u,{name:"__customParamKeys",label:"",children:(0,r.jsxs)(a.UW,{children:[(0,r.jsx)(u.Z,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}]}),(0,r.jsx)(u.Z,{name:"value",label:"\u503C",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C"}]})]},"group")})]}),ae=[{title:"\u6A21\u578BID",dataIndex:"llm_id",hideInSearch:!0},{title:"\u6A21\u578B\u7C7B\u578B",dataIndex:"type",valueType:"select",valueEnum:{vllm:"vllm",maas:"maas",ollama:"ollama"}},{title:"\u6A21\u578B\u540D\u79F0",dataIndex:"model"},{title:"\u5907\u6CE8",dataIndex:"desc",hideInSearch:!0},{title:"\u521B\u5EFA\u8005",dataIndex:"creator"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(g,E){return[(0,r.jsx)(O.Y,{title:"\u7F16\u8F91",trigger:(0,r.jsx)(j.ZP,{type:"link",onClick:function(){return K(E)},children:"\u7F16\u8F91"}),autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},initialValues:te||{},submitTimeout:2e3,onFinish:function(){var R=s()(t()().mark(function G(B){return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return F.ZP.success("\u63D0\u4EA4\u6210\u529F"),L.abrupt("return",!0);case 2:case"end":return L.stop()}},G)}));return function(G){return R.apply(this,arguments)}}(),children:$},"edit_lll_config_form"),(0,r.jsx)("a",{onClick:function(){K(E)},children:"\u5220\u9664"},"delete")]}}];return(0,r.jsx)(C._z,{children:k?(0,r.jsx)(M.uk,{type:"descriptions"}):(0,r.jsx)(I.Z,{columns:ae,dataSource:S==null?void 0:S.llm_select,rowKey:"llm_id",search:!1,toolBarRender:function(){return[(0,r.jsx)(O.Y,{title:"\u65B0\u5EFA\u914D\u7F6E",trigger:(0,r.jsx)(j.ZP,{type:"primary",icon:(0,r.jsx)(c.Z,{}),onClick:function(){return K(null)},children:"\u65B0\u5EFA\u914D\u7F6E"}),autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},submitTimeout:2e3,onFinish:function(){var g=s()(t()().mark(function E(R){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F.ZP.success("\u63D0\u4EA4\u6210\u529F"),B.abrupt("return",!0);case 2:case"end":return B.stop()}},E)}));return function(E){return g.apply(this,arguments)}}(),children:$},"new_lll_config_form")]}})})},Q=H},32917:function(y,i){var e;e={value:!0},i.V=void 0;function o(n){return!Number.isNaN(Number(n))}function t(n){if(typeof n=="string"){if(o(n))return n;try{return t(JSON.parse(n))}catch(s){return n}}return Array.isArray(n)?n.map(s=>t(s)):typeof n=="object"&&n!==null?Object.keys(n).reduce((s,d)=>Object.assign(s,{[d]:t(n[d])}),{}):n}i.V=t}}]);
